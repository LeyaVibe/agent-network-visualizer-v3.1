# Расширенные функции визуализатора агентного моделирования

## Обзор новых возможностей

Визуализатор был значительно расширен в соответствии с функциональными требованиями. Теперь он включает:

### А. Векторное представление ✅

- **Произвольная размерность векторов**: 10, 50, 100, 300, 700, 1044 и пользовательские значения
- **Две категории векторов**:
  - Ценности агентов (values vectors)
  - Темы для обсуждения (topic vectors)
- **Импорт из таблиц**: Поддержка CSV и Excel файлов
- **Редактирование векторов**: Возможность ручного редактирования каждого вектора
- **Автогенерация**: Создание векторов на основе кластеров и сценариев

### Б. Импорт/экспорт ✅

**Импорт:**
- Ценности агентов (CSV/Excel таблицы)
- Темы для обсуждения (CSV/Excel таблицы)
- Полные конфигурации сценариев (JSON)

**Экспорт:**
- Матрица связей (симметричная и развернутая)
- Рисунки графов (PNG/JPEG/SVG/PDF)
- Настройки модели (JSON)
- Сводка результатов (Markdown/HTML/TXT)
- Детальная статистика (JSON)
- Полный экспорт всех данных

### В. Кластеры ✅

- **Настройка количества кластеров**: До 10 кластеров
- **Пересчет кластеров**: Автоматический пересчет через заданное количество циклов
- **История кластеризации**: Сохранение состояний с пометками (например, 5.1 → 10.1)
- **Методы кластеризации**: K-means, иерархическая, DBSCAN
- **Визуализация**: Интерактивные графики распределения и плотности

### Г. Статистика кластеров ✅

**Детальная статистика по каждому кластеру:**
- Плотность связей
- Количество хабов (агентов с высокой связностью)
- Межкластерные связи
- Внутрикластерные связи
- Размер и процентное соотношение

**Визуализация статистики:**
- Круговые диаграммы распределения агентов
- Столбчатые диаграммы плотности
- Графики межкластерных связей

### Д. Сценарии ✅

**Предустановленные сценарии:**
- Поиск консенсуса
- Поляризация мнений
- Эхо-камеры
- Информационный каскад

**Пользовательские сценарии:**
- Редактирование и создание новых сценариев
- Хранение и выбор сохраненных сценариев
- Автоматическая генерация тем при загрузке
- Пользовательская логика на JavaScript

**Векторизация текста:**
- Поддержка популярных моделей (TF-IDF, Word2Vec, Sentence Transformers)
- Интеграция с внешними API (OpenAI, Hugging Face)
- Автоматическое преобразование текста в семантические векторы

### Е. Визуализация мнений ✅

**Редактирование сценариев:**
- Указание числа тем
- Настройка близости к ценностям
- Распределение мнений по кластерам
- Загрузка полной матрицы мнений

**Интерфейс с вкладками:**
- Основные настройки
- Управление векторами
- Кластеризация
- Сценарии
- Результаты и анализ
- Экспорт данных

## Технические особенности

### Форматы ввода/вывода
- **CSV**: Основной формат для табличных данных
- **Excel**: Поддержка .xlsx и .xls файлов
- **JSON**: Конфигурации и полные экспорты
- **PNG/JPEG/SVG/PDF**: Графические экспорты

### Настройки симуляции
- Количество агентов: 10-300
- Количество циклов: 1-50
- Порог связи: 0.1-0.9
- Размерность векторов: 2-2000
- Количество кластеров: 2-10

### История моделирования
- Автоматическое сохранение состояний кластеризации
- Возможность загрузки предыдущих конфигураций
- Экспорт истории изменений

### Интерактивность
- Кликабельные агенты в визуализации
- Выпадающие меню для всех настроек
- Drag-and-drop для загрузки файлов
- Реальное время обновления параметров

## Архитектура компонентов

### Новые компоненты:
1. **VectorManager** - Управление векторами агентов и тем
2. **ClusterManager** - Кластеризация и статистика
3. **EnhancedScenarioManager** - Расширенные сценарии
4. **EnhancedExportManager** - Комплексный экспорт
5. **TextVectorizer** - Векторизация текста

### Интеграция:
- Все компоненты интегрированы в основное приложение
- Единое состояние для всех данных
- Реактивные обновления между компонентами
- Обработка ошибок на всех уровнях

## Использование

### Быстрый старт:
1. Выберите вкладку "Основные настройки" для базовой конфигурации
2. Перейдите в "Векторы" для загрузки или создания данных
3. Настройте кластеризацию в разделе "Кластеры"
4. Выберите или создайте сценарий в "Сценарии"
5. Запустите симуляцию
6. Анализируйте результаты в "Результаты"
7. Экспортируйте данные через "Экспорт"

### Расширенные возможности:
- Импорт реальных данных через CSV/Excel
- Создание пользовательских сценариев с JavaScript
- Векторизация текстовых описаний тем
- Детальный анализ кластерной структуры
- Экспорт в различных форматах для дальнейшего анализа

## Производительность

- Оптимизированная обработка больших наборов данных
- Ленивая загрузка компонентов
- Эффективная визуализация с D3.js
- Кэширование вычислений для быстрого отклика

## Совместимость

- Современные браузеры (Chrome, Firefox, Safari, Edge)
- Адаптивный дизайн для различных размеров экрана
- Поддержка сенсорных устройств
- Экспорт в стандартных форматах для совместимости

---
