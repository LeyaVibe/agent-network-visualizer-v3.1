function YB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ry={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function XB(){if(QE)return Kc;QE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Kc.Fragment=t,Kc.jsx=n,Kc.jsxs=n,Kc}var JE;function WB(){return JE||(JE=1,ry.exports=XB()),ry.exports}var p=WB(),iy={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function ZB(){if(eN)return Ze;eN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function b(F,X,W){this.props=F,this.context=X,this.refs=_,this.updater=W||x}b.prototype.isReactComponent={},b.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=b.prototype;function O(F,X,W){this.props=F,this.context=X,this.refs=_,this.updater=W||x}var T=O.prototype=new j;T.constructor=O,S(T,b.prototype),T.isPureReactComponent=!0;var E=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function R(F,X,W,Y,ee,se){return W=se.ref,{$$typeof:e,type:F,key:X,ref:W!==void 0?W:null,props:se}}function M(F,X){return R(F.type,X,void 0,void 0,void 0,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function B(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(W){return X[W]})}var D=/\/+/g;function I(F,X){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):X.toString(36)}function z(){}function L(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(X){F.status==="pending"&&(F.status="fulfilled",F.value=X)},function(X){F.status==="pending"&&(F.status="rejected",F.reason=X)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,X,W,Y,ee){var se=typeof F;(se==="undefined"||se==="boolean")&&(F=null);var re=!1;if(F===null)re=!0;else switch(se){case"bigint":case"string":case"number":re=!0;break;case"object":switch(F.$$typeof){case e:case t:re=!0;break;case m:return re=F._init,H(re(F._payload),X,W,Y,ee)}}if(re)return ee=ee(F),re=Y===""?"."+I(F,0):Y,E(ee)?(W="",re!=null&&(W=re.replace(D,"$&/")+"/"),H(ee,X,W,"",function(oe){return oe})):ee!=null&&(P(ee)&&(ee=M(ee,W+(ee.key==null||F&&F.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+re)),X.push(ee)),1;re=0;var de=Y===""?".":Y+":";if(E(F))for(var ge=0;ge<F.length;ge++)Y=F[ge],se=de+I(Y,ge),re+=H(Y,X,W,se,ee);else if(ge=y(F),typeof ge=="function")for(F=ge.call(F),ge=0;!(Y=F.next()).done;)Y=Y.value,se=de+I(Y,ge++),re+=H(Y,X,W,se,ee);else if(se==="object"){if(typeof F.then=="function")return H(L(F),X,W,Y,ee);throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return re}function k(F,X,W){if(F==null)return F;var Y=[],ee=0;return H(F,Y,"","",function(se){return X.call(W,se,ee++)}),Y}function U(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(W){(F._status===0||F._status===-1)&&(F._status=1,F._result=W)},function(W){(F._status===0||F._status===-1)&&(F._status=2,F._result=W)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var G=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function V(){}return Ze.Children={map:k,forEach:function(F,X,W){k(F,function(){X.apply(this,arguments)},W)},count:function(F){var X=0;return k(F,function(){X++}),X},toArray:function(F){return k(F,function(X){return X})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ze.Component=b,Ze.Fragment=n,Ze.Profiler=a,Ze.PureComponent=O,Ze.StrictMode=r,Ze.Suspense=d,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},Ze.cache=function(F){return function(){return F.apply(null,arguments)}},Ze.cloneElement=function(F,X,W){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Y=S({},F.props),ee=F.key,se=void 0;if(X!=null)for(re in X.ref!==void 0&&(se=void 0),X.key!==void 0&&(ee=""+X.key),X)!C.call(X,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&X.ref===void 0||(Y[re]=X[re]);var re=arguments.length-2;if(re===1)Y.children=W;else if(1<re){for(var de=Array(re),ge=0;ge<re;ge++)de[ge]=arguments[ge+2];Y.children=de}return R(F.type,ee,void 0,void 0,se,Y)},Ze.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Ze.createElement=function(F,X,W){var Y,ee={},se=null;if(X!=null)for(Y in X.key!==void 0&&(se=""+X.key),X)C.call(X,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=X[Y]);var re=arguments.length-2;if(re===1)ee.children=W;else if(1<re){for(var de=Array(re),ge=0;ge<re;ge++)de[ge]=arguments[ge+2];ee.children=de}if(F&&F.defaultProps)for(Y in re=F.defaultProps,re)ee[Y]===void 0&&(ee[Y]=re[Y]);return R(F,se,void 0,void 0,null,ee)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(F){return{$$typeof:u,render:F}},Ze.isValidElement=P,Ze.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:U}},Ze.memo=function(F,X){return{$$typeof:f,type:F,compare:X===void 0?null:X}},Ze.startTransition=function(F){var X=N.T,W={};N.T=W;try{var Y=F(),ee=N.S;ee!==null&&ee(W,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(V,G)}catch(se){G(se)}finally{N.T=X}},Ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ze.use=function(F){return N.H.use(F)},Ze.useActionState=function(F,X,W){return N.H.useActionState(F,X,W)},Ze.useCallback=function(F,X){return N.H.useCallback(F,X)},Ze.useContext=function(F){return N.H.useContext(F)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(F,X){return N.H.useDeferredValue(F,X)},Ze.useEffect=function(F,X,W){var Y=N.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(F,X)},Ze.useId=function(){return N.H.useId()},Ze.useImperativeHandle=function(F,X,W){return N.H.useImperativeHandle(F,X,W)},Ze.useInsertionEffect=function(F,X){return N.H.useInsertionEffect(F,X)},Ze.useLayoutEffect=function(F,X){return N.H.useLayoutEffect(F,X)},Ze.useMemo=function(F,X){return N.H.useMemo(F,X)},Ze.useOptimistic=function(F,X){return N.H.useOptimistic(F,X)},Ze.useReducer=function(F,X,W){return N.H.useReducer(F,X,W)},Ze.useRef=function(F){return N.H.useRef(F)},Ze.useState=function(F){return N.H.useState(F)},Ze.useSyncExternalStore=function(F,X,W){return N.H.useSyncExternalStore(F,X,W)},Ze.useTransition=function(){return N.H.useTransition()},Ze.version="19.1.1",Ze}var tN;function M_(){return tN||(tN=1,iy.exports=ZB()),iy.exports}var $=M_();const Z=vt($),Jk=YB({__proto__:null,default:Z},[$]);var ay={exports:{}},Yc={},oy={exports:{}},sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function QB(){return nN||(nN=1,(function(e){function t(k,U){var G=k.length;k.push(U);e:for(;0<G;){var V=G-1>>>1,F=k[V];if(0<a(F,U))k[V]=U,k[G]=F,G=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],G=k.pop();if(G!==U){k[0]=G;e:for(var V=0,F=k.length,X=F>>>1;V<X;){var W=2*(V+1)-1,Y=k[W],ee=W+1,se=k[ee];if(0>a(Y,G))ee<F&&0>a(se,Y)?(k[V]=se,k[ee]=G,V=ee):(k[V]=Y,k[W]=G,V=W);else if(ee<F&&0>a(se,G))k[V]=se,k[ee]=G,V=ee;else break e}}return U}function a(k,U){var G=k.sortIndex-U.sortIndex;return G!==0?G:k.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,y=3,x=!1,S=!1,_=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var U=n(f);U!==null;){if(U.callback===null)r(f);else if(U.startTime<=k)r(f),U.sortIndex=U.expirationTime,t(d,U);else break;U=n(f)}}function N(k){if(_=!1,E(k),!S)if(n(d)!==null)S=!0,C||(C=!0,I());else{var U=n(f);U!==null&&H(N,U.startTime-k)}}var C=!1,R=-1,M=5,P=-1;function B(){return b?!0:!(e.unstable_now()-P<M)}function D(){if(b=!1,C){var k=e.unstable_now();P=k;var U=!0;try{e:{S=!1,_&&(_=!1,O(R),R=-1),x=!0;var G=y;try{t:{for(E(k),g=n(d);g!==null&&!(g.expirationTime>k&&B());){var V=g.callback;if(typeof V=="function"){g.callback=null,y=g.priorityLevel;var F=V(g.expirationTime<=k);if(k=e.unstable_now(),typeof F=="function"){g.callback=F,E(k),U=!0;break t}g===n(d)&&r(d),E(k)}else r(d);g=n(d)}if(g!==null)U=!0;else{var X=n(f);X!==null&&H(N,X.startTime-k),U=!1}}break e}finally{g=null,y=G,x=!1}U=void 0}}finally{U?I():C=!1}}}var I;if(typeof T=="function")I=function(){T(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=D,I=function(){L.postMessage(null)}}else I=function(){j(D,0)};function H(k,U){R=j(function(){k(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(k){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var G=y;y=U;try{return k()}finally{y=G}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=y;y=k;try{return U()}finally{y=G}},e.unstable_scheduleCallback=function(k,U,G){var V=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?V+G:V):G=V,k){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,k={id:m++,callback:U,priorityLevel:k,startTime:G,expirationTime:F,sortIndex:-1},G>V?(k.sortIndex=G,t(f,k),n(d)===null&&k===n(f)&&(_?(O(R),R=-1):_=!0,H(N,G-V))):(k.sortIndex=F,t(d,k),S||x||(S=!0,C||(C=!0,I()))),k},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(k){var U=y;return function(){var G=y;y=U;try{return k.apply(this,arguments)}finally{y=G}}}})(sy)),sy}var rN;function JB(){return rN||(rN=1,oy.exports=QB()),oy.exports}var ly={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function eq(){if(iN)return _n;iN=1;var e=M_();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,m)},_n.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},_n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},_n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},_n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},_n.requestFormReset=function(d){r.d.r(d)},_n.unstable_batchedUpdates=function(d,f){return d(f)},_n.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var aN;function eD(){if(aN)return ly.exports;aN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ly.exports=eq(),ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function tq(){if(oN)return Yc;oN=1;var e=JB(),t=M_(),n=eD();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,v=c;;){var w=h.return;if(w===null)break;var A=w.alternate;if(A===null){if(v=w.return,v!==null){h=v;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===h)return u(w),o;if(A===v)return u(w),c;A=A.sibling}throw Error(r(188))}if(h.return!==v.return)h=w,v=A;else{for(var q=!1,K=w.child;K;){if(K===h){q=!0,h=w,v=A;break}if(K===v){q=!0,v=w,h=A;break}K=K.sibling}if(!q){for(K=A.child;K;){if(K===h){q=!0,h=A,v=w;break}if(K===v){q=!0,v=A,h=w;break}K=K.sibling}if(!q)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function L(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case b:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case T:return(o.displayName||"Context")+".Provider";case O:return(o._context.displayName||"Context")+".Consumer";case E:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return c=o.displayName||null,c!==null?c:L(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return L(o(c))}catch{}}return null}var H=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},V=[],F=-1;function X(o){return{current:o}}function W(o){0>F||(o.current=V[F],V[F]=null,F--)}function Y(o,c){F++,V[F]=o.current,o.current=c}var ee=X(null),se=X(null),re=X(null),de=X(null);function ge(o,c){switch(Y(re,c),Y(se,o),Y(ee,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?OE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=OE(c),o=EE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(ee),Y(ee,o)}function oe(){W(ee),W(se),W(re)}function le(o){o.memoizedState!==null&&Y(de,o);var c=ee.current,h=EE(c,o.type);c!==h&&(Y(se,o),Y(ee,h))}function fe(o){se.current===o&&(W(ee),W(se)),de.current===o&&(W(de),Uc._currentValue=G)}var ie=Object.prototype.hasOwnProperty,Ce=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,Q=e.unstable_shouldYield,ne=e.unstable_requestPaint,he=e.unstable_now,pe=e.unstable_getCurrentPriorityLevel,ye=e.unstable_ImmediatePriority,we=e.unstable_UserBlockingPriority,Oe=e.unstable_NormalPriority,je=e.unstable_LowPriority,Ne=e.unstable_IdlePriority,$e=e.log,et=e.unstable_setDisableYieldValue,ze=null,De=null;function Qe(o){if(typeof $e=="function"&&et(o),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(ze,o)}catch{}}var pt=Math.clz32?Math.clz32:cr,Mf=Math.log,ta=Math.LN2;function cr(o){return o>>>=0,o===0?32:31-(Mf(o)/ta|0)|0}var Vr=256,Ga=4194304;function Ka(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Rf(o,c,h){var v=o.pendingLanes;if(v===0)return 0;var w=0,A=o.suspendedLanes,q=o.pingedLanes;o=o.warmLanes;var K=v&134217727;return K!==0?(v=K&~A,v!==0?w=Ka(v):(q&=K,q!==0?w=Ka(q):h||(h=K&~o,h!==0&&(w=Ka(h))))):(K=v&~A,K!==0?w=Ka(K):q!==0?w=Ka(q):h||(h=v&~o,h!==0&&(w=Ka(h)))),w===0?0:c!==0&&c!==w&&(c&A)===0&&(A=w&-w,h=c&-c,A>=h||A===32&&(h&4194048)!==0)?c:w}function Zl(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Dz(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cj(){var o=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),o}function uj(){var o=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),o}function Gm(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Ql(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $z(o,c,h,v,w,A){var q=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var K=o.entanglements,J=o.expirationTimes,ue=o.hiddenUpdates;for(h=q&~h;0<h;){var be=31-pt(h),Se=1<<be;K[be]=0,J[be]=-1;var me=ue[be];if(me!==null)for(ue[be]=null,be=0;be<me.length;be++){var ve=me[be];ve!==null&&(ve.lane&=-536870913)}h&=~Se}v!==0&&fj(o,v,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(q&~c))}function fj(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-pt(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|h&4194090}function dj(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var v=31-pt(h),w=1<<v;w&c|o[v]&c&&(o[v]|=c),h&=~w}}function Km(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ym(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function hj(){var o=U.p;return o!==0?o:(o=window.event,o===void 0?32:GE(o.type))}function Iz(o,c){var h=U.p;try{return U.p=o,c()}finally{U.p=h}}var na=Math.random().toString(36).slice(2),bn="__reactFiber$"+na,In="__reactProps$"+na,Vo="__reactContainer$"+na,Xm="__reactEvents$"+na,Lz="__reactListeners$"+na,zz="__reactHandles$"+na,pj="__reactResources$"+na,Jl="__reactMarker$"+na;function Wm(o){delete o[bn],delete o[In],delete o[Xm],delete o[Lz],delete o[zz]}function Go(o){var c=o[bn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Vo]||h[bn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=ME(o);o!==null;){if(h=o[bn])return h;o=ME(o)}return c}o=h,h=o.parentNode}return null}function Ko(o){if(o=o[bn]||o[Vo]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function ec(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Yo(o){var c=o[pj];return c||(c=o[pj]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function on(o){o[Jl]=!0}var mj=new Set,vj={};function Ya(o,c){Xo(o,c),Xo(o+"Capture",c)}function Xo(o,c){for(vj[o]=c,o=0;o<c.length;o++)mj.add(c[o])}var Bz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gj={},yj={};function qz(o){return ie.call(yj,o)?!0:ie.call(gj,o)?!1:Bz.test(o)?yj[o]=!0:(gj[o]=!0,!1)}function Pf(o,c,h){if(qz(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function kf(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function yi(o,c,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+v)}}var Zm,xj;function Wo(o){if(Zm===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Zm=c&&c[1]||"",xj=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zm+o+xj}var Qm=!1;function Jm(o,c){if(!o||Qm)return"";Qm=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ve){var me=ve}Reflect.construct(o,[],Se)}else{try{Se.call()}catch(ve){me=ve}o.call(Se.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Se=o())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),q=A[0],K=A[1];if(q&&K){var J=q.split(`
`),ue=K.split(`
`);for(w=v=0;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;for(;w<ue.length&&!ue[w].includes("DetermineComponentFrameRoot");)w++;if(v===J.length||w===ue.length)for(v=J.length-1,w=ue.length-1;1<=v&&0<=w&&J[v]!==ue[w];)w--;for(;1<=v&&0<=w;v--,w--)if(J[v]!==ue[w]){if(v!==1||w!==1)do if(v--,w--,0>w||J[v]!==ue[w]){var be=`
`+J[v].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=v&&0<=w);break}}}finally{Qm=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Wo(h):""}function Uz(o){switch(o.tag){case 26:case 27:case 5:return Wo(o.type);case 16:return Wo("Lazy");case 13:return Wo("Suspense");case 19:return Wo("SuspenseList");case 0:case 15:return Jm(o.type,!1);case 11:return Jm(o.type.render,!1);case 1:return Jm(o.type,!0);case 31:return Wo("Activity");default:return""}}function bj(o){try{var c="";do c+=Uz(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ur(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wj(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Fz(o){var c=wj(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,A=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(q){v=""+q,A.call(this,q)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(q){v=""+q},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Df(o){o._valueTracker||(o._valueTracker=Fz(o))}function _j(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return o&&(v=wj(o)?o.checked?"true":"false":o.value),o=v,o!==h?(c.setValue(o),!0):!1}function $f(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Hz=/[\n"\\]/g;function fr(o){return o.replace(Hz,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ev(o,c,h,v,w,A,q,K){o.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.type=q:o.removeAttribute("type"),c!=null?q==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ur(c)):o.value!==""+ur(c)&&(o.value=""+ur(c)):q!=="submit"&&q!=="reset"||o.removeAttribute("value"),c!=null?tv(o,q,ur(c)):h!=null?tv(o,q,ur(h)):v!=null&&o.removeAttribute("value"),w==null&&A!=null&&(o.defaultChecked=!!A),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+ur(K):o.removeAttribute("name")}function Sj(o,c,h,v,w,A,q,K){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),c!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||c!=null))return;h=h!=null?""+ur(h):"",c=c!=null?""+ur(c):h,K||c===o.value||(o.value=c),o.defaultValue=c}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=K?o.checked:!!v,o.defaultChecked=!!v,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(o.name=q)}function tv(o,c,h){c==="number"&&$f(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Zo(o,c,h,v){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&v&&(o[h].defaultSelected=!0)}else{for(h=""+ur(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,v&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function jj(o,c,h){if(c!=null&&(c=""+ur(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ur(h):""}function Aj(o,c,h,v){if(c==null){if(v!=null){if(h!=null)throw Error(r(92));if(H(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),c=h}h=ur(c),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v)}function Qo(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Vz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oj(o,c,h){var v=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,h):typeof h!="number"||h===0||Vz.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Ej(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var w in c)v=c[w],c.hasOwnProperty(w)&&h[w]!==v&&Oj(o,w,v)}else for(var A in c)c.hasOwnProperty(A)&&Oj(o,A,c[A])}function nv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function If(o){return Kz.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var rv=null;function iv(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jo=null,es=null;function Nj(o){var c=Ko(o);if(c&&(o=c.stateNode)){var h=o[In]||null;e:switch(o=c.stateNode,c.type){case"input":if(ev(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+fr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==o&&v.form===o.form){var w=v[In]||null;if(!w)throw Error(r(90));ev(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)v=h[c],v.form===o.form&&_j(v)}break e;case"textarea":jj(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Zo(o,!!h.multiple,c,!1)}}}var av=!1;function Cj(o,c,h){if(av)return o(c,h);av=!0;try{var v=o(c);return v}finally{if(av=!1,(Jo!==null||es!==null)&&(_d(),Jo&&(c=Jo,o=es,es=Jo=null,Nj(c),o)))for(c=0;c<o.length;c++)Nj(o[c])}}function tc(o,c){var h=o.stateNode;if(h===null)return null;var v=h[In]||null;if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=!1;if(xi)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){ov=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{ov=!1}var ra=null,sv=null,Lf=null;function Tj(){if(Lf)return Lf;var o,c=sv,h=c.length,v,w="value"in ra?ra.value:ra.textContent,A=w.length;for(o=0;o<h&&c[o]===w[o];o++);var q=h-o;for(v=1;v<=q&&c[h-v]===w[A-v];v++);return Lf=w.slice(o,1<v?1-v:void 0)}function zf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Bf(){return!0}function Mj(){return!1}function Ln(o){function c(h,v,w,A,q){this._reactName=h,this._targetInst=w,this.type=v,this.nativeEvent=A,this.target=q,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(A):A[K]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Bf:Mj,this.isPropagationStopped=Mj,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),c}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qf=Ln(Xa),rc=m({},Xa,{view:0,detail:0}),Yz=Ln(rc),lv,cv,ic,Uf=m({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ic&&(ic&&o.type==="mousemove"?(lv=o.screenX-ic.screenX,cv=o.screenY-ic.screenY):cv=lv=0,ic=o),lv)},movementY:function(o){return"movementY"in o?o.movementY:cv}}),Rj=Ln(Uf),Xz=m({},Uf,{dataTransfer:0}),Wz=Ln(Xz),Zz=m({},rc,{relatedTarget:0}),uv=Ln(Zz),Qz=m({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jz=Ln(Qz),e5=m({},Xa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),t5=Ln(e5),n5=m({},Xa,{data:0}),Pj=Ln(n5),r5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o5(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=a5[o])?!!c[o]:!1}function fv(){return o5}var s5=m({},rc,{key:function(o){if(o.key){var c=r5[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=zf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?i5[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(o){return o.type==="keypress"?zf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?zf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),l5=Ln(s5),c5=m({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kj=Ln(c5),u5=m({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),f5=Ln(u5),d5=m({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),h5=Ln(d5),p5=m({},Uf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),m5=Ln(p5),v5=m({},Xa,{newState:0,oldState:0}),g5=Ln(v5),y5=[9,13,27,32],dv=xi&&"CompositionEvent"in window,ac=null;xi&&"documentMode"in document&&(ac=document.documentMode);var x5=xi&&"TextEvent"in window&&!ac,Dj=xi&&(!dv||ac&&8<ac&&11>=ac),$j=" ",Ij=!1;function Lj(o,c){switch(o){case"keyup":return y5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zj(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ts=!1;function b5(o,c){switch(o){case"compositionend":return zj(c);case"keypress":return c.which!==32?null:(Ij=!0,$j);case"textInput":return o=c.data,o===$j&&Ij?null:o;default:return null}}function w5(o,c){if(ts)return o==="compositionend"||!dv&&Lj(o,c)?(o=Tj(),Lf=sv=ra=null,ts=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Dj&&c.locale!=="ko"?null:c.data;default:return null}}var _5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bj(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!_5[o.type]:c==="textarea"}function qj(o,c,h,v){Jo?es?es.push(v):es=[v]:Jo=v,c=Nd(c,"onChange"),0<c.length&&(h=new qf("onChange","change",null,h,v),o.push({event:h,listeners:c}))}var oc=null,sc=null;function S5(o){wE(o,0)}function Ff(o){var c=ec(o);if(_j(c))return o}function Uj(o,c){if(o==="change")return c}var Fj=!1;if(xi){var hv;if(xi){var pv="oninput"in document;if(!pv){var Hj=document.createElement("div");Hj.setAttribute("oninput","return;"),pv=typeof Hj.oninput=="function"}hv=pv}else hv=!1;Fj=hv&&(!document.documentMode||9<document.documentMode)}function Vj(){oc&&(oc.detachEvent("onpropertychange",Gj),sc=oc=null)}function Gj(o){if(o.propertyName==="value"&&Ff(sc)){var c=[];qj(c,sc,o,iv(o)),Cj(S5,c)}}function j5(o,c,h){o==="focusin"?(Vj(),oc=c,sc=h,oc.attachEvent("onpropertychange",Gj)):o==="focusout"&&Vj()}function A5(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ff(sc)}function O5(o,c){if(o==="click")return Ff(c)}function E5(o,c){if(o==="input"||o==="change")return Ff(c)}function N5(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yn=typeof Object.is=="function"?Object.is:N5;function lc(o,c){if(Yn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var w=h[v];if(!ie.call(c,w)||!Yn(o[w],c[w]))return!1}return!0}function Kj(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Yj(o,c){var h=Kj(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=c&&v>=c)return{node:h,offset:c-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Kj(h)}}function Xj(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Xj(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Wj(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=$f(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=$f(o.document)}return c}function mv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var C5=xi&&"documentMode"in document&&11>=document.documentMode,ns=null,vv=null,cc=null,gv=!1;function Zj(o,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;gv||ns==null||ns!==$f(v)||(v=ns,"selectionStart"in v&&mv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),cc&&lc(cc,v)||(cc=v,v=Nd(vv,"onSelect"),0<v.length&&(c=new qf("onSelect","select",null,c,h),o.push({event:c,listeners:v}),c.target=ns)))}function Wa(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var rs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},yv={},Qj={};xi&&(Qj=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Za(o){if(yv[o])return yv[o];if(!rs[o])return o;var c=rs[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Qj)return yv[o]=c[h];return o}var Jj=Za("animationend"),eA=Za("animationiteration"),tA=Za("animationstart"),T5=Za("transitionrun"),M5=Za("transitionstart"),R5=Za("transitioncancel"),nA=Za("transitionend"),rA=new Map,xv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xv.push("scrollEnd");function Tr(o,c){rA.set(o,c),Ya(c,[o])}var iA=new WeakMap;function dr(o,c){if(typeof o=="object"&&o!==null){var h=iA.get(o);return h!==void 0?h:(c={value:o,source:c,stack:bj(c)},iA.set(o,c),c)}return{value:o,source:c,stack:bj(c)}}var hr=[],is=0,bv=0;function Hf(){for(var o=is,c=bv=is=0;c<o;){var h=hr[c];hr[c++]=null;var v=hr[c];hr[c++]=null;var w=hr[c];hr[c++]=null;var A=hr[c];if(hr[c++]=null,v!==null&&w!==null){var q=v.pending;q===null?w.next=w:(w.next=q.next,q.next=w),v.pending=w}A!==0&&aA(h,w,A)}}function Vf(o,c,h,v){hr[is++]=o,hr[is++]=c,hr[is++]=h,hr[is++]=v,bv|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function wv(o,c,h,v){return Vf(o,c,h,v),Gf(o)}function as(o,c){return Vf(o,null,null,c),Gf(o)}function aA(o,c,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var w=!1,A=o.return;A!==null;)A.childLanes|=h,v=A.alternate,v!==null&&(v.childLanes|=h),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&c!==null&&(w=31-pt(h),o=A.hiddenUpdates,v=o[w],v===null?o[w]=[c]:v.push(c),c.lane=h|536870912),A):null}function Gf(o){if(50<kc)throw kc=0,Eg=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var os={};function P5(o,c,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(o,c,h,v){return new P5(o,c,h,v)}function _v(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bi(o,c){var h=o.alternate;return h===null?(h=Xn(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function oA(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Kf(o,c,h,v,w,A){var q=0;if(v=o,typeof o=="function")_v(o)&&(q=1);else if(typeof o=="string")q=DB(o,h,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Xn(31,h,c,w),o.elementType=P,o.lanes=A,o;case S:return Qa(h.children,w,A,c);case _:q=8,w|=24;break;case b:return o=Xn(12,h,c,w|2),o.elementType=b,o.lanes=A,o;case N:return o=Xn(13,h,c,w),o.elementType=N,o.lanes=A,o;case C:return o=Xn(19,h,c,w),o.elementType=C,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:case T:q=10;break e;case O:q=9;break e;case E:q=11;break e;case R:q=14;break e;case M:q=16,v=null;break e}q=29,h=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Xn(q,h,c,w),c.elementType=o,c.type=v,c.lanes=A,c}function Qa(o,c,h,v){return o=Xn(7,o,v,c),o.lanes=h,o}function Sv(o,c,h){return o=Xn(6,o,null,c),o.lanes=h,o}function jv(o,c,h){return c=Xn(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var ss=[],ls=0,Yf=null,Xf=0,pr=[],mr=0,Ja=null,wi=1,_i="";function eo(o,c){ss[ls++]=Xf,ss[ls++]=Yf,Yf=o,Xf=c}function sA(o,c,h){pr[mr++]=wi,pr[mr++]=_i,pr[mr++]=Ja,Ja=o;var v=wi;o=_i;var w=32-pt(v)-1;v&=~(1<<w),h+=1;var A=32-pt(c)+w;if(30<A){var q=w-w%5;A=(v&(1<<q)-1).toString(32),v>>=q,w-=q,wi=1<<32-pt(c)+w|h<<w|v,_i=A+o}else wi=1<<A|h<<w|v,_i=o}function Av(o){o.return!==null&&(eo(o,1),sA(o,1,0))}function Ov(o){for(;o===Yf;)Yf=ss[--ls],ss[ls]=null,Xf=ss[--ls],ss[ls]=null;for(;o===Ja;)Ja=pr[--mr],pr[mr]=null,_i=pr[--mr],pr[mr]=null,wi=pr[--mr],pr[mr]=null}var On=null,Ut=null,mt=!1,to=null,Gr=!1,Ev=Error(r(519));function no(o){var c=Error(r(418,""));throw dc(dr(c,o)),Ev}function lA(o){var c=o.stateNode,h=o.type,v=o.memoizedProps;switch(c[bn]=o,c[In]=v,h){case"dialog":at("cancel",c),at("close",c);break;case"iframe":case"object":case"embed":at("load",c);break;case"video":case"audio":for(h=0;h<$c.length;h++)at($c[h],c);break;case"source":at("error",c);break;case"img":case"image":case"link":at("error",c),at("load",c);break;case"details":at("toggle",c);break;case"input":at("invalid",c),Sj(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Df(c);break;case"select":at("invalid",c);break;case"textarea":at("invalid",c),Aj(c,v.value,v.defaultValue,v.children),Df(c)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||v.suppressHydrationWarning===!0||AE(c.textContent,h)?(v.popover!=null&&(at("beforetoggle",c),at("toggle",c)),v.onScroll!=null&&at("scroll",c),v.onScrollEnd!=null&&at("scrollend",c),v.onClick!=null&&(c.onclick=Cd),c=!0):c=!1,c||no(o)}function cA(o){for(On=o.return;On;)switch(On.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:On=On.return}}function uc(o){if(o!==On)return!1;if(!mt)return cA(o),mt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Fg(o.type,o.memoizedProps)),h=!h),h&&Ut&&no(o),cA(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){Ut=Rr(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}Ut=null}}else c===27?(c=Ut,xa(o.type)?(o=Kg,Kg=null,Ut=o):Ut=c):Ut=On?Rr(o.stateNode.nextSibling):null;return!0}function fc(){Ut=On=null,mt=!1}function uA(){var o=to;return o!==null&&(qn===null?qn=o:qn.push.apply(qn,o),to=null),o}function dc(o){to===null?to=[o]:to.push(o)}var Nv=X(null),ro=null,Si=null;function ia(o,c,h){Y(Nv,c._currentValue),c._currentValue=h}function ji(o){o._currentValue=Nv.current,W(Nv)}function Cv(o,c,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===h)break;o=o.return}}function Tv(o,c,h,v){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var q=w.child;A=A.firstContext;e:for(;A!==null;){var K=A;A=w;for(var J=0;J<c.length;J++)if(K.context===c[J]){A.lanes|=h,K=A.alternate,K!==null&&(K.lanes|=h),Cv(A.return,h,o),v||(q=null);break e}A=K.next}}else if(w.tag===18){if(q=w.return,q===null)throw Error(r(341));q.lanes|=h,A=q.alternate,A!==null&&(A.lanes|=h),Cv(q,h,o),q=null}else q=w.child;if(q!==null)q.return=w;else for(q=w;q!==null;){if(q===o){q=null;break}if(w=q.sibling,w!==null){w.return=q.return,q=w;break}q=q.return}w=q}}function hc(o,c,h,v){o=null;for(var w=c,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var q=w.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var K=w.type;Yn(w.pendingProps.value,q.value)||(o!==null?o.push(K):o=[K])}}else if(w===de.current){if(q=w.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Uc):o=[Uc])}w=w.return}o!==null&&Tv(c,o,h,v),c.flags|=262144}function Wf(o){for(o=o.firstContext;o!==null;){if(!Yn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function io(o){ro=o,Si=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function wn(o){return fA(ro,o)}function Zf(o,c){return ro===null&&io(o),fA(o,c)}function fA(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Si===null){if(o===null)throw Error(r(308));Si=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Si=Si.next=c;return h}var k5=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},D5=e.unstable_scheduleCallback,$5=e.unstable_NormalPriority,Zt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mv(){return{controller:new k5,data:new Map,refCount:0}}function pc(o){o.refCount--,o.refCount===0&&D5($5,function(){o.controller.abort()})}var mc=null,Rv=0,cs=0,us=null;function I5(o,c){if(mc===null){var h=mc=[];Rv=0,cs=kg(),us={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Rv++,c.then(dA,dA),c}function dA(){if(--Rv===0&&mc!==null){us!==null&&(us.status="fulfilled");var o=mc;mc=null,cs=0,us=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function L5(o,c){var h=[],v={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(v.status="rejected",v.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),v}var hA=k.S;k.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&I5(o,c),hA!==null&&hA(o,c)};var ao=X(null);function Pv(){var o=ao.current;return o!==null?o:Tt.pooledCache}function Qf(o,c){c===null?Y(ao,ao.current):Y(ao,c.pool)}function pA(){var o=Pv();return o===null?null:{parent:Zt._currentValue,pool:o}}var vc=Error(r(460)),mA=Error(r(474)),Jf=Error(r(542)),kv={then:function(){}};function vA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ed(){}function gA(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ed,ed),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xA(o),o;default:if(typeof c.status=="string")c.then(ed,ed);else{if(o=Tt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=v}},function(v){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xA(o),o}throw gc=c,vc}}var gc=null;function yA(){if(gc===null)throw Error(r(459));var o=gc;return gc=null,o}function xA(o){if(o===vc||o===Jf)throw Error(r(483))}var aa=!1;function Dv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $v(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function oa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function sa(o,c,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(xt&2)!==0){var w=v.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),v.pending=c,c=Gf(o),aA(o,null,h),c}return Vf(o,v,c,h),Gf(o)}function yc(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,h|=v,c.lanes=h,dj(o,h)}}function Iv(o,c){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var w=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var q={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?w=A=q:A=A.next=q,h=h.next}while(h!==null);A===null?w=A=c:A=A.next=c}else w=A=c;h={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Lv=!1;function xc(){if(Lv){var o=us;if(o!==null)throw o}}function bc(o,c,h,v){Lv=!1;var w=o.updateQueue;aa=!1;var A=w.firstBaseUpdate,q=w.lastBaseUpdate,K=w.shared.pending;if(K!==null){w.shared.pending=null;var J=K,ue=J.next;J.next=null,q===null?A=ue:q.next=ue,q=J;var be=o.alternate;be!==null&&(be=be.updateQueue,K=be.lastBaseUpdate,K!==q&&(K===null?be.firstBaseUpdate=ue:K.next=ue,be.lastBaseUpdate=J))}if(A!==null){var Se=w.baseState;q=0,be=ue=J=null,K=A;do{var me=K.lane&-536870913,ve=me!==K.lane;if(ve?(lt&me)===me:(v&me)===me){me!==0&&me===cs&&(Lv=!0),be!==null&&(be=be.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Ve=o,qe=K;me=c;var jt=h;switch(qe.tag){case 1:if(Ve=qe.payload,typeof Ve=="function"){Se=Ve.call(jt,Se,me);break e}Se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=qe.payload,me=typeof Ve=="function"?Ve.call(jt,Se,me):Ve,me==null)break e;Se=m({},Se,me);break e;case 2:aa=!0}}me=K.callback,me!==null&&(o.flags|=64,ve&&(o.flags|=8192),ve=w.callbacks,ve===null?w.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:K.tag,payload:K.payload,callback:K.callback,next:null},be===null?(ue=be=ve,J=Se):be=be.next=ve,q|=me;if(K=K.next,K===null){if(K=w.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,w.lastBaseUpdate=ve,w.shared.pending=null}}while(!0);be===null&&(J=Se),w.baseState=J,w.firstBaseUpdate=ue,w.lastBaseUpdate=be,A===null&&(w.shared.lanes=0),ma|=q,o.lanes=q,o.memoizedState=Se}}function bA(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function wA(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)bA(h[o],c)}var fs=X(null),td=X(0);function _A(o,c){o=Mi,Y(td,o),Y(fs,c),Mi=o|c.baseLanes}function zv(){Y(td,Mi),Y(fs,fs.current)}function Bv(){Mi=td.current,W(fs),W(td)}var la=0,tt=null,_t=null,Kt=null,nd=!1,ds=!1,oo=!1,rd=0,wc=0,hs=null,z5=0;function Vt(){throw Error(r(321))}function qv(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Yn(o[h],c[h]))return!1;return!0}function Uv(o,c,h,v,w,A){return la=A,tt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,k.H=o===null||o.memoizedState===null?aO:oO,oo=!1,A=h(v,w),oo=!1,ds&&(A=jA(c,h,v,w)),SA(o),A}function SA(o){k.H=cd;var c=_t!==null&&_t.next!==null;if(la=0,Kt=_t=tt=null,nd=!1,wc=0,hs=null,c)throw Error(r(300));o===null||sn||(o=o.dependencies,o!==null&&Wf(o)&&(sn=!0))}function jA(o,c,h,v){tt=o;var w=0;do{if(ds&&(hs=null),wc=0,ds=!1,25<=w)throw Error(r(301));if(w+=1,Kt=_t=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}k.H=G5,A=c(h,v)}while(ds);return A}function B5(){var o=k.H,c=o.useState()[0];return c=typeof c.then=="function"?_c(c):c,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(tt.flags|=1024),c}function Fv(){var o=rd!==0;return rd=0,o}function Hv(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Vv(o){if(nd){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}nd=!1}la=0,Kt=_t=tt=null,ds=!1,wc=rd=0,hs=null}function zn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?tt.memoizedState=Kt=o:Kt=Kt.next=o,Kt}function Yt(){if(_t===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var c=Kt===null?tt.memoizedState:Kt.next;if(c!==null)Kt=c,_t=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Kt===null?tt.memoizedState=Kt=o:Kt=Kt.next=o}return Kt}function Gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(o){var c=wc;return wc+=1,hs===null&&(hs=[]),o=gA(hs,o,c),c=tt,(Kt===null?c.memoizedState:Kt.next)===null&&(c=c.alternate,k.H=c===null||c.memoizedState===null?aO:oO),o}function id(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return _c(o);if(o.$$typeof===T)return wn(o)}throw Error(r(438,String(o)))}function Kv(o){var c=null,h=tt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var v=tt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Gv(),tt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),v=0;v<o;v++)h[v]=B;return c.index++,h}function Ai(o,c){return typeof c=="function"?c(o):c}function ad(o){var c=Yt();return Yv(c,_t,o)}function Yv(o,c,h){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var w=o.baseQueue,A=v.pending;if(A!==null){if(w!==null){var q=w.next;w.next=A.next,A.next=q}c.baseQueue=w=A,v.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{c=w.next;var K=q=null,J=null,ue=c,be=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(lt&Se)===Se:(la&Se)===Se){var me=ue.revertLane;if(me===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===cs&&(be=!0);else if((la&me)===me){ue=ue.next,me===cs&&(be=!0);continue}else Se={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(K=J=Se,q=A):J=J.next=Se,tt.lanes|=me,ma|=me;Se=ue.action,oo&&h(A,Se),A=ue.hasEagerState?ue.eagerState:h(A,Se)}else me={lane:Se,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(K=J=me,q=A):J=J.next=me,tt.lanes|=Se,ma|=Se;ue=ue.next}while(ue!==null&&ue!==c);if(J===null?q=A:J.next=K,!Yn(A,o.memoizedState)&&(sn=!0,be&&(h=us,h!==null)))throw h;o.memoizedState=A,o.baseState=q,o.baseQueue=J,v.lastRenderedState=A}return w===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Xv(o){var c=Yt(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var v=h.dispatch,w=h.pending,A=c.memoizedState;if(w!==null){h.pending=null;var q=w=w.next;do A=o(A,q.action),q=q.next;while(q!==w);Yn(A,c.memoizedState)||(sn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,v]}function AA(o,c,h){var v=tt,w=Yt(),A=mt;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=c();var q=!Yn((_t||w).memoizedState,h);q&&(w.memoizedState=h,sn=!0),w=w.queue;var K=NA.bind(null,v,w,o);if(Sc(2048,8,K,[o]),w.getSnapshot!==c||q||Kt!==null&&Kt.memoizedState.tag&1){if(v.flags|=2048,ps(9,od(),EA.bind(null,v,w,h,c),null),Tt===null)throw Error(r(349));A||(la&124)!==0||OA(v,c,h)}return h}function OA(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=tt.updateQueue,c===null?(c=Gv(),tt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function EA(o,c,h,v){c.value=h,c.getSnapshot=v,CA(c)&&TA(o)}function NA(o,c,h){return h(function(){CA(c)&&TA(o)})}function CA(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Yn(o,h)}catch{return!0}}function TA(o){var c=as(o,2);c!==null&&er(c,o,2)}function Wv(o){var c=zn();if(typeof o=="function"){var h=o;if(o=h(),oo){Qe(!0);try{h()}finally{Qe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},c}function MA(o,c,h,v){return o.baseState=h,Yv(o,_t,typeof v=="function"?v:Ai)}function q5(o,c,h,v,w){if(ld(o))throw Error(r(485));if(o=c.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){A.listeners.push(q)}};k.T!==null?h(!0):A.isTransition=!1,v(A),h=c.pending,h===null?(A.next=c.pending=A,RA(c,A)):(A.next=h.next,c.pending=h.next=A)}}function RA(o,c){var h=c.action,v=c.payload,w=o.state;if(c.isTransition){var A=k.T,q={};k.T=q;try{var K=h(w,v),J=k.S;J!==null&&J(q,K),PA(o,c,K)}catch(ue){Zv(o,c,ue)}finally{k.T=A}}else try{A=h(w,v),PA(o,c,A)}catch(ue){Zv(o,c,ue)}}function PA(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){kA(o,c,v)},function(v){return Zv(o,c,v)}):kA(o,c,h)}function kA(o,c,h){c.status="fulfilled",c.value=h,DA(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,RA(o,h)))}function Zv(o,c,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=h,DA(c),c=c.next;while(c!==v)}o.action=null}function DA(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $A(o,c){return c}function IA(o,c){if(mt){var h=Tt.formState;if(h!==null){e:{var v=tt;if(mt){if(Ut){t:{for(var w=Ut,A=Gr;w.nodeType!==8;){if(!A){w=null;break t}if(w=Rr(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){Ut=Rr(w.nextSibling),v=w.data==="F!";break e}}no(v)}v=!1}v&&(c=h[0])}}return h=zn(),h.memoizedState=h.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$A,lastRenderedState:c},h.queue=v,h=nO.bind(null,tt,v),v.dispatch=h,v=Wv(!1),A=ng.bind(null,tt,!1,v.queue),v=zn(),w={state:c,dispatch:null,action:o,pending:null},v.queue=w,h=q5.bind(null,tt,w,A,h),w.dispatch=h,v.memoizedState=o,[c,h,!1]}function LA(o){var c=Yt();return zA(c,_t,o)}function zA(o,c,h){if(c=Yv(o,c,$A)[0],o=ad(Ai)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=_c(c)}catch(q){throw q===vc?Jf:q}else v=c;c=Yt();var w=c.queue,A=w.dispatch;return h!==c.memoizedState&&(tt.flags|=2048,ps(9,od(),U5.bind(null,w,h),null)),[v,A,o]}function U5(o,c){o.action=c}function BA(o){var c=Yt(),h=_t;if(h!==null)return zA(c,h,o);Yt(),c=c.memoizedState,h=Yt();var v=h.queue.dispatch;return h.memoizedState=o,[c,v,!1]}function ps(o,c,h,v){return o={tag:o,create:h,deps:v,inst:c,next:null},c=tt.updateQueue,c===null&&(c=Gv(),tt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,c.lastEffect=o),o}function od(){return{destroy:void 0,resource:void 0}}function qA(){return Yt().memoizedState}function sd(o,c,h,v){var w=zn();v=v===void 0?null:v,tt.flags|=o,w.memoizedState=ps(1|c,od(),h,v)}function Sc(o,c,h,v){var w=Yt();v=v===void 0?null:v;var A=w.memoizedState.inst;_t!==null&&v!==null&&qv(v,_t.memoizedState.deps)?w.memoizedState=ps(c,A,h,v):(tt.flags|=o,w.memoizedState=ps(1|c,A,h,v))}function UA(o,c){sd(8390656,8,o,c)}function FA(o,c){Sc(2048,8,o,c)}function HA(o,c){return Sc(4,2,o,c)}function VA(o,c){return Sc(4,4,o,c)}function GA(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function KA(o,c,h){h=h!=null?h.concat([o]):null,Sc(4,4,GA.bind(null,c,o),h)}function Qv(){}function YA(o,c){var h=Yt();c=c===void 0?null:c;var v=h.memoizedState;return c!==null&&qv(c,v[1])?v[0]:(h.memoizedState=[o,c],o)}function XA(o,c){var h=Yt();c=c===void 0?null:c;var v=h.memoizedState;if(c!==null&&qv(c,v[1]))return v[0];if(v=o(),oo){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[v,c],v}function Jv(o,c,h){return h===void 0||(la&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=QO(),tt.lanes|=o,ma|=o,h)}function WA(o,c,h,v){return Yn(h,c)?h:fs.current!==null?(o=Jv(o,h,v),Yn(o,c)||(sn=!0),o):(la&42)===0?(sn=!0,o.memoizedState=h):(o=QO(),tt.lanes|=o,ma|=o,c)}function ZA(o,c,h,v,w){var A=U.p;U.p=A!==0&&8>A?A:8;var q=k.T,K={};k.T=K,ng(o,!1,c,h);try{var J=w(),ue=k.S;if(ue!==null&&ue(K,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=L5(J,v);jc(o,c,be,Jn(o))}else jc(o,c,v,Jn(o))}catch(Se){jc(o,c,{then:function(){},status:"rejected",reason:Se},Jn())}finally{U.p=A,k.T=q}}function F5(){}function eg(o,c,h,v){if(o.tag!==5)throw Error(r(476));var w=QA(o).queue;ZA(o,w,c,G,h===null?F5:function(){return JA(o),h(v)})}function QA(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:G},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function JA(o){var c=QA(o).next.queue;jc(o,c,{},Jn())}function tg(){return wn(Uc)}function eO(){return Yt().memoizedState}function tO(){return Yt().memoizedState}function H5(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Jn();o=oa(h);var v=sa(c,o,h);v!==null&&(er(v,c,h),yc(v,c,h)),c={cache:Mv()},o.payload=c;return}c=c.return}}function V5(o,c,h){var v=Jn();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ld(o)?rO(c,h):(h=wv(o,c,h,v),h!==null&&(er(h,o,v),iO(h,c,v)))}function nO(o,c,h){var v=Jn();jc(o,c,h,v)}function jc(o,c,h,v){var w={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ld(o))rO(c,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var q=c.lastRenderedState,K=A(q,h);if(w.hasEagerState=!0,w.eagerState=K,Yn(K,q))return Vf(o,c,w,0),Tt===null&&Hf(),!1}catch{}finally{}if(h=wv(o,c,w,v),h!==null)return er(h,o,v),iO(h,c,v),!0}return!1}function ng(o,c,h,v){if(v={lane:2,revertLane:kg(),action:v,hasEagerState:!1,eagerState:null,next:null},ld(o)){if(c)throw Error(r(479))}else c=wv(o,h,v,2),c!==null&&er(c,o,2)}function ld(o){var c=o.alternate;return o===tt||c!==null&&c===tt}function rO(o,c){ds=nd=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function iO(o,c,h){if((h&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,h|=v,c.lanes=h,dj(o,h)}}var cd={readContext:wn,use:id,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},aO={readContext:wn,use:id,useCallback:function(o,c){return zn().memoizedState=[o,c===void 0?null:c],o},useContext:wn,useEffect:UA,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,sd(4194308,4,GA.bind(null,c,o),h)},useLayoutEffect:function(o,c){return sd(4194308,4,o,c)},useInsertionEffect:function(o,c){sd(4,2,o,c)},useMemo:function(o,c){var h=zn();c=c===void 0?null:c;var v=o();if(oo){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[v,c],v},useReducer:function(o,c,h){var v=zn();if(h!==void 0){var w=h(c);if(oo){Qe(!0);try{h(c)}finally{Qe(!1)}}}else w=c;return v.memoizedState=v.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},v.queue=o,o=o.dispatch=V5.bind(null,tt,o),[v.memoizedState,o]},useRef:function(o){var c=zn();return o={current:o},c.memoizedState=o},useState:function(o){o=Wv(o);var c=o.queue,h=nO.bind(null,tt,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Qv,useDeferredValue:function(o,c){var h=zn();return Jv(h,o,c)},useTransition:function(){var o=Wv(!1);return o=ZA.bind(null,tt,o.queue,!0,!1),zn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var v=tt,w=zn();if(mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Tt===null)throw Error(r(349));(lt&124)!==0||OA(v,c,h)}w.memoizedState=h;var A={value:h,getSnapshot:c};return w.queue=A,UA(NA.bind(null,v,A,o),[o]),v.flags|=2048,ps(9,od(),EA.bind(null,v,A,h,c),null),h},useId:function(){var o=zn(),c=Tt.identifierPrefix;if(mt){var h=_i,v=wi;h=(v&~(1<<32-pt(v)-1)).toString(32)+h,c="«"+c+"R"+h,h=rd++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=z5++,c="«"+c+"r"+h.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:tg,useFormState:IA,useActionState:IA,useOptimistic:function(o){var c=zn();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ng.bind(null,tt,!0,h),h.dispatch=c,[o,c]},useMemoCache:Kv,useCacheRefresh:function(){return zn().memoizedState=H5.bind(null,tt)}},oO={readContext:wn,use:id,useCallback:YA,useContext:wn,useEffect:FA,useImperativeHandle:KA,useInsertionEffect:HA,useLayoutEffect:VA,useMemo:XA,useReducer:ad,useRef:qA,useState:function(){return ad(Ai)},useDebugValue:Qv,useDeferredValue:function(o,c){var h=Yt();return WA(h,_t.memoizedState,o,c)},useTransition:function(){var o=ad(Ai)[0],c=Yt().memoizedState;return[typeof o=="boolean"?o:_c(o),c]},useSyncExternalStore:AA,useId:eO,useHostTransitionStatus:tg,useFormState:LA,useActionState:LA,useOptimistic:function(o,c){var h=Yt();return MA(h,_t,o,c)},useMemoCache:Kv,useCacheRefresh:tO},G5={readContext:wn,use:id,useCallback:YA,useContext:wn,useEffect:FA,useImperativeHandle:KA,useInsertionEffect:HA,useLayoutEffect:VA,useMemo:XA,useReducer:Xv,useRef:qA,useState:function(){return Xv(Ai)},useDebugValue:Qv,useDeferredValue:function(o,c){var h=Yt();return _t===null?Jv(h,o,c):WA(h,_t.memoizedState,o,c)},useTransition:function(){var o=Xv(Ai)[0],c=Yt().memoizedState;return[typeof o=="boolean"?o:_c(o),c]},useSyncExternalStore:AA,useId:eO,useHostTransitionStatus:tg,useFormState:BA,useActionState:BA,useOptimistic:function(o,c){var h=Yt();return _t!==null?MA(h,_t,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Kv,useCacheRefresh:tO},ms=null,Ac=0;function ud(o){var c=Ac;return Ac+=1,ms===null&&(ms=[]),gA(ms,o,c)}function Oc(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function fd(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function sO(o){var c=o._init;return c(o._payload)}function lO(o){function c(ae,te){if(o){var ce=ae.deletions;ce===null?(ae.deletions=[te],ae.flags|=16):ce.push(te)}}function h(ae,te){if(!o)return null;for(;te!==null;)c(ae,te),te=te.sibling;return null}function v(ae){for(var te=new Map;ae!==null;)ae.key!==null?te.set(ae.key,ae):te.set(ae.index,ae),ae=ae.sibling;return te}function w(ae,te){return ae=bi(ae,te),ae.index=0,ae.sibling=null,ae}function A(ae,te,ce){return ae.index=ce,o?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<te?(ae.flags|=67108866,te):ce):(ae.flags|=67108866,te)):(ae.flags|=1048576,te)}function q(ae){return o&&ae.alternate===null&&(ae.flags|=67108866),ae}function K(ae,te,ce,_e){return te===null||te.tag!==6?(te=Sv(ce,ae.mode,_e),te.return=ae,te):(te=w(te,ce),te.return=ae,te)}function J(ae,te,ce,_e){var Re=ce.type;return Re===S?be(ae,te,ce.props.children,_e,ce.key):te!==null&&(te.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&sO(Re)===te.type)?(te=w(te,ce.props),Oc(te,ce),te.return=ae,te):(te=Kf(ce.type,ce.key,ce.props,null,ae.mode,_e),Oc(te,ce),te.return=ae,te)}function ue(ae,te,ce,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=jv(ce,ae.mode,_e),te.return=ae,te):(te=w(te,ce.children||[]),te.return=ae,te)}function be(ae,te,ce,_e,Re){return te===null||te.tag!==7?(te=Qa(ce,ae.mode,_e,Re),te.return=ae,te):(te=w(te,ce),te.return=ae,te)}function Se(ae,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Sv(""+te,ae.mode,ce),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return ce=Kf(te.type,te.key,te.props,null,ae.mode,ce),Oc(ce,te),ce.return=ae,ce;case x:return te=jv(te,ae.mode,ce),te.return=ae,te;case M:var _e=te._init;return te=_e(te._payload),Se(ae,te,ce)}if(H(te)||I(te))return te=Qa(te,ae.mode,ce,null),te.return=ae,te;if(typeof te.then=="function")return Se(ae,ud(te),ce);if(te.$$typeof===T)return Se(ae,Zf(ae,te),ce);fd(ae,te)}return null}function me(ae,te,ce,_e){var Re=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Re!==null?null:K(ae,te,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===Re?J(ae,te,ce,_e):null;case x:return ce.key===Re?ue(ae,te,ce,_e):null;case M:return Re=ce._init,ce=Re(ce._payload),me(ae,te,ce,_e)}if(H(ce)||I(ce))return Re!==null?null:be(ae,te,ce,_e,null);if(typeof ce.then=="function")return me(ae,te,ud(ce),_e);if(ce.$$typeof===T)return me(ae,te,Zf(ae,ce),_e);fd(ae,ce)}return null}function ve(ae,te,ce,_e,Re){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ae=ae.get(ce)||null,K(te,ae,""+_e,Re);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:return ae=ae.get(_e.key===null?ce:_e.key)||null,J(te,ae,_e,Re);case x:return ae=ae.get(_e.key===null?ce:_e.key)||null,ue(te,ae,_e,Re);case M:var rt=_e._init;return _e=rt(_e._payload),ve(ae,te,ce,_e,Re)}if(H(_e)||I(_e))return ae=ae.get(ce)||null,be(te,ae,_e,Re,null);if(typeof _e.then=="function")return ve(ae,te,ce,ud(_e),Re);if(_e.$$typeof===T)return ve(ae,te,ce,Zf(te,_e),Re);fd(te,_e)}return null}function Ve(ae,te,ce,_e){for(var Re=null,rt=null,Le=te,Ue=te=0,cn=null;Le!==null&&Ue<ce.length;Ue++){Le.index>Ue?(cn=Le,Le=null):cn=Le.sibling;var dt=me(ae,Le,ce[Ue],_e);if(dt===null){Le===null&&(Le=cn);break}o&&Le&&dt.alternate===null&&c(ae,Le),te=A(dt,te,Ue),rt===null?Re=dt:rt.sibling=dt,rt=dt,Le=cn}if(Ue===ce.length)return h(ae,Le),mt&&eo(ae,Ue),Re;if(Le===null){for(;Ue<ce.length;Ue++)Le=Se(ae,ce[Ue],_e),Le!==null&&(te=A(Le,te,Ue),rt===null?Re=Le:rt.sibling=Le,rt=Le);return mt&&eo(ae,Ue),Re}for(Le=v(Le);Ue<ce.length;Ue++)cn=ve(Le,ae,Ue,ce[Ue],_e),cn!==null&&(o&&cn.alternate!==null&&Le.delete(cn.key===null?Ue:cn.key),te=A(cn,te,Ue),rt===null?Re=cn:rt.sibling=cn,rt=cn);return o&&Le.forEach(function(ja){return c(ae,ja)}),mt&&eo(ae,Ue),Re}function qe(ae,te,ce,_e){if(ce==null)throw Error(r(151));for(var Re=null,rt=null,Le=te,Ue=te=0,cn=null,dt=ce.next();Le!==null&&!dt.done;Ue++,dt=ce.next()){Le.index>Ue?(cn=Le,Le=null):cn=Le.sibling;var ja=me(ae,Le,dt.value,_e);if(ja===null){Le===null&&(Le=cn);break}o&&Le&&ja.alternate===null&&c(ae,Le),te=A(ja,te,Ue),rt===null?Re=ja:rt.sibling=ja,rt=ja,Le=cn}if(dt.done)return h(ae,Le),mt&&eo(ae,Ue),Re;if(Le===null){for(;!dt.done;Ue++,dt=ce.next())dt=Se(ae,dt.value,_e),dt!==null&&(te=A(dt,te,Ue),rt===null?Re=dt:rt.sibling=dt,rt=dt);return mt&&eo(ae,Ue),Re}for(Le=v(Le);!dt.done;Ue++,dt=ce.next())dt=ve(Le,ae,Ue,dt.value,_e),dt!==null&&(o&&dt.alternate!==null&&Le.delete(dt.key===null?Ue:dt.key),te=A(dt,te,Ue),rt===null?Re=dt:rt.sibling=dt,rt=dt);return o&&Le.forEach(function(KB){return c(ae,KB)}),mt&&eo(ae,Ue),Re}function jt(ae,te,ce,_e){if(typeof ce=="object"&&ce!==null&&ce.type===S&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var Re=ce.key;te!==null;){if(te.key===Re){if(Re=ce.type,Re===S){if(te.tag===7){h(ae,te.sibling),_e=w(te,ce.props.children),_e.return=ae,ae=_e;break e}}else if(te.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&sO(Re)===te.type){h(ae,te.sibling),_e=w(te,ce.props),Oc(_e,ce),_e.return=ae,ae=_e;break e}h(ae,te);break}else c(ae,te);te=te.sibling}ce.type===S?(_e=Qa(ce.props.children,ae.mode,_e,ce.key),_e.return=ae,ae=_e):(_e=Kf(ce.type,ce.key,ce.props,null,ae.mode,_e),Oc(_e,ce),_e.return=ae,ae=_e)}return q(ae);case x:e:{for(Re=ce.key;te!==null;){if(te.key===Re)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){h(ae,te.sibling),_e=w(te,ce.children||[]),_e.return=ae,ae=_e;break e}else{h(ae,te);break}else c(ae,te);te=te.sibling}_e=jv(ce,ae.mode,_e),_e.return=ae,ae=_e}return q(ae);case M:return Re=ce._init,ce=Re(ce._payload),jt(ae,te,ce,_e)}if(H(ce))return Ve(ae,te,ce,_e);if(I(ce)){if(Re=I(ce),typeof Re!="function")throw Error(r(150));return ce=Re.call(ce),qe(ae,te,ce,_e)}if(typeof ce.then=="function")return jt(ae,te,ud(ce),_e);if(ce.$$typeof===T)return jt(ae,te,Zf(ae,ce),_e);fd(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,te!==null&&te.tag===6?(h(ae,te.sibling),_e=w(te,ce),_e.return=ae,ae=_e):(h(ae,te),_e=Sv(ce,ae.mode,_e),_e.return=ae,ae=_e),q(ae)):h(ae,te)}return function(ae,te,ce,_e){try{Ac=0;var Re=jt(ae,te,ce,_e);return ms=null,Re}catch(Le){if(Le===vc||Le===Jf)throw Le;var rt=Xn(29,Le,null,ae.mode);return rt.lanes=_e,rt.return=ae,rt}finally{}}}var vs=lO(!0),cO=lO(!1),vr=X(null),Kr=null;function ca(o){var c=o.alternate;Y(Qt,Qt.current&1),Y(vr,o),Kr===null&&(c===null||fs.current!==null||c.memoizedState!==null)&&(Kr=o)}function uO(o){if(o.tag===22){if(Y(Qt,Qt.current),Y(vr,o),Kr===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Kr=o)}}else ua()}function ua(){Y(Qt,Qt.current),Y(vr,vr.current)}function Oi(o){W(vr),Kr===o&&(Kr=null),W(Qt)}var Qt=X(0);function dd(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Gg(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function rg(o,c,h,v){c=o.memoizedState,h=h(v,c),h=h==null?c:m({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ig={enqueueSetState:function(o,c,h){o=o._reactInternals;var v=Jn(),w=oa(v);w.payload=c,h!=null&&(w.callback=h),c=sa(o,w,v),c!==null&&(er(c,o,v),yc(c,o,v))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var v=Jn(),w=oa(v);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=sa(o,w,v),c!==null&&(er(c,o,v),yc(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Jn(),v=oa(h);v.tag=2,c!=null&&(v.callback=c),c=sa(o,v,h),c!==null&&(er(c,o,h),yc(c,o,h))}};function fO(o,c,h,v,w,A,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,A,q):c.prototype&&c.prototype.isPureReactComponent?!lc(h,v)||!lc(w,A):!0}function dO(o,c,h,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==o&&ig.enqueueReplaceState(c,c.state,null)}function so(o,c){var h=c;if("ref"in c){h={};for(var v in c)v!=="ref"&&(h[v]=c[v])}if(o=o.defaultProps){h===c&&(h=m({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}var hd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function hO(o){hd(o)}function pO(o){console.error(o)}function mO(o){hd(o)}function pd(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function vO(o,c,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function ag(o,c,h){return h=oa(h),h.tag=3,h.payload={element:null},h.callback=function(){pd(o,c)},h}function gO(o){return o=oa(o),o.tag=3,o}function yO(o,c,h,v){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var A=v.value;o.payload=function(){return w(A)},o.callback=function(){vO(c,h,v)}}var q=h.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(o.callback=function(){vO(c,h,v),typeof w!="function"&&(va===null?va=new Set([this]):va.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function K5(o,c,h,v,w){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=h.alternate,c!==null&&hc(c,h,w,!0),h=vr.current,h!==null){switch(h.tag){case 13:return Kr===null?Cg():h.alternate===null&&Ft===0&&(Ft=3),h.flags&=-257,h.flags|=65536,h.lanes=w,v===kv?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([v]):c.add(v),Mg(o,v,w)),!1;case 22:return h.flags|=65536,v===kv?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([v]):h.add(v)),Mg(o,v,w)),!1}throw Error(r(435,h.tag))}return Mg(o,v,w),Cg(),!1}if(mt)return c=vr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,v!==Ev&&(o=Error(r(422),{cause:v}),dc(dr(o,h)))):(v!==Ev&&(c=Error(r(423),{cause:v}),dc(dr(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,v=dr(v,h),w=ag(o.stateNode,v,w),Iv(o,w),Ft!==4&&(Ft=2)),!1;var A=Error(r(520),{cause:v});if(A=dr(A,h),Pc===null?Pc=[A]:Pc.push(A),Ft!==4&&(Ft=2),c===null)return!0;v=dr(v,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=ag(h.stateNode,v,o),Iv(h,o),!1;case 1:if(c=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(va===null||!va.has(A))))return h.flags|=65536,w&=-w,h.lanes|=w,w=gO(w),yO(w,o,h,v),Iv(h,w),!1}h=h.return}while(h!==null);return!1}var xO=Error(r(461)),sn=!1;function hn(o,c,h,v){c.child=o===null?cO(c,null,h,v):vs(c,o.child,h,v)}function bO(o,c,h,v,w){h=h.render;var A=c.ref;if("ref"in v){var q={};for(var K in v)K!=="ref"&&(q[K]=v[K])}else q=v;return io(c),v=Uv(o,c,h,q,A,w),K=Fv(),o!==null&&!sn?(Hv(o,c,w),Ei(o,c,w)):(mt&&K&&Av(c),c.flags|=1,hn(o,c,v,w),c.child)}function wO(o,c,h,v,w){if(o===null){var A=h.type;return typeof A=="function"&&!_v(A)&&A.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=A,_O(o,c,A,v,w)):(o=Kf(h.type,null,v,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!hg(o,w)){var q=A.memoizedProps;if(h=h.compare,h=h!==null?h:lc,h(q,v)&&o.ref===c.ref)return Ei(o,c,w)}return c.flags|=1,o=bi(A,v),o.ref=c.ref,o.return=c,c.child=o}function _O(o,c,h,v,w){if(o!==null){var A=o.memoizedProps;if(lc(A,v)&&o.ref===c.ref)if(sn=!1,c.pendingProps=v=A,hg(o,w))(o.flags&131072)!==0&&(sn=!0);else return c.lanes=o.lanes,Ei(o,c,w)}return og(o,c,h,v,w)}function SO(o,c,h){var v=c.pendingProps,w=v.children,A=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=A!==null?A.baseLanes|h:h,o!==null){for(w=c.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;c.childLanes=A&~v}else c.childLanes=0,c.child=null;return jO(o,c,v,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Qf(c,A!==null?A.cachePool:null),A!==null?_A(c,A):zv(),uO(c);else return c.lanes=c.childLanes=536870912,jO(o,c,A!==null?A.baseLanes|h:h,h)}else A!==null?(Qf(c,A.cachePool),_A(c,A),ua(),c.memoizedState=null):(o!==null&&Qf(c,null),zv(),ua());return hn(o,c,w,h),c.child}function jO(o,c,h,v){var w=Pv();return w=w===null?null:{parent:Zt._currentValue,pool:w},c.memoizedState={baseLanes:h,cachePool:w},o!==null&&Qf(c,null),zv(),uO(c),o!==null&&hc(o,c,v,!0),null}function md(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function og(o,c,h,v,w){return io(c),h=Uv(o,c,h,v,void 0,w),v=Fv(),o!==null&&!sn?(Hv(o,c,w),Ei(o,c,w)):(mt&&v&&Av(c),c.flags|=1,hn(o,c,h,w),c.child)}function AO(o,c,h,v,w,A){return io(c),c.updateQueue=null,h=jA(c,v,h,w),SA(o),v=Fv(),o!==null&&!sn?(Hv(o,c,A),Ei(o,c,A)):(mt&&v&&Av(c),c.flags|=1,hn(o,c,h,A),c.child)}function OO(o,c,h,v,w){if(io(c),c.stateNode===null){var A=os,q=h.contextType;typeof q=="object"&&q!==null&&(A=wn(q)),A=new h(v,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=ig,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=v,A.state=c.memoizedState,A.refs={},Dv(c),q=h.contextType,A.context=typeof q=="object"&&q!==null?wn(q):os,A.state=c.memoizedState,q=h.getDerivedStateFromProps,typeof q=="function"&&(rg(c,h,q,v),A.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(q=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),q!==A.state&&ig.enqueueReplaceState(A,A.state,null),bc(c,v,A,w),xc(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){A=c.stateNode;var K=c.memoizedProps,J=so(h,K);A.props=J;var ue=A.context,be=h.contextType;q=os,typeof be=="object"&&be!==null&&(q=wn(be));var Se=h.getDerivedStateFromProps;be=typeof Se=="function"||typeof A.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,be||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(K||ue!==q)&&dO(c,A,v,q),aa=!1;var me=c.memoizedState;A.state=me,bc(c,v,A,w),xc(),ue=c.memoizedState,K||me!==ue||aa?(typeof Se=="function"&&(rg(c,h,Se,v),ue=c.memoizedState),(J=aa||fO(c,h,J,v,me,ue,q))?(be||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ue),A.props=v,A.state=ue,A.context=q,v=J):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{A=c.stateNode,$v(o,c),q=c.memoizedProps,be=so(h,q),A.props=be,Se=c.pendingProps,me=A.context,ue=h.contextType,J=os,typeof ue=="object"&&ue!==null&&(J=wn(ue)),K=h.getDerivedStateFromProps,(ue=typeof K=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q!==Se||me!==J)&&dO(c,A,v,J),aa=!1,me=c.memoizedState,A.state=me,bc(c,v,A,w),xc();var ve=c.memoizedState;q!==Se||me!==ve||aa||o!==null&&o.dependencies!==null&&Wf(o.dependencies)?(typeof K=="function"&&(rg(c,h,K,v),ve=c.memoizedState),(be=aa||fO(c,h,be,v,me,ve,J)||o!==null&&o.dependencies!==null&&Wf(o.dependencies))?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,ve,J),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,ve,J)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ve),A.props=v,A.state=ve,A.context=J,v=be):(typeof A.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(c.flags|=1024),v=!1)}return A=v,md(o,c),v=(c.flags&128)!==0,A||v?(A=c.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&v?(c.child=vs(c,o.child,null,w),c.child=vs(c,null,h,w)):hn(o,c,h,w),c.memoizedState=A.state,o=c.child):o=Ei(o,c,w),o}function EO(o,c,h,v){return fc(),c.flags|=256,hn(o,c,h,v),c.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(o){return{baseLanes:o,cachePool:pA()}}function cg(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=gr),o}function NO(o,c,h){var v=c.pendingProps,w=!1,A=(c.flags&128)!==0,q;if((q=A)||(q=o!==null&&o.memoizedState===null?!1:(Qt.current&2)!==0),q&&(w=!0,c.flags&=-129),q=(c.flags&32)!==0,c.flags&=-33,o===null){if(mt){if(w?ca(c):ua(),mt){var K=Ut,J;if(J=K){e:{for(J=K,K=Gr;J.nodeType!==8;){if(!K){K=null;break e}if(J=Rr(J.nextSibling),J===null){K=null;break e}}K=J}K!==null?(c.memoizedState={dehydrated:K,treeContext:Ja!==null?{id:wi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},J=Xn(18,null,null,0),J.stateNode=K,J.return=c,c.child=J,On=c,Ut=null,J=!0):J=!1}J||no(c)}if(K=c.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return Gg(K)?c.lanes=32:c.lanes=536870912,null;Oi(c)}return K=v.children,v=v.fallback,w?(ua(),w=c.mode,K=vd({mode:"hidden",children:K},w),v=Qa(v,w,h,null),K.return=c,v.return=c,K.sibling=v,c.child=K,w=c.child,w.memoizedState=lg(h),w.childLanes=cg(o,q,h),c.memoizedState=sg,v):(ca(c),ug(c,K))}if(J=o.memoizedState,J!==null&&(K=J.dehydrated,K!==null)){if(A)c.flags&256?(ca(c),c.flags&=-257,c=fg(o,c,h)):c.memoizedState!==null?(ua(),c.child=o.child,c.flags|=128,c=null):(ua(),w=v.fallback,K=c.mode,v=vd({mode:"visible",children:v.children},K),w=Qa(w,K,h,null),w.flags|=2,v.return=c,w.return=c,v.sibling=w,c.child=v,vs(c,o.child,null,h),v=c.child,v.memoizedState=lg(h),v.childLanes=cg(o,q,h),c.memoizedState=sg,c=w);else if(ca(c),Gg(K)){if(q=K.nextSibling&&K.nextSibling.dataset,q)var ue=q.dgst;q=ue,v=Error(r(419)),v.stack="",v.digest=q,dc({value:v,source:null,stack:null}),c=fg(o,c,h)}else if(sn||hc(o,c,h,!1),q=(h&o.childLanes)!==0,sn||q){if(q=Tt,q!==null&&(v=h&-h,v=(v&42)!==0?1:Km(v),v=(v&(q.suspendedLanes|h))!==0?0:v,v!==0&&v!==J.retryLane))throw J.retryLane=v,as(o,v),er(q,o,v),xO;K.data==="$?"||Cg(),c=fg(o,c,h)}else K.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=J.treeContext,Ut=Rr(K.nextSibling),On=c,mt=!0,to=null,Gr=!1,o!==null&&(pr[mr++]=wi,pr[mr++]=_i,pr[mr++]=Ja,wi=o.id,_i=o.overflow,Ja=c),c=ug(c,v.children),c.flags|=4096);return c}return w?(ua(),w=v.fallback,K=c.mode,J=o.child,ue=J.sibling,v=bi(J,{mode:"hidden",children:v.children}),v.subtreeFlags=J.subtreeFlags&65011712,ue!==null?w=bi(ue,w):(w=Qa(w,K,h,null),w.flags|=2),w.return=c,v.return=c,v.sibling=w,c.child=v,v=w,w=c.child,K=o.child.memoizedState,K===null?K=lg(h):(J=K.cachePool,J!==null?(ue=Zt._currentValue,J=J.parent!==ue?{parent:ue,pool:ue}:J):J=pA(),K={baseLanes:K.baseLanes|h,cachePool:J}),w.memoizedState=K,w.childLanes=cg(o,q,h),c.memoizedState=sg,v):(ca(c),h=o.child,o=h.sibling,h=bi(h,{mode:"visible",children:v.children}),h.return=c,h.sibling=null,o!==null&&(q=c.deletions,q===null?(c.deletions=[o],c.flags|=16):q.push(o)),c.child=h,c.memoizedState=null,h)}function ug(o,c){return c=vd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function vd(o,c){return o=Xn(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fg(o,c,h){return vs(c,o.child,null,h),o=ug(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function CO(o,c,h){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),Cv(o.return,c,h)}function dg(o,c,h,v,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=h,A.tailMode=w)}function TO(o,c,h){var v=c.pendingProps,w=v.revealOrder,A=v.tail;if(hn(o,c,v.children,h),v=Qt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&CO(o,h,c);else if(o.tag===19)CO(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(Y(Qt,v),w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&dd(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),dg(c,!1,w,h,A);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&dd(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}dg(c,!0,h,null,A);break;case"together":dg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ei(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ma|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(hc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=bi(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=bi(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function hg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Wf(o)))}function Y5(o,c,h){switch(c.tag){case 3:ge(c,c.stateNode.containerInfo),ia(c,Zt,o.memoizedState.cache),fc();break;case 27:case 5:le(c);break;case 4:ge(c,c.stateNode.containerInfo);break;case 10:ia(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ca(c),c.flags|=128,null):(h&c.child.childLanes)!==0?NO(o,c,h):(ca(c),o=Ei(o,c,h),o!==null?o.sibling:null);ca(c);break;case 19:var w=(o.flags&128)!==0;if(v=(h&c.childLanes)!==0,v||(hc(o,c,h,!1),v=(h&c.childLanes)!==0),w){if(v)return TO(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Y(Qt,Qt.current),v)break;return null;case 22:case 23:return c.lanes=0,SO(o,c,h);case 24:ia(c,Zt,o.memoizedState.cache)}return Ei(o,c,h)}function MO(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)sn=!0;else{if(!hg(o,h)&&(c.flags&128)===0)return sn=!1,Y5(o,c,h);sn=(o.flags&131072)!==0}else sn=!1,mt&&(c.flags&1048576)!==0&&sA(c,Xf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,w=v._init;if(v=w(v._payload),c.type=v,typeof v=="function")_v(v)?(o=so(v,o),c.tag=1,c=OO(null,c,v,o,h)):(c.tag=0,c=og(null,c,v,o,h));else{if(v!=null){if(w=v.$$typeof,w===E){c.tag=11,c=bO(null,c,v,o,h);break e}else if(w===R){c.tag=14,c=wO(null,c,v,o,h);break e}}throw c=L(v)||v,Error(r(306,c,""))}}return c;case 0:return og(o,c,c.type,c.pendingProps,h);case 1:return v=c.type,w=so(v,c.pendingProps),OO(o,c,v,w,h);case 3:e:{if(ge(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var A=c.memoizedState;w=A.element,$v(o,c),bc(c,v,null,h);var q=c.memoizedState;if(v=q.cache,ia(c,Zt,v),v!==A.cache&&Tv(c,[Zt],h,!0),xc(),v=q.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:q.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=EO(o,c,v,h);break e}else if(v!==w){w=dr(Error(r(424)),c),dc(w),c=EO(o,c,v,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ut=Rr(o.firstChild),On=c,mt=!0,to=null,Gr=!0,h=cO(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fc(),v===w){c=Ei(o,c,h);break e}hn(o,c,v,h)}c=c.child}return c;case 26:return md(o,c),o===null?(h=DE(c.type,null,c.pendingProps,null))?c.memoizedState=h:mt||(h=c.type,o=c.pendingProps,v=Td(re.current).createElement(h),v[bn]=c,v[In]=o,mn(v,h,o),on(v),c.stateNode=v):c.memoizedState=DE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return le(c),o===null&&mt&&(v=c.stateNode=RE(c.type,c.pendingProps,re.current),On=c,Gr=!0,w=Ut,xa(c.type)?(Kg=w,Ut=Rr(v.firstChild)):Ut=w),hn(o,c,c.pendingProps.children,h),md(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&mt&&((w=v=Ut)&&(v=_B(v,c.type,c.pendingProps,Gr),v!==null?(c.stateNode=v,On=c,Ut=Rr(v.firstChild),Gr=!1,w=!0):w=!1),w||no(c)),le(c),w=c.type,A=c.pendingProps,q=o!==null?o.memoizedProps:null,v=A.children,Fg(w,A)?v=null:q!==null&&Fg(w,q)&&(c.flags|=32),c.memoizedState!==null&&(w=Uv(o,c,B5,null,null,h),Uc._currentValue=w),md(o,c),hn(o,c,v,h),c.child;case 6:return o===null&&mt&&((o=h=Ut)&&(h=SB(h,c.pendingProps,Gr),h!==null?(c.stateNode=h,On=c,Ut=null,o=!0):o=!1),o||no(c)),null;case 13:return NO(o,c,h);case 4:return ge(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=vs(c,null,v,h):hn(o,c,v,h),c.child;case 11:return bO(o,c,c.type,c.pendingProps,h);case 7:return hn(o,c,c.pendingProps,h),c.child;case 8:return hn(o,c,c.pendingProps.children,h),c.child;case 12:return hn(o,c,c.pendingProps.children,h),c.child;case 10:return v=c.pendingProps,ia(c,c.type,v.value),hn(o,c,v.children,h),c.child;case 9:return w=c.type._context,v=c.pendingProps.children,io(c),w=wn(w),v=v(w),c.flags|=1,hn(o,c,v,h),c.child;case 14:return wO(o,c,c.type,c.pendingProps,h);case 15:return _O(o,c,c.type,c.pendingProps,h);case 19:return TO(o,c,h);case 31:return v=c.pendingProps,h=c.mode,v={mode:v.mode,children:v.children},o===null?(h=vd(v,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=bi(o.child,v),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return SO(o,c,h);case 24:return io(c),v=wn(Zt),o===null?(w=Pv(),w===null&&(w=Tt,A=Mv(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=h),w=A),c.memoizedState={parent:v,cache:w},Dv(c),ia(c,Zt,w)):((o.lanes&h)!==0&&($v(o,c),bc(c,null,null,h),xc()),w=o.memoizedState,A=c.memoizedState,w.parent!==v?(w={parent:v,cache:v},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),ia(c,Zt,v)):(v=A.cache,ia(c,Zt,v),v!==w.cache&&Tv(c,[Zt],h,!0))),hn(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ni(o){o.flags|=4}function RO(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!BE(c)){if(c=vr.current,c!==null&&((lt&4194048)===lt?Kr!==null:(lt&62914560)!==lt&&(lt&536870912)===0||c!==Kr))throw gc=kv,mA;o.flags|=8192}}function gd(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?uj():536870912,o.lanes|=c,bs|=c)}function Ec(o,c){if(!mt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Lt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=v,o.childLanes=h,c}function X5(o,c,h){var v=c.pendingProps;switch(Ov(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(c),null;case 1:return Lt(c),null;case 3:return h=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ji(Zt),oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(uc(c)?Ni(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,uA())),Lt(c),null;case 26:return h=c.memoizedState,o===null?(Ni(c),h!==null?(Lt(c),RO(c,h)):(Lt(c),c.flags&=-16777217)):h?h!==o.memoizedState?(Ni(c),Lt(c),RO(c,h)):(Lt(c),c.flags&=-16777217):(o.memoizedProps!==v&&Ni(c),Lt(c),c.flags&=-16777217),null;case 27:fe(c),h=re.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ni(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Lt(c),null}o=ee.current,uc(c)?lA(c):(o=RE(w,v,h),c.stateNode=o,Ni(c))}return Lt(c),null;case 5:if(fe(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ni(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Lt(c),null}if(o=ee.current,uc(c))lA(c);else{switch(w=Td(re.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?w.createElement("select",{is:v.is}):w.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?w.createElement(h,{is:v.is}):w.createElement(h)}}o[bn]=c,o[In]=v;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(mn(o,h,v),h){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ni(c)}}return Lt(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Ni(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=re.current,uc(c)){if(o=c.stateNode,h=c.memoizedProps,v=null,w=On,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}o[bn]=c,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||AE(o.nodeValue,h)),o||no(c)}else o=Td(o).createTextNode(v),o[bn]=c,c.stateNode=o}return Lt(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=uc(c),v!==null&&v.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[bn]=c}else fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Lt(c),w=!1}else w=uA(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Oi(c),c):(Oi(c),null)}if(Oi(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=v!==null,o=o!==null&&o.memoizedState!==null,h){v=c.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool);var A=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==w&&(v.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),gd(c,c.updateQueue),Lt(c),null;case 4:return oe(),o===null&&Lg(c.stateNode.containerInfo),Lt(c),null;case 10:return ji(c.type),Lt(c),null;case 19:if(W(Qt),w=c.memoizedState,w===null)return Lt(c),null;if(v=(c.flags&128)!==0,A=w.rendering,A===null)if(v)Ec(w,!1);else{if(Ft!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=dd(o),A!==null){for(c.flags|=128,Ec(w,!1),o=A.updateQueue,c.updateQueue=o,gd(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)oA(h,o),h=h.sibling;return Y(Qt,Qt.current&1|2),c.child}o=o.sibling}w.tail!==null&&he()>bd&&(c.flags|=128,v=!0,Ec(w,!1),c.lanes=4194304)}else{if(!v)if(o=dd(A),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,gd(c,o),Ec(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!mt)return Lt(c),null}else 2*he()-w.renderingStartTime>bd&&h!==536870912&&(c.flags|=128,v=!0,Ec(w,!1),c.lanes=4194304);w.isBackwards?(A.sibling=c.child,c.child=A):(o=w.last,o!==null?o.sibling=A:c.child=A,w.last=A)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=he(),c.sibling=null,o=Qt.current,Y(Qt,v?o&1|2:o&1),c):(Lt(c),null);case 22:case 23:return Oi(c),Bv(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(h&536870912)!==0&&(c.flags&128)===0&&(Lt(c),c.subtreeFlags&6&&(c.flags|=8192)):Lt(c),h=c.updateQueue,h!==null&&gd(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==h&&(c.flags|=2048),o!==null&&W(ao),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ji(Zt),Lt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function W5(o,c){switch(Ov(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ji(Zt),oe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return fe(c),null;case 13:if(Oi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));fc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return W(Qt),null;case 4:return oe(),null;case 10:return ji(c.type),null;case 22:case 23:return Oi(c),Bv(),o!==null&&W(ao),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ji(Zt),null;case 25:return null;default:return null}}function PO(o,c){switch(Ov(c),c.tag){case 3:ji(Zt),oe();break;case 26:case 27:case 5:fe(c);break;case 4:oe();break;case 13:Oi(c);break;case 19:W(Qt);break;case 10:ji(c.type);break;case 22:case 23:Oi(c),Bv(),o!==null&&W(ao);break;case 24:ji(Zt)}}function Nc(o,c){try{var h=c.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&o)===o){v=void 0;var A=h.create,q=h.inst;v=A(),q.destroy=v}h=h.next}while(h!==w)}}catch(K){Ot(c,c.return,K)}}function fa(o,c,h){try{var v=c.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var A=w.next;v=A;do{if((v.tag&o)===o){var q=v.inst,K=q.destroy;if(K!==void 0){q.destroy=void 0,w=c;var J=h,ue=K;try{ue()}catch(be){Ot(w,J,be)}}}v=v.next}while(v!==A)}}catch(be){Ot(c,c.return,be)}}function kO(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{wA(c,h)}catch(v){Ot(o,o.return,v)}}}function DO(o,c,h){h.props=so(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){Ot(o,c,v)}}function Cc(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(w){Ot(o,c,w)}}function Yr(o,c){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(w){Ot(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Ot(o,c,w)}else h.current=null}function $O(o){var c=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(w){Ot(o,o.return,w)}}function pg(o,c,h){try{var v=o.stateNode;gB(v,o.type,h,c),v[In]=c}catch(w){Ot(o,o.return,w)}}function IO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xa(o.type)||o.tag===4}function mg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vg(o,c,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Cd));else if(v!==4&&(v===27&&xa(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(vg(o,c,h),o=o.sibling;o!==null;)vg(o,c,h),o=o.sibling}function yd(o,c,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(v!==4&&(v===27&&xa(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(yd(o,c,h),o=o.sibling;o!==null;)yd(o,c,h),o=o.sibling}function LO(o){var c=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);mn(c,v,h),c[bn]=o,c[In]=h}catch(A){Ot(o,o.return,A)}}var Ci=!1,Gt=!1,gg=!1,zO=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Z5(o,c){if(o=o.containerInfo,qg=$d,o=Wj(o),mv(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var w=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var q=0,K=-1,J=-1,ue=0,be=0,Se=o,me=null;t:for(;;){for(var ve;Se!==h||w!==0&&Se.nodeType!==3||(K=q+w),Se!==A||v!==0&&Se.nodeType!==3||(J=q+v),Se.nodeType===3&&(q+=Se.nodeValue.length),(ve=Se.firstChild)!==null;)me=Se,Se=ve;for(;;){if(Se===o)break t;if(me===h&&++ue===w&&(K=q),me===A&&++be===v&&(J=q),(ve=Se.nextSibling)!==null)break;Se=me,me=Se.parentNode}Se=ve}h=K===-1||J===-1?null:{start:K,end:J}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ug={focusedElem:o,selectionRange:h},$d=!1,ln=c;ln!==null;)if(c=ln,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,ln=o;else for(;ln!==null;){switch(c=ln,A=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,h=c,w=A.memoizedProps,A=A.memoizedState,v=h.stateNode;try{var Ve=so(h.type,w,h.elementType===h.type);o=v.getSnapshotBeforeUpdate(Ve,A),v.__reactInternalSnapshotBeforeUpdate=o}catch(qe){Ot(h,h.return,qe)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Vg(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Vg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,ln=o;break}ln=c.return}}function BO(o,c,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:da(o,h),v&4&&Nc(5,h);break;case 1:if(da(o,h),v&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(q){Ot(h,h.return,q)}else{var w=so(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(q){Ot(h,h.return,q)}}v&64&&kO(h),v&512&&Cc(h,h.return);break;case 3:if(da(o,h),v&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{wA(o,c)}catch(q){Ot(h,h.return,q)}}break;case 27:c===null&&v&4&&LO(h);case 26:case 5:da(o,h),c===null&&v&4&&$O(h),v&512&&Cc(h,h.return);break;case 12:da(o,h);break;case 13:da(o,h),v&4&&FO(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=oB.bind(null,h),jB(o,h))));break;case 22:if(v=h.memoizedState!==null||Ci,!v){c=c!==null&&c.memoizedState!==null||Gt,w=Ci;var A=Gt;Ci=v,(Gt=c)&&!A?ha(o,h,(h.subtreeFlags&8772)!==0):da(o,h),Ci=w,Gt=A}break;case 30:break;default:da(o,h)}}function qO(o){var c=o.alternate;c!==null&&(o.alternate=null,qO(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Wm(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var $t=null,Bn=!1;function Ti(o,c,h){for(h=h.child;h!==null;)UO(o,c,h),h=h.sibling}function UO(o,c,h){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(ze,h)}catch{}switch(h.tag){case 26:Gt||Yr(h,c),Ti(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Gt||Yr(h,c);var v=$t,w=Bn;xa(h.type)&&($t=h.stateNode,Bn=!1),Ti(o,c,h),Lc(h.stateNode),$t=v,Bn=w;break;case 5:Gt||Yr(h,c);case 6:if(v=$t,w=Bn,$t=null,Ti(o,c,h),$t=v,Bn=w,$t!==null)if(Bn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(h.stateNode)}catch(A){Ot(h,c,A)}else try{$t.removeChild(h.stateNode)}catch(A){Ot(h,c,A)}break;case 18:$t!==null&&(Bn?(o=$t,TE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Gc(o)):TE($t,h.stateNode));break;case 4:v=$t,w=Bn,$t=h.stateNode.containerInfo,Bn=!0,Ti(o,c,h),$t=v,Bn=w;break;case 0:case 11:case 14:case 15:Gt||fa(2,h,c),Gt||fa(4,h,c),Ti(o,c,h);break;case 1:Gt||(Yr(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"&&DO(h,c,v)),Ti(o,c,h);break;case 21:Ti(o,c,h);break;case 22:Gt=(v=Gt)||h.memoizedState!==null,Ti(o,c,h),Gt=v;break;default:Ti(o,c,h)}}function FO(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Gc(o)}catch(h){Ot(c,c.return,h)}}function Q5(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new zO),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new zO),c;default:throw Error(r(435,o.tag))}}function yg(o,c){var h=Q5(o);c.forEach(function(v){var w=sB.bind(null,o,v);h.has(v)||(h.add(v),v.then(w,w))})}function Wn(o,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var w=h[v],A=o,q=c,K=q;e:for(;K!==null;){switch(K.tag){case 27:if(xa(K.type)){$t=K.stateNode,Bn=!1;break e}break;case 5:$t=K.stateNode,Bn=!1;break e;case 3:case 4:$t=K.stateNode.containerInfo,Bn=!0;break e}K=K.return}if($t===null)throw Error(r(160));UO(A,q,w),$t=null,Bn=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)HO(c,o),c=c.sibling}var Mr=null;function HO(o,c){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Wn(c,o),Zn(o),v&4&&(fa(3,o,o.return),Nc(3,o),fa(5,o,o.return));break;case 1:Wn(c,o),Zn(o),v&512&&(Gt||h===null||Yr(h,h.return)),v&64&&Ci&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var w=Mr;if(Wn(c,o),Zn(o),v&512&&(Gt||h===null||Yr(h,h.return)),v&4){var A=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Jl]||A[bn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(v),w.head.insertBefore(A,w.querySelector("head > title"))),mn(A,v,h),A[bn]=o,on(A),v=A;break e;case"link":var q=LE("link","href",w).get(v+(h.href||""));if(q){for(var K=0;K<q.length;K++)if(A=q[K],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){q.splice(K,1);break t}}A=w.createElement(v),mn(A,v,h),w.head.appendChild(A);break;case"meta":if(q=LE("meta","content",w).get(v+(h.content||""))){for(K=0;K<q.length;K++)if(A=q[K],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){q.splice(K,1);break t}}A=w.createElement(v),mn(A,v,h),w.head.appendChild(A);break;default:throw Error(r(468,v))}A[bn]=o,on(A),v=A}o.stateNode=v}else zE(w,o.type,o.stateNode);else o.stateNode=IE(w,v,o.memoizedProps);else A!==v?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,v===null?zE(w,o.type,o.stateNode):IE(w,v,o.memoizedProps)):v===null&&o.stateNode!==null&&pg(o,o.memoizedProps,h.memoizedProps)}break;case 27:Wn(c,o),Zn(o),v&512&&(Gt||h===null||Yr(h,h.return)),h!==null&&v&4&&pg(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Wn(c,o),Zn(o),v&512&&(Gt||h===null||Yr(h,h.return)),o.flags&32){w=o.stateNode;try{Qo(w,"")}catch(ve){Ot(o,o.return,ve)}}v&4&&o.stateNode!=null&&(w=o.memoizedProps,pg(o,w,h!==null?h.memoizedProps:w)),v&1024&&(gg=!0);break;case 6:if(Wn(c,o),Zn(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(ve){Ot(o,o.return,ve)}}break;case 3:if(Pd=null,w=Mr,Mr=Md(c.containerInfo),Wn(c,o),Mr=w,Zn(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Gc(c.containerInfo)}catch(ve){Ot(o,o.return,ve)}gg&&(gg=!1,VO(o));break;case 4:v=Mr,Mr=Md(o.stateNode.containerInfo),Wn(c,o),Zn(o),Mr=v;break;case 12:Wn(c,o),Zn(o);break;case 13:Wn(c,o),Zn(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(jg=he()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,yg(o,v)));break;case 22:w=o.memoizedState!==null;var J=h!==null&&h.memoizedState!==null,ue=Ci,be=Gt;if(Ci=ue||w,Gt=be||J,Wn(c,o),Gt=be,Ci=ue,Zn(o),v&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||J||Ci||Gt||lo(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){J=h=c;try{if(A=J.stateNode,w)q=A.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{K=J.stateNode;var Se=J.memoizedProps.style,me=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;K.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(ve){Ot(J,J.return,ve)}}}else if(c.tag===6){if(h===null){J=c;try{J.stateNode.nodeValue=w?"":J.memoizedProps}catch(ve){Ot(J,J.return,ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,yg(o,h))));break;case 19:Wn(c,o),Zn(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,yg(o,v)));break;case 30:break;case 21:break;default:Wn(c,o),Zn(o)}}function Zn(o){var c=o.flags;if(c&2){try{for(var h,v=o.return;v!==null;){if(IO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,A=mg(o);yd(o,A,w);break;case 5:var q=h.stateNode;h.flags&32&&(Qo(q,""),h.flags&=-33);var K=mg(o);yd(o,K,q);break;case 3:case 4:var J=h.stateNode.containerInfo,ue=mg(o);vg(o,ue,J);break;default:throw Error(r(161))}}catch(be){Ot(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function VO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;VO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function da(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)BO(o,c.alternate,c),c=c.sibling}function lo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:fa(4,c,c.return),lo(c);break;case 1:Yr(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&DO(c,c.return,h),lo(c);break;case 27:Lc(c.stateNode);case 26:case 5:Yr(c,c.return),lo(c);break;case 22:c.memoizedState===null&&lo(c);break;case 30:lo(c);break;default:lo(c)}o=o.sibling}}function ha(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,w=o,A=c,q=A.flags;switch(A.tag){case 0:case 11:case 15:ha(w,A,h),Nc(4,A);break;case 1:if(ha(w,A,h),v=A,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ue){Ot(v,v.return,ue)}if(v=A,w=v.updateQueue,w!==null){var K=v.stateNode;try{var J=w.shared.hiddenCallbacks;if(J!==null)for(w.shared.hiddenCallbacks=null,w=0;w<J.length;w++)bA(J[w],K)}catch(ue){Ot(v,v.return,ue)}}h&&q&64&&kO(A),Cc(A,A.return);break;case 27:LO(A);case 26:case 5:ha(w,A,h),h&&v===null&&q&4&&$O(A),Cc(A,A.return);break;case 12:ha(w,A,h);break;case 13:ha(w,A,h),h&&q&4&&FO(w,A);break;case 22:A.memoizedState===null&&ha(w,A,h),Cc(A,A.return);break;case 30:break;default:ha(w,A,h)}c=c.sibling}}function xg(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&pc(h))}function bg(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&pc(o))}function Xr(o,c,h,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)GO(o,c,h,v),c=c.sibling}function GO(o,c,h,v){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Xr(o,c,h,v),w&2048&&Nc(9,c);break;case 1:Xr(o,c,h,v);break;case 3:Xr(o,c,h,v),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&pc(o)));break;case 12:if(w&2048){Xr(o,c,h,v),o=c.stateNode;try{var A=c.memoizedProps,q=A.id,K=A.onPostCommit;typeof K=="function"&&K(q,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){Ot(c,c.return,J)}}else Xr(o,c,h,v);break;case 13:Xr(o,c,h,v);break;case 23:break;case 22:A=c.stateNode,q=c.alternate,c.memoizedState!==null?A._visibility&2?Xr(o,c,h,v):Tc(o,c):A._visibility&2?Xr(o,c,h,v):(A._visibility|=2,gs(o,c,h,v,(c.subtreeFlags&10256)!==0)),w&2048&&xg(q,c);break;case 24:Xr(o,c,h,v),w&2048&&bg(c.alternate,c);break;default:Xr(o,c,h,v)}}function gs(o,c,h,v,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,q=c,K=h,J=v,ue=q.flags;switch(q.tag){case 0:case 11:case 15:gs(A,q,K,J,w),Nc(8,q);break;case 23:break;case 22:var be=q.stateNode;q.memoizedState!==null?be._visibility&2?gs(A,q,K,J,w):Tc(A,q):(be._visibility|=2,gs(A,q,K,J,w)),w&&ue&2048&&xg(q.alternate,q);break;case 24:gs(A,q,K,J,w),w&&ue&2048&&bg(q.alternate,q);break;default:gs(A,q,K,J,w)}c=c.sibling}}function Tc(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,v=c,w=v.flags;switch(v.tag){case 22:Tc(h,v),w&2048&&xg(v.alternate,v);break;case 24:Tc(h,v),w&2048&&bg(v.alternate,v);break;default:Tc(h,v)}c=c.sibling}}var Mc=8192;function ys(o){if(o.subtreeFlags&Mc)for(o=o.child;o!==null;)KO(o),o=o.sibling}function KO(o){switch(o.tag){case 26:ys(o),o.flags&Mc&&o.memoizedState!==null&&IB(Mr,o.memoizedState,o.memoizedProps);break;case 5:ys(o);break;case 3:case 4:var c=Mr;Mr=Md(o.stateNode.containerInfo),ys(o),Mr=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Mc,Mc=16777216,ys(o),Mc=c):ys(o));break;default:ys(o)}}function YO(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Rc(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var v=c[h];ln=v,WO(v,o)}YO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)XO(o),o=o.sibling}function XO(o){switch(o.tag){case 0:case 11:case 15:Rc(o),o.flags&2048&&fa(9,o,o.return);break;case 3:Rc(o);break;case 12:Rc(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,xd(o)):Rc(o);break;default:Rc(o)}}function xd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var v=c[h];ln=v,WO(v,o)}YO(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:fa(8,c,c.return),xd(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,xd(c));break;default:xd(c)}o=o.sibling}}function WO(o,c){for(;ln!==null;){var h=ln;switch(h.tag){case 0:case 11:case 15:fa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:pc(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,ln=v;else e:for(h=o;ln!==null;){v=ln;var w=v.sibling,A=v.return;if(qO(v),v===h){ln=null;break e}if(w!==null){w.return=A,ln=w;break e}ln=A}}}var J5={getCacheForType:function(o){var c=wn(Zt),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},eB=typeof WeakMap=="function"?WeakMap:Map,xt=0,Tt=null,it=null,lt=0,bt=0,Qn=null,pa=!1,xs=!1,wg=!1,Mi=0,Ft=0,ma=0,co=0,_g=0,gr=0,bs=0,Pc=null,qn=null,Sg=!1,jg=0,bd=1/0,wd=null,va=null,pn=0,ga=null,ws=null,_s=0,Ag=0,Og=null,ZO=null,kc=0,Eg=null;function Jn(){if((xt&2)!==0&&lt!==0)return lt&-lt;if(k.T!==null){var o=cs;return o!==0?o:kg()}return hj()}function QO(){gr===0&&(gr=(lt&536870912)===0||mt?cj():536870912);var o=vr.current;return o!==null&&(o.flags|=32),gr}function er(o,c,h){(o===Tt&&(bt===2||bt===9)||o.cancelPendingCommit!==null)&&(Ss(o,0),ya(o,lt,gr,!1)),Ql(o,h),((xt&2)===0||o!==Tt)&&(o===Tt&&((xt&2)===0&&(co|=h),Ft===4&&ya(o,lt,gr,!1)),Wr(o))}function JO(o,c,h){if((xt&6)!==0)throw Error(r(327));var v=!h&&(c&124)===0&&(c&o.expiredLanes)===0||Zl(o,c),w=v?rB(o,c):Tg(o,c,!0),A=v;do{if(w===0){xs&&!v&&ya(o,c,0,!1);break}else{if(h=o.current.alternate,A&&!tB(h)){w=Tg(o,c,!1),A=!1;continue}if(w===2){if(A=c,o.errorRecoveryDisabledLanes&A)var q=0;else q=o.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){c=q;e:{var K=o;w=Pc;var J=K.current.memoizedState.isDehydrated;if(J&&(Ss(K,q).flags|=256),q=Tg(K,q,!1),q!==2){if(wg&&!J){K.errorRecoveryDisabledLanes|=A,co|=A,w=4;break e}A=qn,qn=w,A!==null&&(qn===null?qn=A:qn.push.apply(qn,A))}w=q}if(A=!1,w!==2)continue}}if(w===1){Ss(o,0),ya(o,c,0,!0);break}e:{switch(v=o,A=w,A){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ya(v,c,gr,!pa);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=jg+300-he(),10<w)){if(ya(v,c,gr,!pa),Rf(v,0,!0)!==0)break e;v.timeoutHandle=NE(eE.bind(null,v,h,qn,wd,Sg,c,gr,co,bs,pa,A,2,-0,0),w);break e}eE(v,h,qn,wd,Sg,c,gr,co,bs,pa,A,0,-0,0)}}break}while(!0);Wr(o)}function eE(o,c,h,v,w,A,q,K,J,ue,be,Se,me,ve){if(o.timeoutHandle=-1,Se=c.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(qc={stylesheets:null,count:0,unsuspend:$B},KO(c),Se=LB(),Se!==null)){o.cancelPendingCommit=Se(sE.bind(null,o,c,A,h,v,w,q,K,J,be,1,me,ve)),ya(o,A,q,!ue);return}sE(o,c,A,h,v,w,q,K,J)}function tB(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var w=h[v],A=w.getSnapshot;w=w.value;try{if(!Yn(A(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ya(o,c,h,v){c&=~_g,c&=~co,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var w=c;0<w;){var A=31-pt(w),q=1<<A;v[A]=-1,w&=~q}h!==0&&fj(o,h,c)}function _d(){return(xt&6)===0?(Dc(0),!1):!0}function Ng(){if(it!==null){if(bt===0)var o=it.return;else o=it,Si=ro=null,Vv(o),ms=null,Ac=0,o=it;for(;o!==null;)PO(o.alternate,o),o=o.return;it=null}}function Ss(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,xB(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Ng(),Tt=o,it=h=bi(o.current,null),lt=c,bt=0,Qn=null,pa=!1,xs=Zl(o,c),wg=!1,bs=gr=_g=co=ma=Ft=0,qn=Pc=null,Sg=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var w=31-pt(v),A=1<<w;c|=o[w],v&=~A}return Mi=c,Hf(),h}function tE(o,c){tt=null,k.H=cd,c===vc||c===Jf?(c=yA(),bt=3):c===mA?(c=yA(),bt=4):bt=c===xO?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Qn=c,it===null&&(Ft=1,pd(o,dr(c,o.current)))}function nE(){var o=k.H;return k.H=cd,o===null?cd:o}function rE(){var o=k.A;return k.A=J5,o}function Cg(){Ft=4,pa||(lt&4194048)!==lt&&vr.current!==null||(xs=!0),(ma&134217727)===0&&(co&134217727)===0||Tt===null||ya(Tt,lt,gr,!1)}function Tg(o,c,h){var v=xt;xt|=2;var w=nE(),A=rE();(Tt!==o||lt!==c)&&(wd=null,Ss(o,c)),c=!1;var q=Ft;e:do try{if(bt!==0&&it!==null){var K=it,J=Qn;switch(bt){case 8:Ng(),q=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(c=!0);var ue=bt;if(bt=0,Qn=null,js(o,K,J,ue),h&&xs){q=0;break e}break;default:ue=bt,bt=0,Qn=null,js(o,K,J,ue)}}nB(),q=Ft;break}catch(be){tE(o,be)}while(!0);return c&&o.shellSuspendCounter++,Si=ro=null,xt=v,k.H=w,k.A=A,it===null&&(Tt=null,lt=0,Hf()),q}function nB(){for(;it!==null;)iE(it)}function rB(o,c){var h=xt;xt|=2;var v=nE(),w=rE();Tt!==o||lt!==c?(wd=null,bd=he()+500,Ss(o,c)):xs=Zl(o,c);e:do try{if(bt!==0&&it!==null){c=it;var A=Qn;t:switch(bt){case 1:bt=0,Qn=null,js(o,c,A,1);break;case 2:case 9:if(vA(A)){bt=0,Qn=null,aE(c);break}c=function(){bt!==2&&bt!==9||Tt!==o||(bt=7),Wr(o)},A.then(c,c);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:vA(A)?(bt=0,Qn=null,aE(c)):(bt=0,Qn=null,js(o,c,A,7));break;case 5:var q=null;switch(it.tag){case 26:q=it.memoizedState;case 5:case 27:var K=it;if(!q||BE(q)){bt=0,Qn=null;var J=K.sibling;if(J!==null)it=J;else{var ue=K.return;ue!==null?(it=ue,Sd(ue)):it=null}break t}}bt=0,Qn=null,js(o,c,A,5);break;case 6:bt=0,Qn=null,js(o,c,A,6);break;case 8:Ng(),Ft=6;break e;default:throw Error(r(462))}}iB();break}catch(be){tE(o,be)}while(!0);return Si=ro=null,k.H=v,k.A=w,xt=h,it!==null?0:(Tt=null,lt=0,Hf(),Ft)}function iB(){for(;it!==null&&!Q();)iE(it)}function iE(o){var c=MO(o.alternate,o,Mi);o.memoizedProps=o.pendingProps,c===null?Sd(o):it=c}function aE(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=AO(h,c,c.pendingProps,c.type,void 0,lt);break;case 11:c=AO(h,c,c.pendingProps,c.type.render,c.ref,lt);break;case 5:Vv(c);default:PO(h,c),c=it=oA(c,Mi),c=MO(h,c,Mi)}o.memoizedProps=o.pendingProps,c===null?Sd(o):it=c}function js(o,c,h,v){Si=ro=null,Vv(c),ms=null,Ac=0;var w=c.return;try{if(K5(o,w,c,h,lt)){Ft=1,pd(o,dr(h,o.current)),it=null;return}}catch(A){if(w!==null)throw it=w,A;Ft=1,pd(o,dr(h,o.current)),it=null;return}c.flags&32768?(mt||v===1?o=!0:xs||(lt&536870912)!==0?o=!1:(pa=o=!0,(v===2||v===9||v===3||v===6)&&(v=vr.current,v!==null&&v.tag===13&&(v.flags|=16384))),oE(c,o)):Sd(c)}function Sd(o){var c=o;do{if((c.flags&32768)!==0){oE(c,pa);return}o=c.return;var h=X5(c.alternate,c,Mi);if(h!==null){it=h;return}if(c=c.sibling,c!==null){it=c;return}it=c=o}while(c!==null);Ft===0&&(Ft=5)}function oE(o,c){do{var h=W5(o.alternate,o);if(h!==null){h.flags&=32767,it=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){it=o;return}it=o=h}while(o!==null);Ft=6,it=null}function sE(o,c,h,v,w,A,q,K,J){o.cancelPendingCommit=null;do jd();while(pn!==0);if((xt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(A=c.lanes|c.childLanes,A|=bv,$z(o,h,A,q,K,J),o===Tt&&(it=Tt=null,lt=0),ws=c,ga=o,_s=h,Ag=A,Og=w,ZO=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,lB(Oe,function(){return dE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=k.T,k.T=null,w=U.p,U.p=2,q=xt,xt|=4;try{Z5(o,c,h)}finally{xt=q,U.p=w,k.T=v}}pn=1,lE(),cE(),uE()}}function lE(){if(pn===1){pn=0;var o=ga,c=ws,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=k.T,k.T=null;var v=U.p;U.p=2;var w=xt;xt|=4;try{HO(c,o);var A=Ug,q=Wj(o.containerInfo),K=A.focusedElem,J=A.selectionRange;if(q!==K&&K&&K.ownerDocument&&Xj(K.ownerDocument.documentElement,K)){if(J!==null&&mv(K)){var ue=J.start,be=J.end;if(be===void 0&&(be=ue),"selectionStart"in K)K.selectionStart=ue,K.selectionEnd=Math.min(be,K.value.length);else{var Se=K.ownerDocument||document,me=Se&&Se.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Ve=K.textContent.length,qe=Math.min(J.start,Ve),jt=J.end===void 0?qe:Math.min(J.end,Ve);!ve.extend&&qe>jt&&(q=jt,jt=qe,qe=q);var ae=Yj(K,qe),te=Yj(K,jt);if(ae&&te&&(ve.rangeCount!==1||ve.anchorNode!==ae.node||ve.anchorOffset!==ae.offset||ve.focusNode!==te.node||ve.focusOffset!==te.offset)){var ce=Se.createRange();ce.setStart(ae.node,ae.offset),ve.removeAllRanges(),qe>jt?(ve.addRange(ce),ve.extend(te.node,te.offset)):(ce.setEnd(te.node,te.offset),ve.addRange(ce))}}}}for(Se=[],ve=K;ve=ve.parentNode;)ve.nodeType===1&&Se.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Se.length;K++){var _e=Se[K];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}$d=!!qg,Ug=qg=null}finally{xt=w,U.p=v,k.T=h}}o.current=c,pn=2}}function cE(){if(pn===2){pn=0;var o=ga,c=ws,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=k.T,k.T=null;var v=U.p;U.p=2;var w=xt;xt|=4;try{BO(o,c.alternate,c)}finally{xt=w,U.p=v,k.T=h}}pn=3}}function uE(){if(pn===4||pn===3){pn=0,ne();var o=ga,c=ws,h=_s,v=ZO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?pn=5:(pn=0,ws=ga=null,fE(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(va=null),Ym(h),c=c.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(ze,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=k.T,w=U.p,U.p=2,k.T=null;try{for(var A=o.onRecoverableError,q=0;q<v.length;q++){var K=v[q];A(K.value,{componentStack:K.stack})}}finally{k.T=c,U.p=w}}(_s&3)!==0&&jd(),Wr(o),w=o.pendingLanes,(h&4194090)!==0&&(w&42)!==0?o===Eg?kc++:(kc=0,Eg=o):kc=0,Dc(0)}}function fE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,pc(c)))}function jd(o){return lE(),cE(),uE(),dE()}function dE(){if(pn!==5)return!1;var o=ga,c=Ag;Ag=0;var h=Ym(_s),v=k.T,w=U.p;try{U.p=32>h?32:h,k.T=null,h=Og,Og=null;var A=ga,q=_s;if(pn=0,ws=ga=null,_s=0,(xt&6)!==0)throw Error(r(331));var K=xt;if(xt|=4,XO(A.current),GO(A,A.current,q,h),xt=K,Dc(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(ze,A)}catch{}return!0}finally{U.p=w,k.T=v,fE(o,c)}}function hE(o,c,h){c=dr(h,c),c=ag(o.stateNode,c,2),o=sa(o,c,2),o!==null&&(Ql(o,2),Wr(o))}function Ot(o,c,h){if(o.tag===3)hE(o,o,h);else for(;c!==null;){if(c.tag===3){hE(c,o,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(va===null||!va.has(v))){o=dr(h,o),h=gO(2),v=sa(c,h,2),v!==null&&(yO(h,v,c,o),Ql(v,2),Wr(v));break}}c=c.return}}function Mg(o,c,h){var v=o.pingCache;if(v===null){v=o.pingCache=new eB;var w=new Set;v.set(c,w)}else w=v.get(c),w===void 0&&(w=new Set,v.set(c,w));w.has(h)||(wg=!0,w.add(h),o=aB.bind(null,o,c,h),c.then(o,o))}function aB(o,c,h){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Tt===o&&(lt&h)===h&&(Ft===4||Ft===3&&(lt&62914560)===lt&&300>he()-jg?(xt&2)===0&&Ss(o,0):_g|=h,bs===lt&&(bs=0)),Wr(o)}function pE(o,c){c===0&&(c=uj()),o=as(o,c),o!==null&&(Ql(o,c),Wr(o))}function oB(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),pE(o,h)}function sB(o,c){var h=0;switch(o.tag){case 13:var v=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),pE(o,h)}function lB(o,c){return Ce(o,c)}var Ad=null,As=null,Rg=!1,Od=!1,Pg=!1,uo=0;function Wr(o){o!==As&&o.next===null&&(As===null?Ad=As=o:As=As.next=o),Od=!0,Rg||(Rg=!0,uB())}function Dc(o,c){if(!Pg&&Od){Pg=!0;do for(var h=!1,v=Ad;v!==null;){if(o!==0){var w=v.pendingLanes;if(w===0)var A=0;else{var q=v.suspendedLanes,K=v.pingedLanes;A=(1<<31-pt(42|o)+1)-1,A&=w&~(q&~K),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,yE(v,A))}else A=lt,A=Rf(v,v===Tt?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||Zl(v,A)||(h=!0,yE(v,A));v=v.next}while(h);Pg=!1}}function cB(){mE()}function mE(){Od=Rg=!1;var o=0;uo!==0&&(yB()&&(o=uo),uo=0);for(var c=he(),h=null,v=Ad;v!==null;){var w=v.next,A=vE(v,c);A===0?(v.next=null,h===null?Ad=w:h.next=w,w===null&&(As=h)):(h=v,(o!==0||(A&3)!==0)&&(Od=!0)),v=w}Dc(o)}function vE(o,c){for(var h=o.suspendedLanes,v=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var q=31-pt(A),K=1<<q,J=w[q];J===-1?((K&h)===0||(K&v)!==0)&&(w[q]=Dz(K,c)):J<=c&&(o.expiredLanes|=K),A&=~K}if(c=Tt,h=lt,h=Rf(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===c&&(bt===2||bt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Ae(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Zl(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(v!==null&&Ae(v),Ym(h)){case 2:case 8:h=we;break;case 32:h=Oe;break;case 268435456:h=Ne;break;default:h=Oe}return v=gE.bind(null,o),h=Ce(h,v),o.callbackPriority=c,o.callbackNode=h,c}return v!==null&&v!==null&&Ae(v),o.callbackPriority=2,o.callbackNode=null,2}function gE(o,c){if(pn!==0&&pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(jd()&&o.callbackNode!==h)return null;var v=lt;return v=Rf(o,o===Tt?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(JO(o,v,c),vE(o,he()),o.callbackNode!=null&&o.callbackNode===h?gE.bind(null,o):null)}function yE(o,c){if(jd())return null;JO(o,c,!0)}function uB(){bB(function(){(xt&6)!==0?Ce(ye,cB):mE()})}function kg(){return uo===0&&(uo=cj()),uo}function xE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:If(""+o)}function bE(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function fB(o,c,h,v,w){if(c==="submit"&&h&&h.stateNode===w){var A=xE((w[In]||null).action),q=v.submitter;q&&(c=(c=q[In]||null)?xE(c.formAction):q.getAttribute("formAction"),c!==null&&(A=c,q=null));var K=new qf("action","action",null,v,w);o.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(uo!==0){var J=q?bE(w,q):new FormData(w);eg(h,{pending:!0,data:J,method:w.method,action:A},null,J)}}else typeof A=="function"&&(K.preventDefault(),J=q?bE(w,q):new FormData(w),eg(h,{pending:!0,data:J,method:w.method,action:A},A,J))},currentTarget:w}]})}}for(var Dg=0;Dg<xv.length;Dg++){var $g=xv[Dg],dB=$g.toLowerCase(),hB=$g[0].toUpperCase()+$g.slice(1);Tr(dB,"on"+hB)}Tr(Jj,"onAnimationEnd"),Tr(eA,"onAnimationIteration"),Tr(tA,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(T5,"onTransitionRun"),Tr(M5,"onTransitionStart"),Tr(R5,"onTransitionCancel"),Tr(nA,"onTransitionEnd"),Xo("onMouseEnter",["mouseout","mouseover"]),Xo("onMouseLeave",["mouseout","mouseover"]),Xo("onPointerEnter",["pointerout","pointerover"]),Xo("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function wE(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],w=v.event;v=v.listeners;e:{var A=void 0;if(c)for(var q=v.length-1;0<=q;q--){var K=v[q],J=K.instance,ue=K.currentTarget;if(K=K.listener,J!==A&&w.isPropagationStopped())break e;A=K,w.currentTarget=ue;try{A(w)}catch(be){hd(be)}w.currentTarget=null,A=J}else for(q=0;q<v.length;q++){if(K=v[q],J=K.instance,ue=K.currentTarget,K=K.listener,J!==A&&w.isPropagationStopped())break e;A=K,w.currentTarget=ue;try{A(w)}catch(be){hd(be)}w.currentTarget=null,A=J}}}}function at(o,c){var h=c[Xm];h===void 0&&(h=c[Xm]=new Set);var v=o+"__bubble";h.has(v)||(_E(c,o,2,!1),h.add(v))}function Ig(o,c,h){var v=0;c&&(v|=4),_E(h,o,v,c)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Lg(o){if(!o[Ed]){o[Ed]=!0,mj.forEach(function(h){h!=="selectionchange"&&(pB.has(h)||Ig(h,!1,o),Ig(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ed]||(c[Ed]=!0,Ig("selectionchange",!1,c))}}function _E(o,c,h,v){switch(GE(c)){case 2:var w=qB;break;case 8:w=UB;break;default:w=Qg}h=w.bind(null,c,h,o),w=void 0,!ov||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),v?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function zg(o,c,h,v,w){var A=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var q=v.tag;if(q===3||q===4){var K=v.stateNode.containerInfo;if(K===w)break;if(q===4)for(q=v.return;q!==null;){var J=q.tag;if((J===3||J===4)&&q.stateNode.containerInfo===w)return;q=q.return}for(;K!==null;){if(q=Go(K),q===null)return;if(J=q.tag,J===5||J===6||J===26||J===27){v=A=q;continue e}K=K.parentNode}}v=v.return}Cj(function(){var ue=A,be=iv(h),Se=[];e:{var me=rA.get(o);if(me!==void 0){var ve=qf,Ve=o;switch(o){case"keypress":if(zf(h)===0)break e;case"keydown":case"keyup":ve=l5;break;case"focusin":Ve="focus",ve=uv;break;case"focusout":Ve="blur",ve=uv;break;case"beforeblur":case"afterblur":ve=uv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Rj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Wz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=f5;break;case Jj:case eA:case tA:ve=Jz;break;case nA:ve=h5;break;case"scroll":case"scrollend":ve=Yz;break;case"wheel":ve=m5;break;case"copy":case"cut":case"paste":ve=t5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=kj;break;case"toggle":case"beforetoggle":ve=g5}var qe=(c&4)!==0,jt=!qe&&(o==="scroll"||o==="scrollend"),ae=qe?me!==null?me+"Capture":null:me;qe=[];for(var te=ue,ce;te!==null;){var _e=te;if(ce=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ce===null||ae===null||(_e=tc(te,ae),_e!=null&&qe.push(Ic(te,_e,ce))),jt)break;te=te.return}0<qe.length&&(me=new ve(me,Ve,null,h,be),Se.push({event:me,listeners:qe}))}}if((c&7)===0){e:{if(me=o==="mouseover"||o==="pointerover",ve=o==="mouseout"||o==="pointerout",me&&h!==rv&&(Ve=h.relatedTarget||h.fromElement)&&(Go(Ve)||Ve[Vo]))break e;if((ve||me)&&(me=be.window===be?be:(me=be.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Ve=h.relatedTarget||h.toElement,ve=ue,Ve=Ve?Go(Ve):null,Ve!==null&&(jt=s(Ve),qe=Ve.tag,Ve!==jt||qe!==5&&qe!==27&&qe!==6)&&(Ve=null)):(ve=null,Ve=ue),ve!==Ve)){if(qe=Rj,_e="onMouseLeave",ae="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(qe=kj,_e="onPointerLeave",ae="onPointerEnter",te="pointer"),jt=ve==null?me:ec(ve),ce=Ve==null?me:ec(Ve),me=new qe(_e,te+"leave",ve,h,be),me.target=jt,me.relatedTarget=ce,_e=null,Go(be)===ue&&(qe=new qe(ae,te+"enter",Ve,h,be),qe.target=ce,qe.relatedTarget=jt,_e=qe),jt=_e,ve&&Ve)t:{for(qe=ve,ae=Ve,te=0,ce=qe;ce;ce=Os(ce))te++;for(ce=0,_e=ae;_e;_e=Os(_e))ce++;for(;0<te-ce;)qe=Os(qe),te--;for(;0<ce-te;)ae=Os(ae),ce--;for(;te--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Os(qe),ae=Os(ae)}qe=null}else qe=null;ve!==null&&SE(Se,me,ve,qe,!1),Ve!==null&&jt!==null&&SE(Se,jt,Ve,qe,!0)}}e:{if(me=ue?ec(ue):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var Re=Uj;else if(Bj(me))if(Fj)Re=E5;else{Re=A5;var rt=j5}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ue&&nv(ue.elementType)&&(Re=Uj):Re=O5;if(Re&&(Re=Re(o,ue))){qj(Se,Re,h,be);break e}rt&&rt(o,me,ue),o==="focusout"&&ue&&me.type==="number"&&ue.memoizedProps.value!=null&&tv(me,"number",me.value)}switch(rt=ue?ec(ue):window,o){case"focusin":(Bj(rt)||rt.contentEditable==="true")&&(ns=rt,vv=ue,cc=null);break;case"focusout":cc=vv=ns=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,Zj(Se,h,be);break;case"selectionchange":if(C5)break;case"keydown":case"keyup":Zj(Se,h,be)}var Le;if(dv)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ts?Lj(o,h)&&(Ue="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ue="onCompositionStart");Ue&&(Dj&&h.locale!=="ko"&&(ts||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ts&&(Le=Tj()):(ra=be,sv="value"in ra?ra.value:ra.textContent,ts=!0)),rt=Nd(ue,Ue),0<rt.length&&(Ue=new Pj(Ue,o,null,h,be),Se.push({event:Ue,listeners:rt}),Le?Ue.data=Le:(Le=zj(h),Le!==null&&(Ue.data=Le)))),(Le=x5?b5(o,h):w5(o,h))&&(Ue=Nd(ue,"onBeforeInput"),0<Ue.length&&(rt=new Pj("onBeforeInput","beforeinput",null,h,be),Se.push({event:rt,listeners:Ue}),rt.data=Le)),fB(Se,o,ue,h,be)}wE(Se,c)})}function Ic(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Nd(o,c){for(var h=c+"Capture",v=[];o!==null;){var w=o,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=tc(o,h),w!=null&&v.unshift(Ic(o,w,A)),w=tc(o,c),w!=null&&v.push(Ic(o,w,A))),o.tag===3)return v;o=o.return}return[]}function Os(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function SE(o,c,h,v,w){for(var A=c._reactName,q=[];h!==null&&h!==v;){var K=h,J=K.alternate,ue=K.stateNode;if(K=K.tag,J!==null&&J===v)break;K!==5&&K!==26&&K!==27||ue===null||(J=ue,w?(ue=tc(h,A),ue!=null&&q.unshift(Ic(h,ue,J))):w||(ue=tc(h,A),ue!=null&&q.push(Ic(h,ue,J)))),h=h.return}q.length!==0&&o.push({event:c,listeners:q})}var mB=/\r\n?/g,vB=/\u0000|\uFFFD/g;function jE(o){return(typeof o=="string"?o:""+o).replace(mB,`
`).replace(vB,"")}function AE(o,c){return c=jE(c),jE(o)===c}function Cd(){}function St(o,c,h,v,w,A){switch(h){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Qo(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Qo(o,""+v);break;case"className":kf(o,"class",v);break;case"tabIndex":kf(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":kf(o,h,v);break;case"style":Ej(o,v,A);break;case"data":if(c!=="object"){kf(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=If(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(c!=="input"&&St(o,c,"name",w.name,w,null),St(o,c,"formEncType",w.formEncType,w,null),St(o,c,"formMethod",w.formMethod,w,null),St(o,c,"formTarget",w.formTarget,w,null)):(St(o,c,"encType",w.encType,w,null),St(o,c,"method",w.method,w,null),St(o,c,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=If(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=Cd);break;case"onScroll":v!=null&&at("scroll",o);break;case"onScrollEnd":v!=null&&at("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=If(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":at("beforetoggle",o),at("toggle",o),Pf(o,"popover",v);break;case"xlinkActuate":yi(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":yi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":yi(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":yi(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":yi(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":yi(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":yi(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":yi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":yi(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Pf(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Gz.get(h)||h,Pf(o,h,v))}}function Bg(o,c,h,v,w,A){switch(h){case"style":Ej(o,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof v=="string"?Qo(o,v):(typeof v=="number"||typeof v=="bigint")&&Qo(o,""+v);break;case"onScroll":v!=null&&at("scroll",o);break;case"onScrollEnd":v!=null&&at("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Cd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vj.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),A=o[In]||null,A=A!=null?A[h]:null,typeof A=="function"&&o.removeEventListener(c,A,w),typeof v=="function")){typeof A!="function"&&A!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,v,w);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):Pf(o,h,v)}}}function mn(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",o),at("load",o);var v=!1,w=!1,A;for(A in h)if(h.hasOwnProperty(A)){var q=h[A];if(q!=null)switch(A){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:St(o,c,A,q,h,null)}}w&&St(o,c,"srcSet",h.srcSet,h,null),v&&St(o,c,"src",h.src,h,null);return;case"input":at("invalid",o);var K=A=q=w=null,J=null,ue=null;for(v in h)if(h.hasOwnProperty(v)){var be=h[v];if(be!=null)switch(v){case"name":w=be;break;case"type":q=be;break;case"checked":J=be;break;case"defaultChecked":ue=be;break;case"value":A=be;break;case"defaultValue":K=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:St(o,c,v,be,h,null)}}Sj(o,A,K,J,ue,q,w,!1),Df(o);return;case"select":at("invalid",o),v=q=A=null;for(w in h)if(h.hasOwnProperty(w)&&(K=h[w],K!=null))switch(w){case"value":A=K;break;case"defaultValue":q=K;break;case"multiple":v=K;default:St(o,c,w,K,h,null)}c=A,h=q,o.multiple=!!v,c!=null?Zo(o,!!v,c,!1):h!=null&&Zo(o,!!v,h,!0);return;case"textarea":at("invalid",o),A=w=v=null;for(q in h)if(h.hasOwnProperty(q)&&(K=h[q],K!=null))switch(q){case"value":v=K;break;case"defaultValue":w=K;break;case"children":A=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:St(o,c,q,K,h,null)}Aj(o,v,w,A),Df(o);return;case"option":for(J in h)if(h.hasOwnProperty(J)&&(v=h[J],v!=null))switch(J){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:St(o,c,J,v,h,null)}return;case"dialog":at("beforetoggle",o),at("toggle",o),at("cancel",o),at("close",o);break;case"iframe":case"object":at("load",o);break;case"video":case"audio":for(v=0;v<$c.length;v++)at($c[v],o);break;case"image":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"embed":case"source":case"link":at("error",o),at("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in h)if(h.hasOwnProperty(ue)&&(v=h[ue],v!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:St(o,c,ue,v,h,null)}return;default:if(nv(c)){for(be in h)h.hasOwnProperty(be)&&(v=h[be],v!==void 0&&Bg(o,c,be,v,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(v=h[K],v!=null&&St(o,c,K,v,h,null))}function gB(o,c,h,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,q=null,K=null,J=null,ue=null,be=null;for(ve in h){var Se=h[ve];if(h.hasOwnProperty(ve)&&Se!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=Se;default:v.hasOwnProperty(ve)||St(o,c,ve,null,v,Se)}}for(var me in v){var ve=v[me];if(Se=h[me],v.hasOwnProperty(me)&&(ve!=null||Se!=null))switch(me){case"type":A=ve;break;case"name":w=ve;break;case"checked":ue=ve;break;case"defaultChecked":be=ve;break;case"value":q=ve;break;case"defaultValue":K=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==Se&&St(o,c,me,ve,v,Se)}}ev(o,q,K,J,ue,be,A,w);return;case"select":ve=q=K=me=null;for(A in h)if(J=h[A],h.hasOwnProperty(A)&&J!=null)switch(A){case"value":break;case"multiple":ve=J;default:v.hasOwnProperty(A)||St(o,c,A,null,v,J)}for(w in v)if(A=v[w],J=h[w],v.hasOwnProperty(w)&&(A!=null||J!=null))switch(w){case"value":me=A;break;case"defaultValue":K=A;break;case"multiple":q=A;default:A!==J&&St(o,c,w,A,v,J)}c=K,h=q,v=ve,me!=null?Zo(o,!!h,me,!1):!!v!=!!h&&(c!=null?Zo(o,!!h,c,!0):Zo(o,!!h,h?[]:"",!1));return;case"textarea":ve=me=null;for(K in h)if(w=h[K],h.hasOwnProperty(K)&&w!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:St(o,c,K,null,v,w)}for(q in v)if(w=v[q],A=h[q],v.hasOwnProperty(q)&&(w!=null||A!=null))switch(q){case"value":me=w;break;case"defaultValue":ve=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==A&&St(o,c,q,w,v,A)}jj(o,me,ve);return;case"option":for(var Ve in h)if(me=h[Ve],h.hasOwnProperty(Ve)&&me!=null&&!v.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:St(o,c,Ve,null,v,me)}for(J in v)if(me=v[J],ve=h[J],v.hasOwnProperty(J)&&me!==ve&&(me!=null||ve!=null))switch(J){case"selected":o.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:St(o,c,J,me,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in h)me=h[qe],h.hasOwnProperty(qe)&&me!=null&&!v.hasOwnProperty(qe)&&St(o,c,qe,null,v,me);for(ue in v)if(me=v[ue],ve=h[ue],v.hasOwnProperty(ue)&&me!==ve&&(me!=null||ve!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:St(o,c,ue,me,v,ve)}return;default:if(nv(c)){for(var jt in h)me=h[jt],h.hasOwnProperty(jt)&&me!==void 0&&!v.hasOwnProperty(jt)&&Bg(o,c,jt,void 0,v,me);for(be in v)me=v[be],ve=h[be],!v.hasOwnProperty(be)||me===ve||me===void 0&&ve===void 0||Bg(o,c,be,me,v,ve);return}}for(var ae in h)me=h[ae],h.hasOwnProperty(ae)&&me!=null&&!v.hasOwnProperty(ae)&&St(o,c,ae,null,v,me);for(Se in v)me=v[Se],ve=h[Se],!v.hasOwnProperty(Se)||me===ve||me==null&&ve==null||St(o,c,Se,me,v,ve)}var qg=null,Ug=null;function Td(o){return o.nodeType===9?o:o.ownerDocument}function OE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Fg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hg=null;function yB(){var o=window.event;return o&&o.type==="popstate"?o===Hg?!1:(Hg=o,!0):(Hg=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(o){return CE.resolve(null).then(o).catch(wB)}:NE;function wB(o){setTimeout(function(){throw o})}function xa(o){return o==="head"}function TE(o,c){var h=c,v=0,w=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"){if(0<v&&8>v){h=v;var q=o.ownerDocument;if(h&1&&Lc(q.documentElement),h&2&&Lc(q.body),h&4)for(h=q.head,Lc(h),q=h.firstChild;q;){var K=q.nextSibling,J=q.nodeName;q[Jl]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&q.rel.toLowerCase()==="stylesheet"||h.removeChild(q),q=K}}if(w===0){o.removeChild(A),Gc(c);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:v=h.charCodeAt(0)-48;else v=0;h=A}while(h);Gc(c)}function Vg(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Vg(h),Wm(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function _B(o,c,h,v){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Jl])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=Rr(o.nextSibling),o===null)break}return null}function SB(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Rr(o.nextSibling),o===null))return null;return o}function Gg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function jB(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var v=function(){c(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Rr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Kg=null;function ME(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function RE(o,c,h){switch(c=Td(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Lc(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Wm(o)}var yr=new Map,PE=new Set;function Md(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ri=U.d;U.d={f:AB,r:OB,D:EB,C:NB,L:CB,m:TB,X:RB,S:MB,M:PB};function AB(){var o=Ri.f(),c=_d();return o||c}function OB(o){var c=Ko(o);c!==null&&c.tag===5&&c.type==="form"?JA(c):Ri.r(o)}var Es=typeof document>"u"?null:document;function kE(o,c,h){var v=Es;if(v&&typeof c=="string"&&c){var w=fr(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),PE.has(w)||(PE.add(w),o={rel:o,crossOrigin:h,href:c},v.querySelector(w)===null&&(c=v.createElement("link"),mn(c,"link",o),on(c),v.head.appendChild(c)))}}function EB(o){Ri.D(o),kE("dns-prefetch",o,null)}function NB(o,c){Ri.C(o,c),kE("preconnect",o,c)}function CB(o,c,h){Ri.L(o,c,h);var v=Es;if(v&&o&&c){var w='link[rel="preload"][as="'+fr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+fr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+fr(h.imageSizes)+'"]')):w+='[href="'+fr(o)+'"]';var A=w;switch(c){case"style":A=Ns(o);break;case"script":A=Cs(o)}yr.has(A)||(o=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),yr.set(A,o),v.querySelector(w)!==null||c==="style"&&v.querySelector(zc(A))||c==="script"&&v.querySelector(Bc(A))||(c=v.createElement("link"),mn(c,"link",o),on(c),v.head.appendChild(c)))}}function TB(o,c){Ri.m(o,c);var h=Es;if(h&&o){var v=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+fr(v)+'"][href="'+fr(o)+'"]',A=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Cs(o)}if(!yr.has(A)&&(o=m({rel:"modulepreload",href:o},c),yr.set(A,o),h.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Bc(A)))return}v=h.createElement("link"),mn(v,"link",o),on(v),h.head.appendChild(v)}}}function MB(o,c,h){Ri.S(o,c,h);var v=Es;if(v&&o){var w=Yo(v).hoistableStyles,A=Ns(o);c=c||"default";var q=w.get(A);if(!q){var K={loading:0,preload:null};if(q=v.querySelector(zc(A)))K.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},h),(h=yr.get(A))&&Yg(o,h);var J=q=v.createElement("link");on(J),mn(J,"link",o),J._p=new Promise(function(ue,be){J.onload=ue,J.onerror=be}),J.addEventListener("load",function(){K.loading|=1}),J.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Rd(q,c,v)}q={type:"stylesheet",instance:q,count:1,state:K},w.set(A,q)}}}function RB(o,c){Ri.X(o,c);var h=Es;if(h&&o){var v=Yo(h).hoistableScripts,w=Cs(o),A=v.get(w);A||(A=h.querySelector(Bc(w)),A||(o=m({src:o,async:!0},c),(c=yr.get(w))&&Xg(o,c),A=h.createElement("script"),on(A),mn(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(w,A))}}function PB(o,c){Ri.M(o,c);var h=Es;if(h&&o){var v=Yo(h).hoistableScripts,w=Cs(o),A=v.get(w);A||(A=h.querySelector(Bc(w)),A||(o=m({src:o,async:!0,type:"module"},c),(c=yr.get(w))&&Xg(o,c),A=h.createElement("script"),on(A),mn(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(w,A))}}function DE(o,c,h,v){var w=(w=re.current)?Md(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ns(h.href),h=Yo(w).hoistableStyles,v=h.get(c),v||(v={type:"style",instance:null,count:0,state:null},h.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Ns(h.href);var A=Yo(w).hoistableStyles,q=A.get(o);if(q||(w=w.ownerDocument||w,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,q),(A=w.querySelector(zc(o)))&&!A._p&&(q.instance=A,q.state.loading=5),yr.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},yr.set(o,h),A||kB(w,o,h,q.state))),c&&v===null)throw Error(r(528,""));return q}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Cs(h),h=Yo(w).hoistableScripts,v=h.get(c),v||(v={type:"script",instance:null,count:0,state:null},h.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ns(o){return'href="'+fr(o)+'"'}function zc(o){return'link[rel="stylesheet"]['+o+"]"}function $E(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function kB(o,c,h,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),mn(c,"link",h),on(c),o.head.appendChild(c))}function Cs(o){return'[src="'+fr(o)+'"]'}function Bc(o){return"script[async]"+o}function IE(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+fr(h.href)+'"]');if(v)return c.instance=v,on(v),v;var w=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),on(v),mn(v,"style",w),Rd(v,h.precedence,o),c.instance=v;case"stylesheet":w=Ns(h.href);var A=o.querySelector(zc(w));if(A)return c.state.loading|=4,c.instance=A,on(A),A;v=$E(h),(w=yr.get(w))&&Yg(v,w),A=(o.ownerDocument||o).createElement("link"),on(A);var q=A;return q._p=new Promise(function(K,J){q.onload=K,q.onerror=J}),mn(A,"link",v),c.state.loading|=4,Rd(A,h.precedence,o),c.instance=A;case"script":return A=Cs(h.src),(w=o.querySelector(Bc(A)))?(c.instance=w,on(w),w):(v=h,(w=yr.get(A))&&(v=m({},h),Xg(v,w)),o=o.ownerDocument||o,w=o.createElement("script"),on(w),mn(w,"link",v),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Rd(v,h.precedence,o));return c.instance}function Rd(o,c,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,A=w,q=0;q<v.length;q++){var K=v[q];if(K.dataset.precedence===c)A=K;else if(A!==w)break}A?A.parentNode.insertBefore(o,A.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Yg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Xg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Pd=null;function LE(o,c,h){if(Pd===null){var v=new Map,w=Pd=new Map;w.set(h,v)}else w=Pd,v=w.get(h),v||(v=new Map,w.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var A=h[w];if(!(A[Jl]||A[bn]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var q=A.getAttribute(c)||"";q=o+q;var K=v.get(q);K?K.push(A):v.set(q,[A])}}return v}function zE(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function DB(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function BE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var qc=null;function $B(){}function IB(o,c,h){if(qc===null)throw Error(r(475));var v=qc;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Ns(h.href),A=o.querySelector(zc(w));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=kd.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=A,on(A);return}A=o.ownerDocument||o,h=$E(h),(w=yr.get(w))&&Yg(h,w),A=A.createElement("link"),on(A);var q=A;q._p=new Promise(function(K,J){q.onload=K,q.onerror=J}),mn(A,"link",h),c.instance=A}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=kd.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function LB(){if(qc===null)throw Error(r(475));var o=qc;return o.stylesheets&&o.count===0&&Wg(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&Wg(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)Wg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Dd=null;function Wg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Dd=new Map,c.forEach(zB,o),Dd=null,kd.call(o))}function zB(o,c){if(!(c.state.loading&4)){var h=Dd.get(o);if(h)var v=h.get(null);else{h=new Map,Dd.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var q=w[A];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(h.set(q.dataset.precedence,q),v=q)}v&&h.set(null,v)}w=c.instance,q=w.getAttribute("data-precedence"),A=h.get(q)||v,A===v&&h.set(null,w),h.set(q,w),this.count++,v=kd.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),A?A.parentNode.insertBefore(w,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Uc={$$typeof:T,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function BB(o,c,h,v,w,A,q,K){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.hiddenUpdates=Gm(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function qE(o,c,h,v,w,A,q,K,J,ue,be,Se){return o=new BB(o,c,h,q,K,J,ue,Se),c=1,A===!0&&(c|=24),A=Xn(3,null,null,c),o.current=A,A.stateNode=o,c=Mv(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:v,isDehydrated:h,cache:c},Dv(A),o}function UE(o){return o?(o=os,o):os}function FE(o,c,h,v,w,A){w=UE(w),v.context===null?v.context=w:v.pendingContext=w,v=oa(c),v.payload={element:h},A=A===void 0?null:A,A!==null&&(v.callback=A),h=sa(o,v,c),h!==null&&(er(h,o,c),yc(h,o,c))}function HE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Zg(o,c){HE(o,c),(o=o.alternate)&&HE(o,c)}function VE(o){if(o.tag===13){var c=as(o,67108864);c!==null&&er(c,o,67108864),Zg(o,67108864)}}var $d=!0;function qB(o,c,h,v){var w=k.T;k.T=null;var A=U.p;try{U.p=2,Qg(o,c,h,v)}finally{U.p=A,k.T=w}}function UB(o,c,h,v){var w=k.T;k.T=null;var A=U.p;try{U.p=8,Qg(o,c,h,v)}finally{U.p=A,k.T=w}}function Qg(o,c,h,v){if($d){var w=Jg(v);if(w===null)zg(o,c,v,Id,h),KE(o,v);else if(HB(w,o,c,h,v))v.stopPropagation();else if(KE(o,v),c&4&&-1<FB.indexOf(o)){for(;w!==null;){var A=Ko(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var q=Ka(A.pendingLanes);if(q!==0){var K=A;for(K.pendingLanes|=2,K.entangledLanes|=2;q;){var J=1<<31-pt(q);K.entanglements[1]|=J,q&=~J}Wr(A),(xt&6)===0&&(bd=he()+500,Dc(0))}}break;case 13:K=as(A,2),K!==null&&er(K,A,2),_d(),Zg(A,2)}if(A=Jg(v),A===null&&zg(o,c,v,Id,h),A===w)break;w=A}w!==null&&v.stopPropagation()}else zg(o,c,v,null,h)}}function Jg(o){return o=iv(o),ey(o)}var Id=null;function ey(o){if(Id=null,o=Go(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Id=o,null}function GE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case ye:return 2;case we:return 8;case Oe:case je:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var ty=!1,ba=null,wa=null,_a=null,Fc=new Map,Hc=new Map,Sa=[],FB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(o,c){switch(o){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Fc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(c.pointerId)}}function Vc(o,c,h,v,w,A){return o===null||o.nativeEvent!==A?(o={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:A,targetContainers:[w]},c!==null&&(c=Ko(c),c!==null&&VE(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function HB(o,c,h,v,w){switch(c){case"focusin":return ba=Vc(ba,o,c,h,v,w),!0;case"dragenter":return wa=Vc(wa,o,c,h,v,w),!0;case"mouseover":return _a=Vc(_a,o,c,h,v,w),!0;case"pointerover":var A=w.pointerId;return Fc.set(A,Vc(Fc.get(A)||null,o,c,h,v,w)),!0;case"gotpointercapture":return A=w.pointerId,Hc.set(A,Vc(Hc.get(A)||null,o,c,h,v,w)),!0}return!1}function YE(o){var c=Go(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,Iz(o.priority,function(){if(h.tag===13){var v=Jn();v=Km(v);var w=as(h,v);w!==null&&er(w,h,v),Zg(h,v)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ld(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Jg(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);rv=v,h.target.dispatchEvent(v),rv=null}else return c=Ko(h),c!==null&&VE(c),o.blockedOn=h,!1;c.shift()}return!0}function XE(o,c,h){Ld(o)&&h.delete(c)}function VB(){ty=!1,ba!==null&&Ld(ba)&&(ba=null),wa!==null&&Ld(wa)&&(wa=null),_a!==null&&Ld(_a)&&(_a=null),Fc.forEach(XE),Hc.forEach(XE)}function zd(o,c){o.blockedOn===c&&(o.blockedOn=null,ty||(ty=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VB)))}var Bd=null;function WE(o){Bd!==o&&(Bd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bd===o&&(Bd=null);for(var c=0;c<o.length;c+=3){var h=o[c],v=o[c+1],w=o[c+2];if(typeof v!="function"){if(ey(v||h)===null)continue;break}var A=Ko(h);A!==null&&(o.splice(c,3),c-=3,eg(A,{pending:!0,data:w,method:h.method,action:v},v,w))}}))}function Gc(o){function c(J){return zd(J,o)}ba!==null&&zd(ba,o),wa!==null&&zd(wa,o),_a!==null&&zd(_a,o),Fc.forEach(c),Hc.forEach(c);for(var h=0;h<Sa.length;h++){var v=Sa[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Sa.length&&(h=Sa[0],h.blockedOn===null);)YE(h),h.blockedOn===null&&Sa.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var w=h[v],A=h[v+1],q=w[In]||null;if(typeof A=="function")q||WE(h);else if(q){var K=null;if(A&&A.hasAttribute("formAction")){if(w=A,q=A[In]||null)K=q.formAction;else if(ey(w)!==null)continue}else K=q.action;typeof K=="function"?h[v+1]=K:(h.splice(v,3),v-=3),WE(h)}}}function ny(o){this._internalRoot=o}qd.prototype.render=ny.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,v=Jn();FE(h,v,o,c,null,null)},qd.prototype.unmount=ny.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;FE(o.current,2,null,o,null,null),_d(),c[Vo]=null}};function qd(o){this._internalRoot=o}qd.prototype.unstable_scheduleHydration=function(o){if(o){var c=hj();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Sa.length&&c!==0&&c<Sa[h].priority;h++);Sa.splice(h,0,o),h===0&&YE(o)}};var ZE=t.version;if(ZE!=="19.1.1")throw Error(r(527,ZE,"19.1.1"));U.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var GB={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{ze=Ud.inject(GB),De=Ud}catch{}}return Yc.createRoot=function(o,c){if(!a(o))throw Error(r(299));var h=!1,v="",w=hO,A=pO,q=mO,K=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks)),c=qE(o,1,!1,null,null,h,v,w,A,q,K,null),o[Vo]=c.current,Lg(o),new ny(c)},Yc.hydrateRoot=function(o,c,h){if(!a(o))throw Error(r(299));var v=!1,w="",A=hO,q=pO,K=mO,J=null,ue=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(q=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(J=h.unstable_transitionCallbacks),h.formState!==void 0&&(ue=h.formState)),c=qE(o,1,!0,c,h??null,v,w,A,q,K,J,ue),c.context=UE(null),h=c.current,v=Jn(),v=Km(v),w=oa(v),w.callback=null,sa(h,w,v),h=v,c.current.lanes=h,Ql(c,h),Wr(c),o[Vo]=c.current,Lg(o),new qd(c)},Yc.version="19.1.1",Yc}var sN;function nq(){if(sN)return ay.exports;sN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ay.exports=tq(),ay.exports}var rq=nq();const iq="modulepreload",aq=function(e){return"/agent-network-visualizer-v3.1/"+e},lN={},oq=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=l(n.map(f=>{if(f=aq(f),f in lN)return;lN[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":iq,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((x,S)=>{y.addEventListener("load",x),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};function sq(e){const t=[];for(let n=0;n<e;n++)t.push(Math.random()*2-1);return t}function Sr(e){const t=Math.sqrt(e.reduce((n,r)=>n+r*r,0));return t===0?e:e.map(n=>n/t)}function An(e,t){const n=e.reduce((s,l,u)=>s+l*t[u],0),r=Math.sqrt(e.reduce((s,l)=>s+l*l,0)),a=Math.sqrt(t.reduce((s,l)=>s+l*l,0));return r===0||a===0?0:n/(r*a)}function lq(e=150,t,n=3,r=null){const a=[];let s=e,l=t;if(r){if(s=r.length,s===0)throw new Error("Загруженный файл агентов пуст.");l=r[0].length}let u=[];if(r&&r.length>=n){for(let d=0;d<n;d++){const f=Math.floor(d*s/n);u.push(Sr([...r[f]]))}for(let d=0;d<5;d++){const f=Array(n).fill().map(()=>[]);for(let m=0;m<s;m++){const g=Sr(r[m]);let y=0,x=-1;for(let S=0;S<n;S++){const _=An(g,u[S]);_>x&&(x=_,y=S)}f[y].push(g)}for(let m=0;m<n;m++)if(f[m].length>0){const g=Array(l).fill(0);for(const y of f[m])for(let x=0;x<l;x++)g[x]+=y[x];for(let y=0;y<l;y++)g[y]/=f[m].length;u[m]=Sr(g)}}}else for(let d=0;d<n;d++){const f=[];for(let m=0;m<l;m++){const g=d/(n-1)*2-1,y=(Math.random()-.5)*1.5;f.push(g+y)}u.push(Sr(f))}for(let d=0;d<s;d++){let f;if(r)f=r[d];else{const y=d%n,x=u[y],S=.4+y/n*.3;f=x.map(_=>{const b=(Math.random()-.5)*S;return _+b})}let m=0,g=-1;for(let y=0;y<n;y++){const x=An(Sr(f),u[y]);x>g&&(g=x,m=y)}if(r&&n>1){const y=d%n;g<.7&&(m=y)}a.push({id:d,values:Sr(f),cluster:m,opinions:{}})}return{agents:a,clusterCenters:u}}function cq(e,t,n=[],r=null,a=null,s,l,u){const d=[];if(a&&a.customLogic)try{const m=new Function("agents","clusterCenters","vectorDimension","numClusters","recalculateClustersAfter",a.customLogic)(u,n,e,s,l);if(Array.isArray(m))return m.map((g,y)=>({id:y,vector:Array.isArray(g)?Sr(g):Sr(g.vector||sq(e))}))}catch(f){console.error("Ошибка в пользовательском сценарии:",f)}if(r)r.forEach((f,m)=>{d.push({id:m,vector:Sr(f)})});else{for(let f=0;f<10;f++){const m=[];for(let g=0;g<e;g++){const y=Math.sin(f*Math.PI/5)*Math.cos(g*Math.PI/e),x=(Math.random()-.5)*2;m.push(y+x)}d.push({id:f,vector:Sr(m)})}if(t==="B"&&n.length>0){const f=Math.floor(Math.random()*n.length),m=n[f],g=m.map(x=>x+(Math.random()-.5)*.05);d[0]={id:0,vector:Sr(g),isTargetTopic:!0,targetCluster:f};const y=m.map(x=>x+(Math.random()-.5)*.08);d[1]={id:1,vector:Sr(y),isTargetTopic:!0,targetCluster:f}}}return d}function uq(e,t,n,r=.4,a=.3,s=.1){const l=Math.max(0,An(e.values,t.values));let u=0;n.forEach(f=>{const m=Math.max(0,An(e.values,f.vector)),g=Math.max(0,An(t.values,f.vector));u+=Math.min(m,g)}),u/=n.length;const d=r*l+a*u+s;return Math.max(0,Math.min(1,d))}function fq(e,t,n){const r=n.map(l=>{const u=Math.max(0,An(e.values,l.vector)),d=Math.max(0,An(t.values,l.vector));return(u+d)/2}),a=r.reduce((l,u)=>l+u,0);if(a===0)return n[0];let s=Math.random()*a;for(let l=0;l<n.length;l++)if(s-=r[l],s<=0)return n[l];return n[n.length-1]}function tD(e,t,n=20,r=.3,a=0){const s=e.length,l=Array(s).fill().map(()=>Array(s).fill(0));for(let u=0;u<s;u++)for(let d=u+1;d<s;d++)l[u][d]=l[d][u]=.1+Math.random()*.2;for(let u=0;u<n;u++){const d=Math.floor(s*2);for(let f=0;f<d;f++){const m=Math.floor(Math.random()*s),g=Math.floor(Math.random()*s);if(m===g)continue;const y=e[m],x=e[g],S=l[m][g],_=uq(y,x,t),b=S*.5,j=Math.min(.8,_*.3+b+.2);if(Math.random()<j){const O=fq(y,x,t);let T=An(y.values,O.vector),E=An(x.values,O.vector);const N=(Math.random()-.5)*.2,C=(Math.random()-.5)*.2;if(T=Math.max(-1,Math.min(1,T+N)),E=Math.max(-1,Math.min(1,E+C)),Math.abs(T-E)<r){const M=.15+Math.random()*.1;l[m][g]=l[g][m]=Math.min(1,S+M)}else{const M=.08+Math.random()*.05;l[m][g]=l[g][m]=Math.max(0,S-M)}}}}return{connections:l,agents:e}}function nD(e,t,n=.5){const r=e.map(s=>{const l=t[s.id].filter(u=>u>=n).length;return{id:s.id,cluster:s.cluster,degree:l,values:s.values}}),a=[];for(let s=0;s<e.length;s++)for(let l=s+1;l<e.length;l++){const u=t[s][l];u>=n&&a.push({source:s,target:l,strength:u})}return{nodes:r,links:a}}function dq(e,t,n,r,a,s){const{nodes:l,links:u}=nD(e,t,s),d=e.length,f=u.length,m=(f/(d*(d-1)/2)*100).toFixed(1),g={},y=Math.max(...l.map(C=>C.cluster));for(let C=0;C<=y;C++){const R=l.filter(B=>B.cluster===C),M=u.filter(B=>l[B.source].cluster===C&&l[B.target].cluster===C),P=u.filter(B=>l[B.source].cluster===C&&l[B.target].cluster!==C||l[B.target].cluster===C&&l[B.source].cluster!==C);g[C]={agentCount:R.length,internalConnections:M.length,externalConnections:P.length,avgDegree:R.reduce((B,D)=>B+D.degree,0)/R.length||0}}const x=l.sort((C,R)=>R.degree-C.degree).slice(0,5),S=u.map(C=>C.strength),_=S.reduce((C,R)=>C+R,0)/S.length||0,b=u.filter(C=>C.strength>.7).length,j=u.filter(C=>C.strength<.4).length,O=u.filter(C=>l[C.source].cluster!==l[C.target].cluster).length,T=f-O;let E=`## Анализ результатов симуляции

`;E+=`### Общие характеристики сети

`,E+=`**Сценарий:** ${r==="A"?"Нейтральная информационная повестка":"Ценностно-близкая тема в повестке"}
`,E+=`**Количество циклов симуляции:** ${a}
`,E+=`**Общее количество агентов:** ${d}
`,E+=`**Сформировавшихся связей:** ${f} (порог отображения: ${s})
`,E+=`**Плотность сети:** ${m}% от максимально возможной
`,E+=`**Средняя сила связи:** ${_.toFixed(3)}

`,E+=`### Распределение связей по силе

`,E+=`- **Сильные связи** (>0.7): ${b} (${(b/f*100).toFixed(1)}%)
`,E+=`- **Средние связи** (0.4-0.7): ${f-b-j} (${((f-b-j)/f*100).toFixed(1)}%)
`,E+=`- **Слабые связи** (<0.4): ${j} (${(j/f*100).toFixed(1)}%)

`,E+=`### Структура кластеров

`;const N=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"];for(let C=0;C<=y;C++){const R=g[C];if(R&&R.agentCount>0){const M=N[C]||`Кластер ${C+1}`;E+=`**${M} кластер (${C+1}):**
`,E+=`- Агентов: ${R.agentCount}
`,E+=`- Внутренних связей: ${R.internalConnections}
`,E+=`- Внешних связей: ${R.externalConnections}
`,E+=`- Среднее количество связей на агента: ${R.avgDegree.toFixed(1)}
`,E+=`- Коэффициент замкнутости: ${(R.internalConnections/(R.internalConnections+R.externalConnections)*100).toFixed(1)}%

`}}return E+=`### Межкластерное взаимодействие

`,E+=`- **Связи внутри кластеров:** ${T} (${(T/f*100).toFixed(1)}%)
`,E+=`- **Связи между кластерами:** ${O} (${(O/f*100).toFixed(1)}%)

`,O>T?E+=`Сеть демонстрирует высокую степень интеграции между различными ценностными группами.

`:E+=`Агенты преимущественно формируют связи внутри своих ценностных групп, что указывает на эффект гомофилии.

`,E+=`### Ключевые агенты (топ-5 по количеству связей)

`,x.forEach((C,R)=>{var P;const M=((P=N[C.cluster])==null?void 0:P.toLowerCase())||`кластера ${C.cluster+1}`;E+=`${R+1}. **Агент ${C.id}** (${M} кластер) — ${C.degree} связей
`}),E+=`
`,E+=`### Интерпретация результатов

`,r==="A"?(E+="В сценарии с нейтральной информационной повесткой наблюдается относительно равномерное распределение связей между кластерами. ",E+=`Агенты формируют связи на основе общей совместимости ценностей, без влияния специфических тем.

`):(E+="В сценарии с ценностно-близкой темой можно ожидать усиления связей внутри целевого кластера, ",E+=`поскольку агенты с похожими ценностями чаще находят общие темы для обсуждения.

`),m>15?E+=`Высокая плотность сети (${m}%) указывает на активное взаимодействие между агентами и формирование устойчивых социальных связей.

`:m>8?E+=`Умеренная плотность сети (${m}%) свидетельствует о селективном формировании связей на основе совместимости ценностей.

`:E+=`Низкая плотность сети (${m}%) может указывать на высокую избирательность агентов или значительные различия в ценностных ориентациях.

`,E+=`### Практические выводы

`,E+="Данная симуляция демонстрирует, как индивидуальные акты общения между агентами приводят к формированию сложных сетевых структур. ",E+='Каждое взаимодействие — это "бросок монетки": агенты могут найти общую тему и укрепить связь, или столкнуться с различиями во мнениях и отдалиться друг от друга. ',E+=`Накопление тысяч таких микровзаимодействий создает наблюдаемую макроструктуру сети, которую человеческому мозгу сложно предсказать заранее.

`,E+="Полученные результаты могут быть полезны для понимания процессов распространения информации, формирования общественного мнения и разработки стратегий коммуникации в социальных сетях.",E}var mh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var hq=mh.exports,cN;function pq(){return cN||(cN=1,(function(e,t){((n,r)=>{e.exports=r()})(hq,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},a,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,u={},d=0,f={};function m(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var B=N(P);B.chunkSize=parseInt(B.chunkSize),P.step||P.chunk||(B.chunkSize=null),this._handle=new _(B),(this._handle.streamer=this)._config=B}).call(this,M),this.parseChunk=function(P,B){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let z=this._config.newline;z||(I=this._config.quoteChar||'"',z=this._handle.guessLineEndings(P,I)),P=[...P.split(z).slice(D)].join(z)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(P))!==void 0&&(P=I),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+P,I=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=I.meta.cursor,D=(this._finished||(this._partialLine=D.substring(P-this._baseIndex),this._baseIndex=P),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:I,workerId:f.WORKER_ID,finished:D});else if(R(this._config.chunk)&&!B){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!D||!R(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(P){R(this._config.error)?this._config.error(P):l&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function g(M){var P;(M=M||{}).chunkSize||(M.chunkSize=f.RemoteChunkSize),m.call(this,M),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),s||(P.onload=C(this._chunkLoaded,this),P.onerror=C(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var B,D=this._config.downloadRequestHeaders;for(B in D)P.setRequestHeader(B,D[B])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+I));try{P.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}s&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(B){B=P.statusText||B,this._sendError(new Error(B))}}function y(M){(M=M||{}).chunkSize||(M.chunkSize=f.LocalChunkSize),m.call(this,M);var P,B,D=typeof FileReader<"u";this.stream=function(I){this._input=I,B=I.slice||I.webkitSlice||I.mozSlice,D?((P=new FileReader).onload=C(this._chunkLoaded,this),P.onerror=C(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,z=(this._config.chunkSize&&(z=Math.min(this._start+this._config.chunkSize,this._input.size),I=B.call(I,this._start,z)),P.readAsText(I,this._config.encoding));D||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(P.error)}}function x(M){var P;m.call(this,M=M||{}),this.stream=function(B){return P=B,this._nextChunk()},this._nextChunk=function(){var B,D;if(!this._finished)return B=this._config.chunkSize,P=B?(D=P.substring(0,B),P.substring(B)):(D=P,""),this._finished=!P,this.parseChunk(D)}}function S(M){m.call(this,M=M||{});var P=[],B=!0,D=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):B=!0},this._streamData=C(function(I){try{P.push(typeof I=="string"?I:I.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(z){this._streamError(z)}},this),this._streamError=C(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=C(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(M){var P,B,D,I,z=Math.pow(2,53),L=-z,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,G=0,V=0,F=!1,X=!1,W=[],Y={data:[],errors:[],meta:{}};function ee(ge){return M.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function se(){if(Y&&D&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),D=!1),M.skipEmptyLines&&(Y.data=Y.data.filter(function(ie){return!ee(ie)})),re()){let ie=function(Ce,Ae){R(M.transformHeader)&&(Ce=M.transformHeader(Ce,Ae)),W.push(Ce)};var fe=ie;if(Y)if(Array.isArray(Y.data[0])){for(var ge=0;re()&&ge<Y.data.length;ge++)Y.data[ge].forEach(ie);Y.data.splice(0,1)}else Y.data.forEach(ie)}function oe(ie,Ce){for(var Ae=M.header?{}:[],Q=0;Q<ie.length;Q++){var ne=Q,he=ie[Q],he=((pe,ye)=>(we=>(M.dynamicTypingFunction&&M.dynamicTyping[we]===void 0&&(M.dynamicTyping[we]=M.dynamicTypingFunction(we)),(M.dynamicTyping[we]||M.dynamicTyping)===!0))(pe)?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&((we=>{if(H.test(we)&&(we=parseFloat(we),L<we&&we<z))return 1})(ye)?parseFloat(ye):k.test(ye)?new Date(ye):ye===""?null:ye):ye)(ne=M.header?Q>=W.length?"__parsed_extra":W[Q]:ne,he=M.transform?M.transform(he,ne):he);ne==="__parsed_extra"?(Ae[ne]=Ae[ne]||[],Ae[ne].push(he)):Ae[ne]=he}return M.header&&(Q>W.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+Q,V+Ce):Q<W.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+Q,V+Ce)),Ae}var le;Y&&(M.header||M.dynamicTyping||M.transform)&&(le=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(oe),le=Y.data.length):Y.data=oe(Y.data,0),M.header&&Y.meta&&(Y.meta.fields=W),V+=le)}function re(){return M.header&&W.length===0}function de(ge,oe,le,fe){ge={type:ge,code:oe,message:le},fe!==void 0&&(ge.row=fe),Y.errors.push(ge)}R(M.step)&&(I=M.step,M.step=function(ge){Y=ge,re()?se():(se(),Y.data.length!==0&&(G+=ge.data.length,M.preview&&G>M.preview?B.abort():(Y.data=Y.data[0],I(Y,U))))}),this.parse=function(ge,oe,le){var fe=M.quoteChar||'"',fe=(M.newline||(M.newline=this.guessLineEndings(ge,fe)),D=!1,M.delimiter?R(M.delimiter)&&(M.delimiter=M.delimiter(ge),Y.meta.delimiter=M.delimiter):((fe=((ie,Ce,Ae,Q,ne)=>{var he,pe,ye,we;ne=ne||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Oe=0;Oe<ne.length;Oe++){for(var je,Ne=ne[Oe],$e=0,et=0,ze=0,De=(ye=void 0,new j({comments:Q,delimiter:Ne,newline:Ce,preview:10}).parse(ie)),Qe=0;Qe<De.data.length;Qe++)Ae&&ee(De.data[Qe])?ze++:(je=De.data[Qe].length,et+=je,ye===void 0?ye=je:0<je&&($e+=Math.abs(je-ye),ye=je));0<De.data.length&&(et/=De.data.length-ze),(pe===void 0||$e<=pe)&&(we===void 0||we<et)&&1.99<et&&(pe=$e,he=Ne,we=et)}return{successful:!!(M.delimiter=he),bestDelimiter:he}})(ge,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=fe.bestDelimiter:(D=!0,M.delimiter=f.DefaultDelimiter),Y.meta.delimiter=M.delimiter),N(M));return M.preview&&M.header&&fe.preview++,P=ge,B=new j(fe),Y=B.parse(P,oe,le),se(),F?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,B.abort(),P=R(M.chunk)?"":P.substring(B.getCharIndex())},this.resume=function(){U.streamer._halted?(F=!1,U.streamer.parseChunk(P,!0)):setTimeout(U.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,B.abort(),Y.meta.aborted=!0,R(M.complete)&&M.complete(Y),P=""},this.guessLineEndings=function(ie,fe){ie=ie.substring(0,1048576);var fe=new RegExp(b(fe)+"([^]*?)"+b(fe),"gm"),le=(ie=ie.replace(fe,"")).split("\r"),fe=ie.split(`
`),ie=1<fe.length&&fe[0].length<le[0].length;if(le.length===1||ie)return`
`;for(var Ce=0,Ae=0;Ae<le.length;Ae++)le[Ae][0]===`
`&&Ce++;return Ce>=le.length/2?`\r
`:"\r"}}function b(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(M){var P=(M=M||{}).delimiter,B=M.newline,D=M.comments,I=M.step,z=M.preview,L=M.fastMode,H=null,k=!1,U=M.quoteChar==null?'"':M.quoteChar,G=U;if(M.escapeChar!==void 0&&(G=M.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),D===P)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<f.BAD_DELIMITERS.indexOf(D))&&(D=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var V=0,F=!1;this.parse=function(X,W,Y){if(typeof X!="string")throw new Error("Input must be a string");var ee=X.length,se=P.length,re=B.length,de=D.length,ge=R(I),oe=[],le=[],fe=[],ie=V=0;if(!X)return $e();if(L||L!==!1&&X.indexOf(U)===-1){for(var Ce=X.split(B),Ae=0;Ae<Ce.length;Ae++){if(fe=Ce[Ae],V+=fe.length,Ae!==Ce.length-1)V+=B.length;else if(Y)return $e();if(!D||fe.substring(0,de)!==D){if(ge){if(oe=[],we(fe.split(P)),et(),F)return $e()}else we(fe.split(P));if(z&&z<=Ae)return oe=oe.slice(0,z),$e(!0)}}return $e()}for(var Q=X.indexOf(P,V),ne=X.indexOf(B,V),he=new RegExp(b(G)+b(U),"g"),pe=X.indexOf(U,V);;)if(X[V]===U)for(pe=V,V++;;){if((pe=X.indexOf(U,pe+1))===-1)return Y||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:V}),je();if(pe===ee-1)return je(X.substring(V,pe).replace(he,U));if(U===G&&X[pe+1]===G)pe++;else if(U===G||pe===0||X[pe-1]!==G){Q!==-1&&Q<pe+1&&(Q=X.indexOf(P,pe+1));var ye=Oe((ne=ne!==-1&&ne<pe+1?X.indexOf(B,pe+1):ne)===-1?Q:Math.min(Q,ne));if(X.substr(pe+1+ye,se)===P){fe.push(X.substring(V,pe).replace(he,U)),X[V=pe+1+ye+se]!==U&&(pe=X.indexOf(U,V)),Q=X.indexOf(P,V),ne=X.indexOf(B,V);break}if(ye=Oe(ne),X.substring(pe+1+ye,pe+1+ye+re)===B){if(fe.push(X.substring(V,pe).replace(he,U)),Ne(pe+1+ye+re),Q=X.indexOf(P,V),pe=X.indexOf(U,V),ge&&(et(),F))return $e();if(z&&oe.length>=z)return $e(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:V}),pe++}}else if(D&&fe.length===0&&X.substring(V,V+de)===D){if(ne===-1)return $e();V=ne+re,ne=X.indexOf(B,V),Q=X.indexOf(P,V)}else if(Q!==-1&&(Q<ne||ne===-1))fe.push(X.substring(V,Q)),V=Q+se,Q=X.indexOf(P,V);else{if(ne===-1)break;if(fe.push(X.substring(V,ne)),Ne(ne+re),ge&&(et(),F))return $e();if(z&&oe.length>=z)return $e(!0)}return je();function we(ze){oe.push(ze),ie=V}function Oe(ze){var De=0;return De=ze!==-1&&(ze=X.substring(pe+1,ze))&&ze.trim()===""?ze.length:De}function je(ze){return Y||(ze===void 0&&(ze=X.substring(V)),fe.push(ze),V=ee,we(fe),ge&&et()),$e()}function Ne(ze){V=ze,we(fe),fe=[],ne=X.indexOf(B,V)}function $e(ze){if(M.header&&!W&&oe.length&&!k){var De=oe[0],Qe=Object.create(null),pt=new Set(De);let Mf=!1;for(let ta=0;ta<De.length;ta++){let cr=De[ta];if(Qe[cr=R(M.transformHeader)?M.transformHeader(cr,ta):cr]){let Vr,Ga=Qe[cr];for(;Vr=cr+"_"+Ga,Ga++,pt.has(Vr););pt.add(Vr),De[ta]=Vr,Qe[cr]++,Mf=!0,(H=H===null?{}:H)[Vr]=cr}else Qe[cr]=1,De[ta]=cr;pt.add(cr)}Mf&&console.warn("Duplicate headers found and renamed."),k=!0}return{data:oe,errors:le,meta:{delimiter:P,linebreak:B,aborted:F,truncated:!!ze,cursor:ie+(W||0),renamedHeaders:H}}}function et(){I($e()),oe=[],le=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return V}}function O(M){var P=M.data,B=u[P.workerId],D=!1;if(P.error)B.userError(P.error,P.file);else if(P.results&&P.results.data){var I={abort:function(){D=!0,T(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(R(B.userStep)){for(var z=0;z<P.results.data.length&&(B.userStep({data:P.results.data[z],errors:P.results.errors,meta:P.results.meta},I),!D);z++);delete P.results}else R(B.userChunk)&&(B.userChunk(P.results,I,P.file),delete P.results)}P.finished&&!D&&T(P.workerId,P.results)}function T(M,P){var B=u[M];R(B.userComplete)&&B.userComplete(P),B.terminate(),delete u[M]}function E(){throw new Error("Not implemented.")}function N(M){if(typeof M!="object"||M===null)return M;var P,B=Array.isArray(M)?[]:{};for(P in M)B[P]=N(M[P]);return B}function C(M,P){return function(){M.apply(P,arguments)}}function R(M){return typeof M=="function"}return f.parse=function(M,P){var B=(P=P||{}).dynamicTyping||!1;if(R(B)&&(P.dynamicTypingFunction=B,B={}),P.dynamicTyping=B,P.transform=!!R(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return B=null,f.NODE_STREAM_INPUT,typeof M=="string"?(M=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(M),B=new(P.download?g:x)(P)):M.readable===!0&&R(M.read)&&R(M.on)?B=new S(P):(r.File&&M instanceof File||M instanceof Object)&&(B=new y(P)),B.stream(M);(B=(()=>{var D;return!!f.WORKERS_SUPPORTED&&(D=(()=>{var I=r.URL||r.webkitURL||null,z=n.toString();return f.BLOB_URL||(f.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))})(),(D=new r.Worker(D)).onmessage=O,D.id=d++,u[D.id]=D)})()).userStep=P.step,B.userChunk=P.chunk,B.userComplete=P.complete,B.userError=P.error,P.step=R(P.step),P.chunk=R(P.chunk),P.complete=R(P.complete),P.error=R(P.error),delete P.worker,B.postMessage({input:M,config:P,workerId:B.id})},f.unparse=function(M,P){var B=!1,D=!0,I=",",z=`\r
`,L='"',H=L+L,k=!1,U=null,G=!1,V=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(W){return P.delimiter.indexOf(W)!==-1}).length||(I=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(B=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(k=P.skipEmptyLines),typeof P.newline=="string"&&(z=P.newline),typeof P.quoteChar=="string"&&(L=P.quoteChar),typeof P.header=="boolean"&&(D=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");U=P.columns}P.escapeChar!==void 0&&(H=P.escapeChar+L),P.escapeFormulae instanceof RegExp?G=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(L),"g"));if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return F(null,M,k);if(typeof M[0]=="object")return F(U||Object.keys(M[0]),M,k)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||U),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),F(M.fields||[],M.data||[],k);throw new Error("Unable to serialize unrecognized input");function F(W,Y,ee){var se="",re=(typeof W=="string"&&(W=JSON.parse(W)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(W)&&0<W.length),de=!Array.isArray(Y[0]);if(re&&D){for(var ge=0;ge<W.length;ge++)0<ge&&(se+=I),se+=X(W[ge],ge);0<Y.length&&(se+=z)}for(var oe=0;oe<Y.length;oe++){var le=(re?W:Y[oe]).length,fe=!1,ie=re?Object.keys(Y[oe]).length===0:Y[oe].length===0;if(ee&&!re&&(fe=ee==="greedy"?Y[oe].join("").trim()==="":Y[oe].length===1&&Y[oe][0].length===0),ee==="greedy"&&re){for(var Ce=[],Ae=0;Ae<le;Ae++){var Q=de?W[Ae]:Ae;Ce.push(Y[oe][Q])}fe=Ce.join("").trim()===""}if(!fe){for(var ne=0;ne<le;ne++){0<ne&&!ie&&(se+=I);var he=re&&de?W[ne]:ne;se+=X(Y[oe][he],ne)}oe<Y.length-1&&(!ee||0<le&&!ie)&&(se+=z)}}return se}function X(W,Y){var ee,se;return W==null?"":W.constructor===Date?JSON.stringify(W).slice(1,25):(se=!1,G&&typeof W=="string"&&G.test(W)&&(W="'"+W,se=!0),ee=W.toString().replace(V,H),(se=se||B===!0||typeof B=="function"&&B(W,Y)||Array.isArray(B)&&B[Y]||((re,de)=>{for(var ge=0;ge<de.length;ge++)if(-1<re.indexOf(de[ge]))return!0;return!1})(ee,f.BAD_DELIMITERS)||-1<ee.indexOf(I)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?L+ee+L:ee)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=_,f.NetworkStreamer=g,f.FileStreamer=y,f.StringStreamer=x,f.ReadableStreamStreamer=S,r.jQuery&&((a=r.jQuery).fn.parse=function(M){var P=M.config||{},B=[];return this.each(function(z){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)B.push({file:this.files[L],inputElem:this,instanceConfig:a.extend({},P)})}),D(),this;function D(){if(B.length===0)R(M.complete)&&M.complete();else{var z,L,H,k,U=B[0];if(R(M.before)){var G=M.before(U.file,U.inputElem);if(typeof G=="object"){if(G.action==="abort")return z="AbortError",L=U.file,H=U.inputElem,k=G.reason,void(R(M.error)&&M.error({name:z},L,H,k));if(G.action==="skip")return void I();typeof G.config=="object"&&(U.instanceConfig=a.extend(U.instanceConfig,G.config))}else if(G==="skip")return void I()}var V=U.instanceConfig.complete;U.instanceConfig.complete=function(F){R(V)&&V(F,U.file,U.inputElem),I()},f.parse(U.file,U.instanceConfig)}}function I(){B.splice(0,1),D()}}),l&&(r.onmessage=function(M){M=M.data,f.WORKER_ID===void 0&&M&&(f.WORKER_ID=M.workerId),typeof M.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(M.input,M.config),finished:!0}):(r.File&&M.input instanceof File||M.input instanceof Object)&&(M=f.parse(M.input,M.config))&&r.postMessage({workerId:f.WORKER_ID,results:M,finished:!0})}),(g.prototype=Object.create(m.prototype)).constructor=g,(y.prototype=Object.create(m.prototype)).constructor=y,(x.prototype=Object.create(x.prototype)).constructor=x,(S.prototype=Object.create(m.prototype)).constructor=S,f})})(mh)),mh.exports}var mq=pq();const Qr=vt(mq),Ts=({children:e,onClick:t,className:n="",variant:r="primary",disabled:a=!1})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:hover:bg-transparent",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:hover:bg-gray-600"};return p.jsx("button",{onClick:t,disabled:a,className:`${s} ${l[r]} ${n}`,children:e})},vq=({currentScenario:e,onScenarioChange:t,simulationParams:n,onParamsChange:r})=>{var b;const[a,s]=$.useState("basic"),[l,u]=$.useState({numTopics:10,topics:[]}),[d,f]=$.useState({clusterOpinions:{},customMatrix:null});$.useEffect(()=>{const j=Array.from({length:l.numTopics},(O,T)=>({id:T,name:`Тема ${T+1}`,type:"random",targetCluster:0,proximityLevel:.5,customVector:null}));u(O=>({...O,topics:j}))},[l.numTopics]),$.useEffect(()=>{const j=n.numClusters||3,O={};for(let T=0;T<j;T++)O[T]=Array.from({length:l.numTopics},()=>0);f(T=>({...T,clusterOpinions:O}))},[n.numClusters,l.numTopics]);const m=(j,O,T)=>{u(E=>({...E,topics:E.topics.map(N=>N.id===j?{...N,[O]:T}:N)}))},g=(j,O,T)=>{f(E=>({...E,clusterOpinions:{...E.clusterOpinions,[j]:E.clusterOpinions[j].map((N,C)=>C===O?parseFloat(T):N)}}))},y=(j,O)=>{const T=j.target.files[0];T&&Qr.parse(T,{complete:E=>{if(O==="opinions"){const N=E.data.filter(C=>C.some(R=>R.trim()!==""));f(C=>({...C,customMatrix:N.map(R=>R.map(M=>parseFloat(M)||0))}))}else if(O==="topics"){const C=E.data.filter(R=>R.some(M=>M.trim()!=="")).map((R,M)=>({id:M,name:`Загруженная тема ${M+1}`,type:"custom",customVector:R.map(P=>parseFloat(P)||0)}));u(R=>({...R,numTopics:C.length,topics:C}))}},header:!1})},x=()=>{const{clusterOpinions:j}=d,O=Object.keys(j).length,T=Math.floor(n.agentCount/O),E=[],N=l.topics.map(B=>B.name);E.push(["Агент",...N]);for(let B=0;B<O;B++){const D=j[B]||[];for(let I=0;I<T;I++){const z=B*T+I,L=D.map(H=>{const k=(Math.random()-.5)*.2;return Math.max(-1,Math.min(1,H+k)).toFixed(3)});E.push([`Агент_${z}`,...L])}}const C=Qr.unparse(E),R=new Blob([C],{type:"text/csv"}),M=window.URL.createObjectURL(R),P=document.createElement("a");P.href=M,P.download="opinion_matrix.csv",P.click(),window.URL.revokeObjectURL(M)},S=()=>{const j=l.topics.map(C=>C.customVector?C.customVector:Array.from({length:n.vectorDimension},()=>(Math.random()*2-1).toFixed(3))),O=Qr.unparse(j),T=new Blob([O],{type:"text/csv"}),E=window.URL.createObjectURL(T),N=document.createElement("a");N.href=E,N.download="topic_vectors.csv",N.click(),window.URL.revokeObjectURL(E)},_=()=>{r({...n,topicSettings:l,opinionSettings:d})};return p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Расширенное управление сценариями"}),p.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[p.jsx("button",{onClick:()=>s("basic"),className:`px-4 py-2 font-medium ${a==="basic"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Основные настройки"}),p.jsx("button",{onClick:()=>s("topics"),className:`px-4 py-2 font-medium ${a==="topics"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Настройка тем"}),p.jsx("button",{onClick:()=>s("opinions"),className:`px-4 py-2 font-medium ${a==="opinions"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Настройка мнений"})]}),a==="basic"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип сценария"}),p.jsxs("select",{value:e,onChange:j=>t(j.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[p.jsx("option",{value:"A",children:"Сценарий A (нейтральная повестка)"}),p.jsx("option",{value:"B",children:"Сценарий B (ценностно-близкая тема)"}),p.jsx("option",{value:"custom",children:"Пользовательский сценарий"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Количество тем в обсуждении: ",l.numTopics]}),p.jsx("input",{type:"range",min:"2",max:"20",value:l.numTopics,onChange:j=>u(O=>({...O,numTopics:parseInt(j.target.value)})),className:"w-full"}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Для сценария B рекомендуется 2-5 тем для лучшего эффекта"})]})]}),a==="topics"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-medium",children:["Конфигурация тем (",l.numTopics," тем)"]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx(Ts,{onClick:()=>document.getElementById("topic-upload").click(),variant:"outline",className:"text-sm",children:"Загрузить векторы тем"}),p.jsx(Ts,{onClick:S,variant:"outline",className:"text-sm",children:"Экспорт векторов"})]})]}),p.jsx("input",{id:"topic-upload",type:"file",accept:".csv",onChange:j=>y(j,"topics"),className:"hidden"}),p.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:l.topics.map((j,O)=>p.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название темы"}),p.jsx("input",{type:"text",value:j.name,onChange:T=>m(j.id,"name",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Тип темы"}),p.jsxs("select",{value:j.type,onChange:T=>m(j.id,"type",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[p.jsx("option",{value:"random",children:"Случайная"}),p.jsx("option",{value:"cluster-aligned",children:"Близкая к кластеру"}),p.jsx("option",{value:"custom",children:"Пользовательская"})]})]}),j.type==="cluster-aligned"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Целевой кластер"}),p.jsx("select",{value:j.targetCluster,onChange:T=>m(j.id,"targetCluster",parseInt(T.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:Array.from({length:n.numClusters||3},(T,E)=>p.jsxs("option",{value:E,children:["Кластер ",E+1]},E))})]}),p.jsxs("div",{className:"md:col-span-3",children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Степень близости: ",j.proximityLevel.toFixed(2)]}),p.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j.proximityLevel,onChange:T=>m(j.id,"proximityLevel",parseFloat(T.target.value)),className:"w-full"}),p.jsx("div",{className:"text-xs text-gray-500",children:"0 = случайная тема, 1 = максимально близкая к кластеру"})]})]})]})},j.id))})]}),a==="opinions"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h4",{className:"font-medium",children:"Настройка мнений по кластерам"}),p.jsxs("div",{className:"space-x-2",children:[p.jsx(Ts,{onClick:()=>document.getElementById("opinion-upload").click(),variant:"outline",className:"text-sm",children:"Загрузить матрицу мнений"}),p.jsx(Ts,{onClick:x,variant:"outline",className:"text-sm",children:"Экспорт матрицы"})]})]}),p.jsx("input",{id:"opinion-upload",type:"file",accept:".csv",onChange:j=>y(j,"opinions"),className:"hidden"}),d.customMatrix?p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[p.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Загружена пользовательская матрица мнений"}),p.jsxs("p",{className:"text-sm text-green-700",children:["Размер: ",d.customMatrix.length," агентов × ",((b=d.customMatrix[0])==null?void 0:b.length)||0," тем"]}),p.jsx(Ts,{onClick:()=>f(j=>({...j,customMatrix:null})),variant:"outline",className:"text-sm mt-2",children:"Удалить и использовать настройки кластеров"})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Настройте среднее мнение каждого кластера по каждой теме (от -1 до +1)"}),Object.keys(d.clusterOpinions).map(j=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("h5",{className:"font-medium mb-3",children:["Кластер ",parseInt(j)+1,p.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(примерно ",Math.floor(n.agentCount/n.numClusters)," агентов)"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.topics.slice(0,l.numTopics).map((O,T)=>{var E;return p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:O.name}),p.jsxs("select",{value:((E=d.clusterOpinions[j])==null?void 0:E[T])||0,onChange:N=>g(j,T,N.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[p.jsx("option",{value:-1,children:"Сильно против (-1)"}),p.jsx("option",{value:-.5,children:"Против (-0.5)"}),p.jsx("option",{value:0,children:"Нейтрально (0)"}),p.jsx("option",{value:.5,children:"За (+0.5)"}),p.jsx("option",{value:1,children:"Сильно за (+1)"})]})]},T)})})]},j))]})]}),p.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:p.jsx(Ts,{onClick:_,className:"w-full",children:"Применить настройки сценария"})})]})};function rD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=rD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=rD(e))&&(r&&(r+=" "),r+=t);return r}const R_="-",gq=e=>{const t=xq(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(R_);return u[0]===""&&u.length!==1&&u.shift(),iD(u,t)||yq(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},iD=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?iD(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(R_);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},uN=/^\[(.+)\]$/,yq=e=>{if(uN.test(e)){const t=uN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xq=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)R1(n[a],r,a,t);return r},R1=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:fN(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(bq(a)){R1(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,l])=>{R1(l,fN(t,s),n,r)})})},fN=(e,t)=>{let n=e;return t.split(R_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bq=e=>e.isThemeGetter,wq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return a(s,l),l},set(s,l){n.has(s)?n.set(s,l):a(s,l)}}},P1="!",k1=":",_q=k1.length,Sq=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const s=[];let l=0,u=0,d=0,f;for(let S=0;S<a.length;S++){let _=a[S];if(l===0&&u===0){if(_===k1){s.push(a.slice(d,S)),d=S+_q;continue}if(_==="/"){f=S;continue}}_==="["?l++:_==="]"?l--:_==="("?u++:_===")"&&u--}const m=s.length===0?a:a.substring(d),g=jq(m),y=g!==m,x=f&&f>d?f-d:void 0;return{modifiers:s,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:x}};if(t){const a=t+k1,s=r;r=l=>l.startsWith(a)?s(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=s=>n({className:s,parseClassName:a})}return r},jq=e=>e.endsWith(P1)?e.substring(0,e.length-1):e.startsWith(P1)?e.substring(1):e,Aq=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let s=[];return r.forEach(l=>{l[0]==="["||t[l]?(a.push(...s.sort(),l),s=[]):s.push(l)}),a.push(...s.sort()),a}},Oq=e=>({cache:wq(e.cacheSize),parseClassName:Sq(e),sortModifiers:Aq(e),...gq(e)}),Eq=/\s+/,Nq=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:s}=t,l=[],u=e.trim().split(Eq);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:g,modifiers:y,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:_}=n(m);if(g){d=m+(d.length>0?" "+d:d);continue}let b=!!_,j=r(b?S.substring(0,_):S);if(!j){if(!b){d=m+(d.length>0?" "+d:d);continue}if(j=r(S),!j){d=m+(d.length>0?" "+d:d);continue}b=!1}const O=s(y).join(":"),T=x?O+P1:O,E=T+j;if(l.includes(E))continue;l.push(E);const N=a(j,b);for(let C=0;C<N.length;++C){const R=N[C];l.push(T+R)}d=m+(d.length>0?" "+d:d)}return d};function Cq(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aD(t))&&(r&&(r+=" "),r+=n);return r}const aD=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aD(e[r]))&&(n&&(n+=" "),n+=t);return n};function Tq(e,...t){let n,r,a,s=l;function l(d){const f=t.reduce((m,g)=>g(m),e());return n=Oq(f),r=n.cache.get,a=n.cache.set,s=u,u(d)}function u(d){const f=r(d);if(f)return f;const m=Nq(d,n);return a(d,m),m}return function(){return s(Cq.apply(null,arguments))}}const Jt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mq=/^\d+\/\d+$/,Rq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Dq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$q=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ms=e=>Mq.test(e),nt=e=>!!e&&!Number.isNaN(Number(e)),Aa=e=>!!e&&Number.isInteger(Number(e)),cy=e=>e.endsWith("%")&&nt(e.slice(0,-1)),Pi=e=>Rq.test(e),Iq=()=>!0,Lq=e=>Pq.test(e)&&!kq.test(e),lD=()=>!1,zq=e=>Dq.test(e),Bq=e=>$q.test(e),qq=e=>!Pe(e)&&!ke(e),Uq=e=>Dl(e,fD,lD),Pe=e=>oD.test(e),fo=e=>Dl(e,dD,Lq),uy=e=>Dl(e,Kq,nt),dN=e=>Dl(e,cD,lD),Fq=e=>Dl(e,uD,Bq),Hd=e=>Dl(e,hD,zq),ke=e=>sD.test(e),Xc=e=>$l(e,dD),Hq=e=>$l(e,Yq),hN=e=>$l(e,cD),Vq=e=>$l(e,fD),Gq=e=>$l(e,uD),Vd=e=>$l(e,hD,!0),Dl=(e,t,n)=>{const r=oD.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},$l=(e,t,n=!1)=>{const r=sD.exec(e);return r?r[1]?t(r[1]):n:!1},cD=e=>e==="position"||e==="percentage",uD=e=>e==="image"||e==="url",fD=e=>e==="length"||e==="size"||e==="bg-size",dD=e=>e==="length",Kq=e=>e==="number",Yq=e=>e==="family-name",hD=e=>e==="shadow",Xq=()=>{const e=Jt("color"),t=Jt("font"),n=Jt("text"),r=Jt("font-weight"),a=Jt("tracking"),s=Jt("leading"),l=Jt("breakpoint"),u=Jt("container"),d=Jt("spacing"),f=Jt("radius"),m=Jt("shadow"),g=Jt("inset-shadow"),y=Jt("text-shadow"),x=Jt("drop-shadow"),S=Jt("blur"),_=Jt("perspective"),b=Jt("aspect"),j=Jt("ease"),O=Jt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...E(),ke,Pe],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],M=()=>[ke,Pe,d],P=()=>[Ms,"full","auto",...M()],B=()=>[Aa,"none","subgrid",ke,Pe],D=()=>["auto",{span:["full",Aa,ke,Pe]},Aa,ke,Pe],I=()=>[Aa,"auto",ke,Pe],z=()=>["auto","min","max","fr",ke,Pe],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...M()],U=()=>[Ms,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],G=()=>[e,ke,Pe],V=()=>[...E(),hN,dN,{position:[ke,Pe]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",Vq,Uq,{size:[ke,Pe]}],W=()=>[cy,Xc,fo],Y=()=>["","none","full",f,ke,Pe],ee=()=>["",nt,Xc,fo],se=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[nt,cy,hN,dN],ge=()=>["","none",S,ke,Pe],oe=()=>["none",nt,ke,Pe],le=()=>["none",nt,ke,Pe],fe=()=>[nt,ke,Pe],ie=()=>[Ms,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pi],breakpoint:[Pi],color:[Iq],container:[Pi],"drop-shadow":[Pi],ease:["in","out","in-out"],font:[qq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pi],shadow:[Pi],spacing:["px",nt],text:[Pi],"text-shadow":[Pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ms,Pe,ke,b]}],container:["container"],columns:[{columns:[nt,Pe,ke,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",ke,Pe]}],basis:[{basis:[Ms,"full","auto",u,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Ms,"auto","initial","none",Pe]}],grow:[{grow:["",nt,ke,Pe]}],shrink:[{shrink:["",nt,ke,Pe]}],order:[{order:[Aa,"first","last","none",ke,Pe]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[u,"screen",...U()]}],"min-w":[{"min-w":[u,"screen","none",...U()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Xc,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,uy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,Pe]}],"font-family":[{font:[Hq,Pe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ke,Pe]}],"line-clamp":[{"line-clamp":[nt,"none",ke,uy]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",ke,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",ke,fo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[nt,"auto",ke,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,ke,Pe],radial:["",ke,Pe],conic:[Aa,ke,Pe]},Gq,Fq]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,ke,Pe]}],"outline-w":[{outline:["",nt,Xc,fo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",m,Vd,Hd]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,Vd,Hd]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[nt,fo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",y,Vd,Hd]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[nt,ke,Pe]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[ke,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Pe]}],filter:[{filter:["","none",ke,Pe]}],blur:[{blur:ge()}],brightness:[{brightness:[nt,ke,Pe]}],contrast:[{contrast:[nt,ke,Pe]}],"drop-shadow":[{"drop-shadow":["","none",x,Vd,Hd]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",nt,ke,Pe]}],"hue-rotate":[{"hue-rotate":[nt,ke,Pe]}],invert:[{invert:["",nt,ke,Pe]}],saturate:[{saturate:[nt,ke,Pe]}],sepia:[{sepia:["",nt,ke,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Pe]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[nt,ke,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[nt,ke,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,ke,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,ke,Pe]}],"backdrop-invert":[{"backdrop-invert":["",nt,ke,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[nt,ke,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[nt,ke,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,ke,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",ke,Pe]}],ease:[{ease:["linear","initial",j,ke,Pe]}],delay:[{delay:[nt,ke,Pe]}],animate:[{animate:["none",O,ke,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ke,Pe]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[ke,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ie()}],"translate-x":[{"translate-x":ie()}],"translate-y":[{"translate-y":ie()}],"translate-z":[{"translate-z":ie()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Pe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[nt,Xc,fo,uy]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wq=Tq(Xq);function wt(...e){return Wq(Xe(e))}function Ie({className:e,...t}){return p.jsx("div",{"data-slot":"card",className:wt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function zt({className:e,...t}){return p.jsx("div",{"data-slot":"card-header",className:wt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Bt({className:e,...t}){return p.jsx("div",{"data-slot":"card-title",className:wt("leading-none font-semibold",e),...t})}function Ra({className:e,...t}){return p.jsx("div",{"data-slot":"card-description",className:wt("text-muted-foreground text-sm",e),...t})}function kt({className:e,...t}){return p.jsx("div",{"data-slot":"card-content",className:wt("px-6",e),...t})}function Ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Wi(e,t=[]){let n=[];function r(s,l){const u=$.createContext(l),d=n.length;n=[...n,l];const f=g=>{var j;const{scope:y,children:x,...S}=g,_=((j=y==null?void 0:y[e])==null?void 0:j[d])||u,b=$.useMemo(()=>S,Object.values(S));return p.jsx(_.Provider,{value:b,children:x})};f.displayName=s+"Provider";function m(g,y){var _;const x=((_=y==null?void 0:y[e])==null?void 0:_[d])||u,S=$.useContext(x);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,m]}const a=()=>{const s=n.map(l=>$.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return $.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[r,Zq(a,...t)]}function Zq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const g=d(s)[`__scope${f}`];return{...u,...g}},{});return $.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function pN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pD(...e){return t=>{let n=!1;const r=e.map(a=>{const s=pN(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():pN(e[a],null)}}}}function st(...e){return $.useCallback(pD(...e),e)}function Eu(e){const t=Qq(e),n=$.forwardRef((r,a)=>{const{children:s,...l}=r,u=$.Children.toArray(s),d=u.find(e6);if(d){const f=d.props.children,m=u.map(g=>g===d?$.Children.count(f)>1?$.Children.only(null):$.isValidElement(f)?f.props.children:null:g);return p.jsx(t,{...l,ref:a,children:$.isValidElement(f)?$.cloneElement(f,void 0,m):null})}return p.jsx(t,{...l,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var mD=Eu("Slot");function Qq(e){const t=$.forwardRef((n,r)=>{const{children:a,...s}=n;if($.isValidElement(a)){const l=n6(a),u=t6(s,a.props);return a.type!==$.Fragment&&(u.ref=r?pD(r,l):l),$.cloneElement(a,u)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jq=Symbol("radix.slottable");function e6(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jq}function t6(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...u)=>{const d=s(...u);return a(...u),d}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function n6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function P_(e){const t=e+"CollectionProvider",[n,r]=Wi(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:b,children:j}=_,O=Z.useRef(null),T=Z.useRef(new Map).current;return p.jsx(a,{scope:b,itemMap:T,collectionRef:O,children:j})};l.displayName=t;const u=e+"CollectionSlot",d=Eu(u),f=Z.forwardRef((_,b)=>{const{scope:j,children:O}=_,T=s(u,j),E=st(b,T.collectionRef);return p.jsx(d,{ref:E,children:O})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",y=Eu(m),x=Z.forwardRef((_,b)=>{const{scope:j,children:O,...T}=_,E=Z.useRef(null),N=st(b,E),C=s(m,j);return Z.useEffect(()=>(C.itemMap.set(E,{ref:E,...T}),()=>void C.itemMap.delete(E))),p.jsx(y,{[g]:"",ref:N,children:O})});x.displayName=m;function S(_){const b=s(e+"CollectionConsumer",_);return Z.useCallback(()=>{const O=b.collectionRef.current;if(!O)return[];const T=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((C,R)=>T.indexOf(C.ref.current)-T.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},S,r]}var xn=globalThis!=null&&globalThis.document?$.useLayoutEffect:()=>{},r6=Jk[" useId ".trim().toString()]||(()=>{}),i6=0;function mf(e){const[t,n]=$.useState(r6());return xn(()=>{n(r=>r??String(i6++))},[e]),e||(t?`radix-${t}`:"")}var vf=eD();const a6=vt(vf);var o6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=o6.reduce((e,t)=>{const n=Eu(`Primitive.${t}`),r=$.forwardRef((a,s)=>{const{asChild:l,...u}=a,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function s6(e,t){e&&vf.flushSync(()=>e.dispatchEvent(t))}function Cn(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var l6=Jk[" useInsertionEffect ".trim().toString()]||xn;function Oo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,l]=c6({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:a;{const m=$.useRef(e!==void 0);$.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const f=$.useCallback(m=>{var g;if(u){const y=u6(m)?m(e):m;y!==e&&((g=l.current)==null||g.call(l,y))}else s(m)},[u,e,s,l]);return[d,f]}function c6({defaultProp:e,onChange:t}){const[n,r]=$.useState(e),a=$.useRef(n),s=$.useRef(t);return l6(()=>{s.current=t},[t]),$.useEffect(()=>{var l;a.current!==n&&((l=s.current)==null||l.call(s,n),a.current=n)},[n,a]),[n,r,s]}function u6(e){return typeof e=="function"}var f6=$.createContext(void 0);function gf(e){const t=$.useContext(f6);return e||t||"ltr"}var fy="rovingFocusGroup.onEntryFocus",d6={bubbles:!1,cancelable:!0},yf="RovingFocusGroup",[D1,vD,h6]=P_(yf),[p6,gD]=Wi(yf,[h6]),[m6,v6]=p6(yf),yD=$.forwardRef((e,t)=>p.jsx(D1.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(D1.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(g6,{...e,ref:t})})}));yD.displayName=yf;var g6=$.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,y=$.useRef(null),x=st(t,y),S=gf(s),[_,b]=Oo({prop:l,defaultProp:u??null,onChange:d,caller:yf}),[j,O]=$.useState(!1),T=Cn(f),E=vD(n),N=$.useRef(!1),[C,R]=$.useState(0);return $.useEffect(()=>{const M=y.current;if(M)return M.addEventListener(fy,T),()=>M.removeEventListener(fy,T)},[T]),p.jsx(m6,{scope:n,orientation:r,dir:S,loop:a,currentTabStopId:_,onItemFocus:$.useCallback(M=>b(M),[b]),onItemShiftTab:$.useCallback(()=>O(!0),[]),onFocusableItemAdd:$.useCallback(()=>R(M=>M+1),[]),onFocusableItemRemove:$.useCallback(()=>R(M=>M-1),[]),children:p.jsx(We.div,{tabIndex:j||C===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{N.current=!0}),onFocus:Ye(e.onFocus,M=>{const P=!N.current;if(M.target===M.currentTarget&&P&&!j){const B=new CustomEvent(fy,d6);if(M.currentTarget.dispatchEvent(B),!B.defaultPrevented){const D=E().filter(k=>k.focusable),I=D.find(k=>k.active),z=D.find(k=>k.id===_),H=[I,z,...D].filter(Boolean).map(k=>k.ref.current);wD(H,m)}}N.current=!1}),onBlur:Ye(e.onBlur,()=>O(!1))})})}),xD="RovingFocusGroupItem",bD=$.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:l,...u}=e,d=mf(),f=s||d,m=v6(xD,n),g=m.currentTabStopId===f,y=vD(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:_}=m;return $.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),p.jsx(D1.ItemSlot,{scope:n,id:f,focusable:r,active:a,children:p.jsx(We.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Ye(e.onMouseDown,b=>{r?m.onItemFocus(f):b.preventDefault()}),onFocus:Ye(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ye(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const j=b6(b,m.orientation,m.dir);if(j!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let T=y().filter(E=>E.focusable).map(E=>E.ref.current);if(j==="last")T.reverse();else if(j==="prev"||j==="next"){j==="prev"&&T.reverse();const E=T.indexOf(b.currentTarget);T=m.loop?w6(T,E+1):T.slice(E+1)}setTimeout(()=>wD(T))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:_!=null}):l})})});bD.displayName=xD;var y6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function b6(e,t,n){const r=x6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return y6[r]}function wD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function w6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _6=yD,S6=bD;function j6(e,t){return $.useReducer((n,r)=>t[n][r]??n,e)}var Io=e=>{const{present:t,children:n}=e,r=A6(t),a=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),s=st(r.ref,O6(a));return typeof n=="function"||r.isPresent?$.cloneElement(a,{ref:s}):null};Io.displayName="Presence";function A6(e){const[t,n]=$.useState(),r=$.useRef(null),a=$.useRef(e),s=$.useRef("none"),l=e?"mounted":"unmounted",[u,d]=j6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const f=Gd(r.current);s.current=u==="mounted"?f:"none"},[u]),xn(()=>{const f=r.current,m=a.current;if(m!==e){const y=s.current,x=Gd(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),xn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=x=>{const _=Gd(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&_&&(d("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},y=x=>{x.target===t&&(s.current=Gd(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:$.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Gd(e){return(e==null?void 0:e.animationName)||"none"}function O6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qp="Tabs",[E6]=Wi(qp,[gD]),_D=gD(),[N6,k_]=E6(qp),SD=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=gf(u),[g,y]=Oo({prop:r,onChange:a,defaultProp:s??"",caller:qp});return p.jsx(N6,{scope:n,baseId:mf(),value:g,onValueChange:y,orientation:l,dir:m,activationMode:d,children:p.jsx(We.div,{dir:m,"data-orientation":l,...f,ref:t})})});SD.displayName=qp;var jD="TabsList",AD=$.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=k_(jD,n),l=_D(n);return p.jsx(_6,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(We.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});AD.displayName=jD;var OD="TabsTrigger",ED=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,l=k_(OD,n),u=_D(n),d=TD(l.baseId,r),f=MD(l.baseId,r),m=r===l.value;return p.jsx(S6,{asChild:!0,...u,focusable:!a,active:m,children:p.jsx(We.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...s,ref:t,onMouseDown:Ye(e.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:Ye(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:Ye(e.onFocus,()=>{const g=l.activationMode!=="manual";!m&&!a&&g&&l.onValueChange(r)})})})});ED.displayName=OD;var ND="TabsContent",CD=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...l}=e,u=k_(ND,n),d=TD(u.baseId,r),f=MD(u.baseId,r),m=r===u.value,g=$.useRef(m);return $.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),p.jsx(Io,{present:a||m,children:({present:y})=>p.jsx(We.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&s})})});CD.displayName=ND;function TD(e,t){return`${e}-trigger-${t}`}function MD(e,t){return`${e}-content-${t}`}var C6=SD,T6=AD,M6=ED,R6=CD;function Lo({className:e,...t}){return p.jsx(C6,{"data-slot":"tabs",className:wt("flex flex-col gap-2",e),...t})}function zo({className:e,...t}){return p.jsx(T6,{"data-slot":"tabs-list",className:wt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Et({className:e,...t}){return p.jsx(M6,{"data-slot":"tabs-trigger",className:wt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Nt({className:e,...t}){return p.jsx(R6,{"data-slot":"tabs-content",className:wt("flex-1 outline-none",e),...t})}const mN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vN=Xe,RD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return vN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,l=Object.keys(a).map(f=>{const m=n==null?void 0:n[f],g=s==null?void 0:s[f];if(m===null)return null;const y=mN(m)||mN(g);return a[f][y]}),u=n&&Object.entries(n).reduce((f,m)=>{let[g,y]=m;return y===void 0||(f[g]=y),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:g,className:y,...x}=m;return Object.entries(x).every(S=>{let[_,b]=S;return Array.isArray(b)?b.includes({...s,...u}[_]):{...s,...u}[_]===b})?[...f,g,y]:f},[]);return vN(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},P6=RD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Je({className:e,variant:t,size:n,asChild:r=!1,...a}){const s=r?mD:"button";return p.jsx(s,{"data-slot":"button",className:wt(P6({variant:t,size:n,className:e})),...a})}function ti({className:e,type:t,...n}){return p.jsx("input",{type:t,"data-slot":"input",className:wt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var k6="Label",PD=$.forwardRef((e,t)=>p.jsx(We.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PD.displayName=k6;var D6=PD;function Ge({className:e,...t}){return p.jsx(D6,{"data-slot":"label",className:wt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Ah({className:e,...t}){return p.jsx("textarea",{"data-slot":"textarea",className:wt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function Nu(e,[t,n]){return Math.min(n,Math.max(t,e))}function $6(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e);$.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var I6="DismissableLayer",$1="dismissableLayer.update",L6="dismissableLayer.pointerDownOutside",z6="dismissableLayer.focusOutside",gN,kD=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DD=$.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,f=$.useContext(kD),[m,g]=$.useState(null),y=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=$.useState({}),S=st(t,R=>g(R)),_=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(b),O=m?_.indexOf(m):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,E=O>=j,N=U6(R=>{const M=R.target,P=[...f.branches].some(B=>B.contains(M));!E||P||(a==null||a(R),l==null||l(R),R.defaultPrevented||u==null||u())},y),C=F6(R=>{const M=R.target;[...f.branches].some(B=>B.contains(M))||(s==null||s(R),l==null||l(R),R.defaultPrevented||u==null||u())},y);return $6(R=>{O===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},y),$.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(gN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),yN(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=gN)}},[m,y,n,f]),$.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),yN())},[m,f]),$.useEffect(()=>{const R=()=>x({});return document.addEventListener($1,R),()=>document.removeEventListener($1,R)},[]),p.jsx(We.div,{...d,ref:S,style:{pointerEvents:T?E?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,N.onPointerDownCapture)})});DD.displayName=I6;var B6="DismissableLayerBranch",q6=$.forwardRef((e,t)=>{const n=$.useContext(kD),r=$.useRef(null),a=st(t,r);return $.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(We.div,{...e,ref:a})});q6.displayName=B6;function U6(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e),r=$.useRef(!1),a=$.useRef(()=>{});return $.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){$D(L6,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function F6(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e),r=$.useRef(!1);return $.useEffect(()=>{const a=s=>{s.target&&!r.current&&$D(z6,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yN(){const e=new CustomEvent($1);document.dispatchEvent(e)}function $D(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?s6(a,s):a.dispatchEvent(s)}var dy=0;function H6(){$.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xN()),document.body.insertAdjacentElement("beforeend",e[1]??xN()),dy++,()=>{dy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dy--}},[])}function xN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hy="focusScope.autoFocusOnMount",py="focusScope.autoFocusOnUnmount",bN={bubbles:!1,cancelable:!0},V6="FocusScope",ID=$.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...l}=e,[u,d]=$.useState(null),f=Cn(a),m=Cn(s),g=$.useRef(null),y=st(t,_=>d(_)),x=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let _=function(T){if(x.paused||!u)return;const E=T.target;u.contains(E)?g.current=E:Oa(g.current,{select:!0})},b=function(T){if(x.paused||!u)return;const E=T.relatedTarget;E!==null&&(u.contains(E)||Oa(g.current,{select:!0}))},j=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&Oa(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",b);const O=new MutationObserver(j);return u&&O.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",b),O.disconnect()}}},[r,u,x.paused]),$.useEffect(()=>{if(u){_N.add(x);const _=document.activeElement;if(!u.contains(_)){const j=new CustomEvent(hy,bN);u.addEventListener(hy,f),u.dispatchEvent(j),j.defaultPrevented||(G6(Z6(LD(u)),{select:!0}),document.activeElement===_&&Oa(u))}return()=>{u.removeEventListener(hy,f),setTimeout(()=>{const j=new CustomEvent(py,bN);u.addEventListener(py,m),u.dispatchEvent(j),j.defaultPrevented||Oa(_??document.body,{select:!0}),u.removeEventListener(py,m),_N.remove(x)},0)}}},[u,f,m,x]);const S=$.useCallback(_=>{if(!n&&!r||x.paused)return;const b=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,j=document.activeElement;if(b&&j){const O=_.currentTarget,[T,E]=K6(O);T&&E?!_.shiftKey&&j===E?(_.preventDefault(),n&&Oa(T,{select:!0})):_.shiftKey&&j===T&&(_.preventDefault(),n&&Oa(E,{select:!0})):j===O&&_.preventDefault()}},[n,r,x.paused]);return p.jsx(We.div,{tabIndex:-1,...l,ref:y,onKeyDown:S})});ID.displayName=V6;function G6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Oa(r,{select:t}),document.activeElement!==n)return}function K6(e){const t=LD(e),n=wN(t,e),r=wN(t.reverse(),e);return[n,r]}function LD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wN(e,t){for(const n of e)if(!Y6(n,{upTo:t}))return n}function Y6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X6(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&X6(e)&&t&&e.select()}}var _N=W6();function W6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=SN(e,t),e.unshift(t)},remove(t){var n;e=SN(e,t),(n=e[0])==null||n.resume()}}}function SN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Z6(e){return e.filter(t=>t.tagName!=="A")}const Q6=["top","right","bottom","left"],Da=Math.min,ar=Math.max,Oh=Math.round,Kd=Math.floor,ii=e=>({x:e,y:e}),J6={left:"right",right:"left",bottom:"top",top:"bottom"},e8={start:"end",end:"start"};function I1(e,t,n){return ar(e,Da(t,n))}function Hi(e,t){return typeof e=="function"?e(t):e}function Vi(e){return e.split("-")[0]}function Il(e){return e.split("-")[1]}function D_(e){return e==="x"?"y":"x"}function $_(e){return e==="y"?"height":"width"}const t8=new Set(["top","bottom"]);function ni(e){return t8.has(Vi(e))?"y":"x"}function I_(e){return D_(ni(e))}function n8(e,t,n){n===void 0&&(n=!1);const r=Il(e),a=I_(e),s=$_(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Eh(l)),[l,Eh(l)]}function r8(e){const t=Eh(e);return[L1(e),t,L1(t)]}function L1(e){return e.replace(/start|end/g,t=>e8[t])}const jN=["left","right"],AN=["right","left"],i8=["top","bottom"],a8=["bottom","top"];function o8(e,t,n){switch(e){case"top":case"bottom":return n?t?AN:jN:t?jN:AN;case"left":case"right":return t?i8:a8;default:return[]}}function s8(e,t,n,r){const a=Il(e);let s=o8(Vi(e),n==="start",r);return a&&(s=s.map(l=>l+"-"+a),t&&(s=s.concat(s.map(L1)))),s}function Eh(e){return e.replace(/left|right|bottom|top/g,t=>J6[t])}function l8(e){return{top:0,right:0,bottom:0,left:0,...e}}function zD(e){return typeof e!="number"?l8(e):{top:e,right:e,bottom:e,left:e}}function Nh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function ON(e,t,n){let{reference:r,floating:a}=e;const s=ni(t),l=I_(t),u=$_(l),d=Vi(t),f=s==="y",m=r.x+r.width/2-a.width/2,g=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-a.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-a.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Il(t)){case"start":x[l]-=y*(n&&f?-1:1);break;case"end":x[l]+=y*(n&&f?-1:1);break}return x}const c8=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=ON(f,r,d),y=r,x={},S=0;for(let _=0;_<u.length;_++){const{name:b,fn:j}=u[_],{x:O,y:T,data:E,reset:N}=await j({x:m,y:g,initialPlacement:r,placement:y,strategy:a,middlewareData:x,rects:f,platform:l,elements:{reference:e,floating:t}});m=O??m,g=T??g,x={...x,[b]:{...x[b],...E}},N&&S<=50&&(S++,typeof N=="object"&&(N.placement&&(y=N.placement),N.rects&&(f=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:m,y:g}=ON(f,y,d)),_=-1)}return{x:m,y:g,placement:y,strategy:a,middlewareData:x}};async function Cu(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=Hi(t,e),S=zD(x),b=u[y?g==="floating"?"reference":"floating":g],j=Nh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),O=g==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),E=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},N=Nh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:O,offsetParent:T,strategy:d}):O);return{top:(j.top-N.top+S.top)/E.y,bottom:(N.bottom-j.bottom+S.bottom)/E.y,left:(j.left-N.left+S.left)/E.x,right:(N.right-j.right+S.right)/E.x}}const u8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=Hi(e,t)||{};if(f==null)return{};const g=zD(m),y={x:n,y:r},x=I_(a),S=$_(x),_=await l.getDimensions(f),b=x==="y",j=b?"top":"left",O=b?"bottom":"right",T=b?"clientHeight":"clientWidth",E=s.reference[S]+s.reference[x]-y[x]-s.floating[S],N=y[x]-s.reference[x],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let R=C?C[T]:0;(!R||!await(l.isElement==null?void 0:l.isElement(C)))&&(R=u.floating[T]||s.floating[S]);const M=E/2-N/2,P=R/2-_[S]/2-1,B=Da(g[j],P),D=Da(g[O],P),I=B,z=R-_[S]-D,L=R/2-_[S]/2+M,H=I1(I,L,z),k=!d.arrow&&Il(a)!=null&&L!==H&&s.reference[S]/2-(L<I?B:D)-_[S]/2<0,U=k?L<I?L-I:L-z:0;return{[x]:y[x]+U,data:{[x]:H,centerOffset:L-H-U,...k&&{alignmentOffset:U}},reset:k}}}),f8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...b}=Hi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const j=Vi(a),O=ni(u),T=Vi(u)===u,E=await(d.isRTL==null?void 0:d.isRTL(f.floating)),N=y||(T||!_?[Eh(u)]:r8(u)),C=S!=="none";!y&&C&&N.push(...s8(u,_,S,E));const R=[u,...N],M=await Cu(t,b),P=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&P.push(M[j]),g){const L=n8(a,l,E);P.push(M[L[0]],M[L[1]])}if(B=[...B,{placement:a,overflows:P}],!P.every(L=>L<=0)){var D,I;const L=(((D=s.flip)==null?void 0:D.index)||0)+1,H=R[L];if(H&&(!(g==="alignment"?O!==ni(H):!1)||B.every(G=>ni(G.placement)===O?G.overflows[0]>0:!0)))return{data:{index:L,overflows:B},reset:{placement:H}};let k=(I=B.filter(U=>U.overflows[0]<=0).sort((U,G)=>U.overflows[1]-G.overflows[1])[0])==null?void 0:I.placement;if(!k)switch(x){case"bestFit":{var z;const U=(z=B.filter(G=>{if(C){const V=ni(G.placement);return V===O||V==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(V=>V>0).reduce((V,F)=>V+F,0)]).sort((G,V)=>G[1]-V[1])[0])==null?void 0:z[0];U&&(k=U);break}case"initialPlacement":k=u;break}if(a!==k)return{reset:{placement:k}}}return{}}}};function EN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NN(e){return Q6.some(t=>e[t]>=0)}const d8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Hi(e,t);switch(r){case"referenceHidden":{const s=await Cu(t,{...a,elementContext:"reference"}),l=EN(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:NN(l)}}}case"escaped":{const s=await Cu(t,{...a,altBoundary:!0}),l=EN(s,n.floating);return{data:{escapedOffsets:l,escaped:NN(l)}}}default:return{}}}}},BD=new Set(["left","top"]);async function h8(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Vi(n),u=Il(n),d=ni(n)==="y",f=BD.has(l)?-1:1,m=s&&d?-1:1,g=Hi(t,e);let{mainAxis:y,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(x=u==="end"?S*-1:S),d?{x:x*m,y:y*f}:{x:y*f,y:x*m}}const p8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:l,middlewareData:u}=t,d=await h8(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:s+d.y,data:{...d,placement:l}}}}},m8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:b=>{let{x:j,y:O}=b;return{x:j,y:O}}},...d}=Hi(e,t),f={x:n,y:r},m=await Cu(t,d),g=ni(Vi(a)),y=D_(g);let x=f[y],S=f[g];if(s){const b=y==="y"?"top":"left",j=y==="y"?"bottom":"right",O=x+m[b],T=x-m[j];x=I1(O,x,T)}if(l){const b=g==="y"?"top":"left",j=g==="y"?"bottom":"right",O=S+m[b],T=S-m[j];S=I1(O,S,T)}const _=u.fn({...t,[y]:x,[g]:S});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[y]:s,[g]:l}}}}}},v8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Hi(e,t),m={x:n,y:r},g=ni(a),y=D_(g);let x=m[y],S=m[g];const _=Hi(u,t),b=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const T=y==="y"?"height":"width",E=s.reference[y]-s.floating[T]+b.mainAxis,N=s.reference[y]+s.reference[T]-b.mainAxis;x<E?x=E:x>N&&(x=N)}if(f){var j,O;const T=y==="y"?"width":"height",E=BD.has(Vi(a)),N=s.reference[g]-s.floating[T]+(E&&((j=l.offset)==null?void 0:j[g])||0)+(E?0:b.crossAxis),C=s.reference[g]+s.reference[T]+(E?0:((O=l.offset)==null?void 0:O[g])||0)-(E?b.crossAxis:0);S<N?S=N:S>C&&(S=C)}return{[y]:x,[g]:S}}}},g8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Hi(e,t),m=await Cu(t,f),g=Vi(a),y=Il(a),x=ni(a)==="y",{width:S,height:_}=s.floating;let b,j;g==="top"||g==="bottom"?(b=g,j=y===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(j=g,b=y==="end"?"top":"bottom");const O=_-m.top-m.bottom,T=S-m.left-m.right,E=Da(_-m[b],O),N=Da(S-m[j],T),C=!t.middlewareData.shift;let R=E,M=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=O),C&&!y){const B=ar(m.left,0),D=ar(m.right,0),I=ar(m.top,0),z=ar(m.bottom,0);x?M=S-2*(B!==0||D!==0?B+D:ar(m.left,m.right)):R=_-2*(I!==0||z!==0?I+z:ar(m.top,m.bottom))}await d({...t,availableWidth:M,availableHeight:R});const P=await l.getDimensions(u.floating);return S!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function Up(){return typeof window<"u"}function Ll(e){return qD(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hi(e){var t;return(t=(qD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qD(e){return Up()?e instanceof Node||e instanceof sr(e).Node:!1}function Br(e){return Up()?e instanceof Element||e instanceof sr(e).Element:!1}function fi(e){return Up()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function CN(e){return!Up()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}const y8=new Set(["inline","contents"]);function xf(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!y8.has(a)}const x8=new Set(["table","td","th"]);function b8(e){return x8.has(Ll(e))}const w8=[":popover-open",":modal"];function Fp(e){return w8.some(t=>{try{return e.matches(t)}catch{return!1}})}const _8=["transform","translate","scale","rotate","perspective"],S8=["transform","translate","scale","rotate","perspective","filter"],j8=["paint","layout","strict","content"];function L_(e){const t=z_(),n=Br(e)?qr(e):e;return _8.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||S8.some(r=>(n.willChange||"").includes(r))||j8.some(r=>(n.contain||"").includes(r))}function A8(e){let t=$a(e);for(;fi(t)&&!rl(t);){if(L_(t))return t;if(Fp(t))return null;t=$a(t)}return null}function z_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O8=new Set(["html","body","#document"]);function rl(e){return O8.has(Ll(e))}function qr(e){return sr(e).getComputedStyle(e)}function Hp(e){return Br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $a(e){if(Ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CN(e)&&e.host||hi(e);return CN(t)?t.host:t}function UD(e){const t=$a(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:fi(t)&&xf(t)?t:UD(t)}function Tu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=UD(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),l=sr(a);if(s){const u=z1(l);return t.concat(l,l.visualViewport||[],xf(a)?a:[],u&&n?Tu(u):[])}return t.concat(a,Tu(a,[],n))}function z1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FD(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=fi(e),s=a?e.offsetWidth:n,l=a?e.offsetHeight:r,u=Oh(n)!==s||Oh(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function B_(e){return Br(e)?e:e.contextElement}function Gs(e){const t=B_(e);if(!fi(t))return ii(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=FD(t);let l=(s?Oh(n.width):n.width)/r,u=(s?Oh(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const E8=ii(0);function HD(e){const t=sr(e);return!z_()||!t.visualViewport?E8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function N8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sr(e)?!1:t}function Eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=B_(e);let l=ii(1);t&&(r?Br(r)&&(l=Gs(r)):l=Gs(e));const u=N8(s,n,r)?HD(s):ii(0);let d=(a.left+u.x)/l.x,f=(a.top+u.y)/l.y,m=a.width/l.x,g=a.height/l.y;if(s){const y=sr(s),x=r&&Br(r)?sr(r):r;let S=y,_=z1(S);for(;_&&r&&x!==S;){const b=Gs(_),j=_.getBoundingClientRect(),O=qr(_),T=j.left+(_.clientLeft+parseFloat(O.paddingLeft))*b.x,E=j.top+(_.clientTop+parseFloat(O.paddingTop))*b.y;d*=b.x,f*=b.y,m*=b.x,g*=b.y,d+=T,f+=E,S=sr(_),_=z1(S)}}return Nh({width:m,height:g,x:d,y:f})}function Vp(e,t){const n=Hp(e).scrollLeft;return t?t.left+n:Eo(hi(e)).left+n}function VD(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Vp(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function C8(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",l=hi(r),u=t?Fp(t.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},f=ii(1);const m=ii(0),g=fi(r);if((g||!g&&!s)&&((Ll(r)!=="body"||xf(l))&&(d=Hp(r)),fi(r))){const x=Eo(r);f=Gs(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const y=l&&!g&&!s?VD(l,d):ii(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+y.x,y:n.y*f.y-d.scrollTop*f.y+m.y+y.y}}function T8(e){return Array.from(e.getClientRects())}function M8(e){const t=hi(e),n=Hp(e),r=e.ownerDocument.body,a=ar(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ar(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Vp(e);const u=-n.scrollTop;return qr(r).direction==="rtl"&&(l+=ar(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:l,y:u}}const TN=25;function R8(e,t){const n=sr(e),r=hi(e),a=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(a){s=a.width,l=a.height;const m=z_();(!m||m&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const f=Vp(r);if(f<=0){const m=r.ownerDocument,g=m.body,y=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(r.clientWidth-g.clientWidth-x);S<=TN&&(s-=S)}else f<=TN&&(s+=f);return{width:s,height:l,x:u,y:d}}const P8=new Set(["absolute","fixed"]);function k8(e,t){const n=Eo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=fi(e)?Gs(e):ii(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=a*s.x,f=r*s.y;return{width:l,height:u,x:d,y:f}}function MN(e,t,n){let r;if(t==="viewport")r=R8(e,n);else if(t==="document")r=M8(hi(e));else if(Br(t))r=k8(t,n);else{const a=HD(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Nh(r)}function GD(e,t){const n=$a(e);return n===t||!Br(n)||rl(n)?!1:qr(n).position==="fixed"||GD(n,t)}function D8(e,t){const n=t.get(e);if(n)return n;let r=Tu(e,[],!1).filter(u=>Br(u)&&Ll(u)!=="body"),a=null;const s=qr(e).position==="fixed";let l=s?$a(e):e;for(;Br(l)&&!rl(l);){const u=qr(l),d=L_(l);!d&&u.position==="fixed"&&(a=null),(s?!d&&!a:!d&&u.position==="static"&&!!a&&P8.has(a.position)||xf(l)&&!d&&GD(e,l))?r=r.filter(m=>m!==l):a=u,l=$a(l)}return t.set(e,r),r}function $8(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const l=[...n==="clippingAncestors"?Fp(t)?[]:D8(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((f,m)=>{const g=MN(t,m,a);return f.top=ar(g.top,f.top),f.right=Da(g.right,f.right),f.bottom=Da(g.bottom,f.bottom),f.left=ar(g.left,f.left),f},MN(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function I8(e){const{width:t,height:n}=FD(e);return{width:t,height:n}}function L8(e,t,n){const r=fi(t),a=hi(t),s=n==="fixed",l=Eo(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=ii(0);function f(){d.x=Vp(a)}if(r||!r&&!s)if((Ll(t)!=="body"||xf(a))&&(u=Hp(t)),r){const x=Eo(t,!0,s,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else a&&f();s&&!r&&a&&f();const m=a&&!r&&!s?VD(a,u):ii(0),g=l.left+u.scrollLeft-d.x-m.x,y=l.top+u.scrollTop-d.y-m.y;return{x:g,y,width:l.width,height:l.height}}function my(e){return qr(e).position==="static"}function RN(e,t){if(!fi(e)||qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hi(e)===n&&(n=n.ownerDocument.body),n}function KD(e,t){const n=sr(e);if(Fp(e))return n;if(!fi(e)){let a=$a(e);for(;a&&!rl(a);){if(Br(a)&&!my(a))return a;a=$a(a)}return n}let r=RN(e,t);for(;r&&b8(r)&&my(r);)r=RN(r,t);return r&&rl(r)&&my(r)&&!L_(r)?n:r||A8(e)||n}const z8=async function(e){const t=this.getOffsetParent||KD,n=this.getDimensions,r=await n(e.floating);return{reference:L8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B8(e){return qr(e).direction==="rtl"}const q8={convertOffsetParentRelativeRectToViewportRelativeRect:C8,getDocumentElement:hi,getClippingRect:$8,getOffsetParent:KD,getElementRects:z8,getClientRects:T8,getDimensions:I8,getScale:Gs,isElement:Br,isRTL:B8};function YD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U8(e,t){let n=null,r;const a=hi(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:m,top:g,width:y,height:x}=f;if(u||t(),!y||!x)return;const S=Kd(g),_=Kd(a.clientWidth-(m+y)),b=Kd(a.clientHeight-(g+x)),j=Kd(m),T={rootMargin:-S+"px "+-_+"px "+-b+"px "+-j+"px",threshold:ar(0,Da(1,d))||1};let E=!0;function N(C){const R=C[0].intersectionRatio;if(R!==d){if(!E)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!YD(f,e.getBoundingClientRect())&&l(),E=!1}try{n=new IntersectionObserver(N,{...T,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,T)}n.observe(e)}return l(!0),s}function F8(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=B_(e),m=a||s?[...f?Tu(f):[],...Tu(t)]:[];m.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),s&&j.addEventListener("resize",n)});const g=f&&u?U8(f,n):null;let y=-1,x=null;l&&(x=new ResizeObserver(j=>{let[O]=j;O&&O.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let S,_=d?Eo(e):null;d&&b();function b(){const j=Eo(e);_&&!YD(_,j)&&n(),_=j,S=requestAnimationFrame(b)}return n(),()=>{var j;m.forEach(O=>{a&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),g==null||g(),(j=x)==null||j.disconnect(),x=null,d&&cancelAnimationFrame(S)}}const H8=p8,V8=m8,G8=f8,K8=g8,Y8=d8,PN=u8,X8=v8,W8=(e,t,n)=>{const r=new Map,a={platform:q8,...n},s={...a.platform,_c:r};return c8(e,t,{...a,platform:s})};var Z8=typeof document<"u",Q8=function(){},vh=Z8?$.useLayoutEffect:Q8;function Ch(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ch(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!Ch(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function XD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kN(e,t){const n=XD(e);return Math.round(t*n)/n}function vy(e){const t=$.useRef(e);return vh(()=>{t.current=e}),t}function J8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,g]=$.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,x]=$.useState(r);Ch(y,r)||x(r);const[S,_]=$.useState(null),[b,j]=$.useState(null),O=$.useCallback(G=>{G!==C.current&&(C.current=G,_(G))},[]),T=$.useCallback(G=>{G!==R.current&&(R.current=G,j(G))},[]),E=s||S,N=l||b,C=$.useRef(null),R=$.useRef(null),M=$.useRef(m),P=d!=null,B=vy(d),D=vy(a),I=vy(f),z=$.useCallback(()=>{if(!C.current||!R.current)return;const G={placement:t,strategy:n,middleware:y};D.current&&(G.platform=D.current),W8(C.current,R.current,G).then(V=>{const F={...V,isPositioned:I.current!==!1};L.current&&!Ch(M.current,F)&&(M.current=F,vf.flushSync(()=>{g(F)}))})},[y,t,n,D,I]);vh(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[f]);const L=$.useRef(!1);vh(()=>(L.current=!0,()=>{L.current=!1}),[]),vh(()=>{if(E&&(C.current=E),N&&(R.current=N),E&&N){if(B.current)return B.current(E,N,z);z()}},[E,N,z,B,P]);const H=$.useMemo(()=>({reference:C,floating:R,setReference:O,setFloating:T}),[O,T]),k=$.useMemo(()=>({reference:E,floating:N}),[E,N]),U=$.useMemo(()=>{const G={position:n,left:0,top:0};if(!k.floating)return G;const V=kN(k.floating,m.x),F=kN(k.floating,m.y);return u?{...G,transform:"translate("+V+"px, "+F+"px)",...XD(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:F}},[n,u,k.floating,m.x,m.y]);return $.useMemo(()=>({...m,update:z,refs:H,elements:k,floatingStyles:U}),[m,z,H,k,U])}const eU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PN({element:r.current,padding:a}).fn(n):{}:r?PN({element:r,padding:a}).fn(n):{}}}},tU=(e,t)=>({...H8(e),options:[e,t]}),nU=(e,t)=>({...V8(e),options:[e,t]}),rU=(e,t)=>({...X8(e),options:[e,t]}),iU=(e,t)=>({...G8(e),options:[e,t]}),aU=(e,t)=>({...K8(e),options:[e,t]}),oU=(e,t)=>({...Y8(e),options:[e,t]}),sU=(e,t)=>({...eU(e),options:[e,t]});var lU="Arrow",WD=$.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return p.jsx(We.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});WD.displayName=lU;var cU=WD;function Gp(e){const[t,n]=$.useState(void 0);return xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var q_="Popper",[ZD,QD]=Wi(q_),[uU,JD]=ZD(q_),e$=e=>{const{__scopePopper:t,children:n}=e,[r,a]=$.useState(null);return p.jsx(uU,{scope:t,anchor:r,onAnchorChange:a,children:n})};e$.displayName=q_;var t$="PopperAnchor",n$=$.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=JD(t$,n),l=$.useRef(null),u=st(t,l),d=$.useRef(null);return $.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&s.onAnchorChange(d.current)}),r?null:p.jsx(We.div,{...a,ref:u})});n$.displayName=t$;var U_="PopperContent",[fU,dU]=ZD(U_),r$=$.forwardRef((e,t)=>{var de,ge,oe,le,fe,ie;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:S,..._}=e,b=JD(U_,n),[j,O]=$.useState(null),T=st(t,Ce=>O(Ce)),[E,N]=$.useState(null),C=Gp(E),R=(C==null?void 0:C.width)??0,M=(C==null?void 0:C.height)??0,P=r+(s!=="center"?"-"+s:""),B=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(f)?f:[f],I=D.length>0,z={padding:B,boundary:D.filter(pU),altBoundary:I},{refs:L,floatingStyles:H,placement:k,isPositioned:U,middlewareData:G}=J8({strategy:"fixed",placement:P,whileElementsMounted:(...Ce)=>F8(...Ce,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[tU({mainAxis:a+M,alignmentAxis:l}),d&&nU({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?rU():void 0,...z}),d&&iU({...z}),aU({...z,apply:({elements:Ce,rects:Ae,availableWidth:Q,availableHeight:ne})=>{const{width:he,height:pe}=Ae.reference,ye=Ce.floating.style;ye.setProperty("--radix-popper-available-width",`${Q}px`),ye.setProperty("--radix-popper-available-height",`${ne}px`),ye.setProperty("--radix-popper-anchor-width",`${he}px`),ye.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),E&&sU({element:E,padding:u}),mU({arrowWidth:R,arrowHeight:M}),y&&oU({strategy:"referenceHidden",...z})]}),[V,F]=o$(k),X=Cn(S);xn(()=>{U&&(X==null||X())},[U,X]);const W=(de=G.arrow)==null?void 0:de.x,Y=(ge=G.arrow)==null?void 0:ge.y,ee=((oe=G.arrow)==null?void 0:oe.centerOffset)!==0,[se,re]=$.useState();return xn(()=>{j&&re(window.getComputedStyle(j).zIndex)},[j]),p.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:U?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(le=G.transformOrigin)==null?void 0:le.x,(fe=G.transformOrigin)==null?void 0:fe.y].join(" "),...((ie=G.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(fU,{scope:n,placedSide:V,onArrowChange:N,arrowX:W,arrowY:Y,shouldHideArrow:ee,children:p.jsx(We.div,{"data-side":V,"data-align":F,..._,ref:T,style:{..._.style,animation:U?void 0:"none"}})})})});r$.displayName=U_;var i$="PopperArrow",hU={top:"bottom",right:"left",bottom:"top",left:"right"},a$=$.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=dU(i$,r),l=hU[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(cU,{...a,ref:n,style:{...a.style,display:"block"}})})});a$.displayName=i$;function pU(e){return e!==null}var mU=e=>({name:"transformOrigin",options:e,fn(t){var b,j,O;const{placement:n,rects:r,middlewareData:a}=t,l=((b=a.arrow)==null?void 0:b.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=o$(n),g={start:"0%",center:"50%",end:"100%"}[m],y=(((j=a.arrow)==null?void 0:j.x)??0)+u/2,x=(((O=a.arrow)==null?void 0:O.y)??0)+d/2;let S="",_="";return f==="bottom"?(S=l?g:`${y}px`,_=`${-d}px`):f==="top"?(S=l?g:`${y}px`,_=`${r.floating.height+d}px`):f==="right"?(S=`${-d}px`,_=l?g:`${x}px`):f==="left"&&(S=`${r.floating.width+d}px`,_=l?g:`${x}px`),{data:{x:S,y:_}}}});function o$(e){const[t,n="center"]=e.split("-");return[t,n]}var vU=e$,gU=n$,yU=r$,xU=a$,bU="Portal",s$=$.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[a,s]=$.useState(!1);xn(()=>s(!0),[]);const l=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?a6.createPortal(p.jsx(We.div,{...r,ref:t}),l):null});s$.displayName=bU;function Kp(e){const t=$.useRef({value:e,previous:e});return $.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var l$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wU="VisuallyHidden",_U=$.forwardRef((e,t)=>p.jsx(We.span,{...e,ref:t,style:{...l$,...e.style}}));_U.displayName=wU;var SU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rs=new WeakMap,Yd=new WeakMap,Xd={},gy=0,c$=function(e){return e&&(e.host||c$(e.parentNode))},jU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=c$(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AU=function(e,t,n,r){var a=jU(t,Array.isArray(e)?e:[e]);Xd[n]||(Xd[n]=new WeakMap);var s=Xd[n],l=[],u=new Set,d=new Set(a),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};a.forEach(f);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))m(y);else try{var x=y.getAttribute(r),S=x!==null&&x!=="false",_=(Rs.get(y)||0)+1,b=(s.get(y)||0)+1;Rs.set(y,_),s.set(y,b),l.push(y),_===1&&S&&Yd.set(y,!0),b===1&&y.setAttribute(n,"true"),S||y.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",y,j)}})};return m(t),u.clear(),gy++,function(){l.forEach(function(g){var y=Rs.get(g)-1,x=s.get(g)-1;Rs.set(g,y),s.set(g,x),y||(Yd.has(g)||g.removeAttribute(r),Yd.delete(g)),x||g.removeAttribute(n)}),gy--,gy||(Rs=new WeakMap,Rs=new WeakMap,Yd=new WeakMap,Xd={})}},OU=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=SU(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),AU(r,a,n,"aria-hidden")):function(){return null}},Jr=function(){return Jr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jr.apply(this,arguments)};function u$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function EU(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gh="right-scroll-bar-position",yh="width-before-scroll-bar",NU="with-scroll-bars-hidden",CU="--removed-body-scroll-bar-size";function yy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TU(e,t){var n=$.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var MU=typeof window<"u"?$.useLayoutEffect:$.useEffect,DN=new WeakMap;function RU(e,t){var n=TU(null,function(r){return e.forEach(function(a){return yy(a,r)})});return MU(function(){var r=DN.get(n);if(r){var a=new Set(r),s=new Set(e),l=n.current;a.forEach(function(u){s.has(u)||yy(u,null)}),s.forEach(function(u){a.has(u)||yy(u,l)})}DN.set(n,e)},[e]),n}function PU(e){return e}function kU(e,t){t===void 0&&(t=PU);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var d=function(){var m=l;l=[],m.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return a}function DU(e){e===void 0&&(e={});var t=kU(null);return t.options=Jr({async:!0,ssr:!1},e),t}var f$=function(e){var t=e.sideCar,n=u$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,Jr({},n))};f$.isSideCarExport=!0;function $U(e,t){return e.useMedium(t),f$}var d$=DU(),xy=function(){},Yp=$.forwardRef(function(e,t){var n=$.useRef(null),r=$.useState({onScrollCapture:xy,onWheelCapture:xy,onTouchMoveCapture:xy}),a=r[0],s=r[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,x=e.noRelative,S=e.noIsolation,_=e.inert,b=e.allowPinchZoom,j=e.as,O=j===void 0?"div":j,T=e.gapMode,E=u$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=y,C=RU([n,t]),R=Jr(Jr({},E),a);return $.createElement($.Fragment,null,m&&$.createElement(N,{sideCar:d$,removeScrollBar:f,shards:g,noRelative:x,noIsolation:S,inert:_,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:T}),l?$.cloneElement($.Children.only(u),Jr(Jr({},R),{ref:C})):$.createElement(O,Jr({},R,{className:d,ref:C}),u))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:yh,zeroRight:gh};var IU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IU();return t&&e.setAttribute("nonce",t),e}function zU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LU())&&(zU(t,n),BU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UU=function(){var e=qU();return function(t,n){$.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},h$=function(){var e=UU(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},FU={left:0,top:0,right:0,gap:0},by=function(e){return parseInt(e||"",10)||0},HU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[by(n),by(r),by(a)]},VU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FU;var t=HU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},GU=h$(),Ks="data-scroll-locked",KU=function(e,t,n,r){var a=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(yh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yh," .").concat(yh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(CU,": ").concat(u,`px;
  }
`)},$N=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},YU=function(){$.useEffect(function(){return document.body.setAttribute(Ks,($N()+1).toString()),function(){var e=$N()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},XU=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;YU();var s=$.useMemo(function(){return VU(a)},[a]);return $.createElement(GU,{styles:KU(s,!t,a,n?"":"!important")})},B1=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return B1=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{B1=!1}var Ps=B1?{passive:!1}:!1,WU=function(e){return e.tagName==="TEXTAREA"},p$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!WU(e)&&n[t]==="visible")},ZU=function(e){return p$(e,"overflowY")},QU=function(e){return p$(e,"overflowX")},IN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=m$(e,r);if(a){var s=v$(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},eF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},m$=function(e,t){return e==="v"?ZU(t):QU(t)},v$=function(e,t){return e==="v"?JU(t):eF(t)},tF=function(e,t){return e==="h"&&t==="rtl"?-1:1},nF=function(e,t,n,r,a){var s=tF(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,d=t.contains(u),f=!1,m=l>0,g=0,y=0;do{if(!u)break;var x=v$(e,u),S=x[0],_=x[1],b=x[2],j=_-b-s*S;(S||j)&&m$(e,u)&&(g+=j,y+=S);var O=u.parentNode;u=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(f=!0),f},Zd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LN=function(e){return[e.deltaX,e.deltaY]},zN=function(e){return e&&"current"in e?e.current:e},rF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aF=0,ks=[];function oF(e){var t=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),a=$.useState(aF++)[0],s=$.useState(h$)[0],l=$.useRef(e);$.useEffect(function(){l.current=e},[e]),$.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=EU([e.lockRef.current],(e.shards||[]).map(zN),!0).filter(Boolean);return _.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=$.useCallback(function(_,b){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var j=Zd(_),O=n.current,T="deltaX"in _?_.deltaX:O[0]-j[0],E="deltaY"in _?_.deltaY:O[1]-j[1],N,C=_.target,R=Math.abs(T)>Math.abs(E)?"h":"v";if("touches"in _&&R==="h"&&C.type==="range")return!1;var M=IN(R,C);if(!M)return!0;if(M?N=R:(N=R==="v"?"h":"v",M=IN(R,C)),!M)return!1;if(!r.current&&"changedTouches"in _&&(T||E)&&(r.current=N),!N)return!0;var P=r.current||N;return nF(P,b,_,P==="h"?T:E)},[]),d=$.useCallback(function(_){var b=_;if(!(!ks.length||ks[ks.length-1]!==s)){var j="deltaY"in b?LN(b):Zd(b),O=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&rF(N.delta,j)})[0];if(O&&O.should){b.cancelable&&b.preventDefault();return}if(!O){var T=(l.current.shards||[]).map(zN).filter(Boolean).filter(function(N){return N.contains(b.target)}),E=T.length>0?u(b,T[0]):!l.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),f=$.useCallback(function(_,b,j,O){var T={name:_,delta:b,target:j,should:O,shadowParent:sF(j)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(E){return E!==T})},1)},[]),m=$.useCallback(function(_){n.current=Zd(_),r.current=void 0},[]),g=$.useCallback(function(_){f(_.type,LN(_),_.target,u(_,e.lockRef.current))},[]),y=$.useCallback(function(_){f(_.type,Zd(_),_.target,u(_,e.lockRef.current))},[]);$.useEffect(function(){return ks.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Ps),document.addEventListener("touchmove",d,Ps),document.addEventListener("touchstart",m,Ps),function(){ks=ks.filter(function(_){return _!==s}),document.removeEventListener("wheel",d,Ps),document.removeEventListener("touchmove",d,Ps),document.removeEventListener("touchstart",m,Ps)}},[]);var x=e.removeScrollBar,S=e.inert;return $.createElement($.Fragment,null,S?$.createElement(s,{styles:iF(a)}):null,x?$.createElement(XU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lF=$U(d$,oF);var g$=$.forwardRef(function(e,t){return $.createElement(Yp,Jr({},e,{ref:t,sideCar:lF}))});g$.classNames=Yp.classNames;var cF=[" ","Enter","ArrowUp","ArrowDown"],uF=[" ","Enter"],No="Select",[Xp,Wp,fF]=P_(No),[zl]=Wi(No,[fF,QD]),Zp=QD(),[dF,za]=zl(No),[hF,pF]=zl(No),y$=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:g,disabled:y,required:x,form:S}=e,_=Zp(t),[b,j]=$.useState(null),[O,T]=$.useState(null),[E,N]=$.useState(!1),C=gf(f),[R,M]=Oo({prop:r,defaultProp:a??!1,onChange:s,caller:No}),[P,B]=Oo({prop:l,defaultProp:u,onChange:d,caller:No}),D=$.useRef(null),I=b?S||!!b.closest("form"):!0,[z,L]=$.useState(new Set),H=Array.from(z).map(k=>k.props.value).join(";");return p.jsx(vU,{..._,children:p.jsxs(dF,{required:x,scope:t,trigger:b,onTriggerChange:j,valueNode:O,onValueNodeChange:T,valueNodeHasChildren:E,onValueNodeHasChildrenChange:N,contentId:mf(),value:P,onValueChange:B,open:R,onOpenChange:M,dir:C,triggerPointerDownPosRef:D,disabled:y,children:[p.jsx(Xp.Provider,{scope:t,children:p.jsx(hF,{scope:e.__scopeSelect,onNativeOptionAdd:$.useCallback(k=>{L(U=>new Set(U).add(k))},[]),onNativeOptionRemove:$.useCallback(k=>{L(U=>{const G=new Set(U);return G.delete(k),G})},[]),children:n})}),I?p.jsxs(B$,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:P,onChange:k=>B(k.target.value),disabled:y,form:S,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(z)]},H):null]})})};y$.displayName=No;var x$="SelectTrigger",b$=$.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=Zp(n),l=za(x$,n),u=l.disabled||r,d=st(t,l.onTriggerChange),f=Wp(n),m=$.useRef("touch"),[g,y,x]=U$(_=>{const b=f().filter(T=>!T.disabled),j=b.find(T=>T.value===l.value),O=F$(b,_,j);O!==void 0&&l.onValueChange(O.value)}),S=_=>{u||(l.onOpenChange(!0),x()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return p.jsx(gU,{asChild:!0,...s,children:p.jsx(We.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":q$(l.value)?"":void 0,...a,ref:d,onClick:Ye(a.onClick,_=>{_.currentTarget.focus(),m.current!=="mouse"&&S(_)}),onPointerDown:Ye(a.onPointerDown,_=>{m.current=_.pointerType;const b=_.target;b.hasPointerCapture(_.pointerId)&&b.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:Ye(a.onKeyDown,_=>{const b=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(b&&_.key===" ")&&cF.includes(_.key)&&(S(),_.preventDefault())})})})});b$.displayName=x$;var w$="SelectValue",_$=$.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:l="",...u}=e,d=za(w$,n),{onValueNodeHasChildrenChange:f}=d,m=s!==void 0,g=st(t,d.onValueNodeChange);return xn(()=>{f(m)},[f,m]),p.jsx(We.span,{...u,ref:g,style:{pointerEvents:"none"},children:q$(d.value)?p.jsx(p.Fragment,{children:l}):s})});_$.displayName=w$;var mF="SelectIcon",S$=$.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return p.jsx(We.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});S$.displayName=mF;var vF="SelectPortal",j$=e=>p.jsx(s$,{asChild:!0,...e});j$.displayName=vF;var Co="SelectContent",A$=$.forwardRef((e,t)=>{const n=za(Co,e.__scopeSelect),[r,a]=$.useState();if(xn(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?vf.createPortal(p.jsx(O$,{scope:e.__scopeSelect,children:p.jsx(Xp.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),s):null}return p.jsx(E$,{...e,ref:t})});A$.displayName=Co;var kr=10,[O$,Ba]=zl(Co),gF="SelectContentImpl",yF=Eu("SelectContent.RemoveScroll"),E$=$.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:b,...j}=e,O=za(Co,n),[T,E]=$.useState(null),[N,C]=$.useState(null),R=st(t,de=>E(de)),[M,P]=$.useState(null),[B,D]=$.useState(null),I=Wp(n),[z,L]=$.useState(!1),H=$.useRef(!1);$.useEffect(()=>{if(T)return OU(T)},[T]),H6();const k=$.useCallback(de=>{const[ge,...oe]=I().map(ie=>ie.ref.current),[le]=oe.slice(-1),fe=document.activeElement;for(const ie of de)if(ie===fe||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===ge&&N&&(N.scrollTop=0),ie===le&&N&&(N.scrollTop=N.scrollHeight),ie==null||ie.focus(),document.activeElement!==fe))return},[I,N]),U=$.useCallback(()=>k([M,T]),[k,M,T]);$.useEffect(()=>{z&&U()},[z,U]);const{onOpenChange:G,triggerPointerDownPosRef:V}=O;$.useEffect(()=>{if(T){let de={x:0,y:0};const ge=le=>{var fe,ie;de={x:Math.abs(Math.round(le.pageX)-(((fe=V.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ie=V.current)==null?void 0:ie.y)??0))}},oe=le=>{de.x<=10&&de.y<=10?le.preventDefault():T.contains(le.target)||G(!1),document.removeEventListener("pointermove",ge),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",oe,{capture:!0})}}},[T,G,V]),$.useEffect(()=>{const de=()=>G(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[G]);const[F,X]=U$(de=>{const ge=I().filter(fe=>!fe.disabled),oe=ge.find(fe=>fe.ref.current===document.activeElement),le=F$(ge,de,oe);le&&setTimeout(()=>le.ref.current.focus())}),W=$.useCallback((de,ge,oe)=>{const le=!H.current&&!oe;(O.value!==void 0&&O.value===ge||le)&&(P(de),le&&(H.current=!0))},[O.value]),Y=$.useCallback(()=>T==null?void 0:T.focus(),[T]),ee=$.useCallback((de,ge,oe)=>{const le=!H.current&&!oe;(O.value!==void 0&&O.value===ge||le)&&D(de)},[O.value]),se=r==="popper"?q1:N$,re=se===q1?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:b}:{};return p.jsx(O$,{scope:n,content:T,viewport:N,onViewportChange:C,itemRefCallback:W,selectedItem:M,onItemLeave:Y,itemTextRefCallback:ee,focusSelectedItem:U,selectedItemText:B,position:r,isPositioned:z,searchRef:F,children:p.jsx(g$,{as:yF,allowPinchZoom:!0,children:p.jsx(ID,{asChild:!0,trapped:O.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Ye(a,de=>{var ge;(ge=O.trigger)==null||ge.focus({preventScroll:!0}),de.preventDefault()}),children:p.jsx(DD,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:p.jsx(se,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:de=>de.preventDefault(),...j,...re,onPlaced:()=>L(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ye(j.onKeyDown,de=>{const ge=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!ge&&de.key.length===1&&X(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let le=I().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const fe=de.target,ie=le.indexOf(fe);le=le.slice(ie+1)}setTimeout(()=>k(le)),de.preventDefault()}})})})})})})});E$.displayName=gF;var xF="SelectItemAlignedPosition",N$=$.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=za(Co,n),l=Ba(Co,n),[u,d]=$.useState(null),[f,m]=$.useState(null),g=st(t,R=>m(R)),y=Wp(n),x=$.useRef(!1),S=$.useRef(!0),{viewport:_,selectedItem:b,selectedItemText:j,focusSelectedItem:O}=l,T=$.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&_&&b&&j){const R=s.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(s.dir!=="rtl"){const fe=B.left-M.left,ie=P.left-fe,Ce=R.left-ie,Ae=R.width+Ce,Q=Math.max(Ae,M.width),ne=window.innerWidth-kr,he=Nu(ie,[kr,Math.max(kr,ne-Q)]);u.style.minWidth=Ae+"px",u.style.left=he+"px"}else{const fe=M.right-B.right,ie=window.innerWidth-P.right-fe,Ce=window.innerWidth-R.right-ie,Ae=R.width+Ce,Q=Math.max(Ae,M.width),ne=window.innerWidth-kr,he=Nu(ie,[kr,Math.max(kr,ne-Q)]);u.style.minWidth=Ae+"px",u.style.right=he+"px"}const D=y(),I=window.innerHeight-kr*2,z=_.scrollHeight,L=window.getComputedStyle(f),H=parseInt(L.borderTopWidth,10),k=parseInt(L.paddingTop,10),U=parseInt(L.borderBottomWidth,10),G=parseInt(L.paddingBottom,10),V=H+k+z+G+U,F=Math.min(b.offsetHeight*5,V),X=window.getComputedStyle(_),W=parseInt(X.paddingTop,10),Y=parseInt(X.paddingBottom,10),ee=R.top+R.height/2-kr,se=I-ee,re=b.offsetHeight/2,de=b.offsetTop+re,ge=H+k+de,oe=V-ge;if(ge<=ee){const fe=D.length>0&&b===D[D.length-1].ref.current;u.style.bottom="0px";const ie=f.clientHeight-_.offsetTop-_.offsetHeight,Ce=Math.max(se,re+(fe?Y:0)+ie+U),Ae=ge+Ce;u.style.height=Ae+"px"}else{const fe=D.length>0&&b===D[0].ref.current;u.style.top="0px";const Ce=Math.max(ee,H+_.offsetTop+(fe?W:0)+re)+oe;u.style.height=Ce+"px",_.scrollTop=ge-ee+_.offsetTop}u.style.margin=`${kr}px 0`,u.style.minHeight=F+"px",u.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[y,s.trigger,s.valueNode,u,f,_,b,j,s.dir,r]);xn(()=>T(),[T]);const[E,N]=$.useState();xn(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const C=$.useCallback(R=>{R&&S.current===!0&&(T(),O==null||O(),S.current=!1)},[T,O]);return p.jsx(wF,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:p.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:p.jsx(We.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});N$.displayName=xF;var bF="SelectPopperPosition",q1=$.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=kr,...s}=e,l=Zp(n);return p.jsx(yU,{...l,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q1.displayName=bF;var[wF,F_]=zl(Co,{}),U1="SelectViewport",C$=$.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=Ba(U1,n),l=F_(U1,n),u=st(t,s.onViewportChange),d=$.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Xp.Slot,{scope:n,children:p.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ye(a.onScroll,f=>{const m=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&g){const x=Math.abs(d.current-m.scrollTop);if(x>0){const S=window.innerHeight-kr*2,_=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),j=Math.max(_,b);if(j<S){const O=j+x,T=Math.min(S,O),E=O-T;g.style.height=T+"px",g.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});C$.displayName=U1;var T$="SelectGroup",[_F,SF]=zl(T$),jF=$.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=mf();return p.jsx(_F,{scope:n,id:a,children:p.jsx(We.div,{role:"group","aria-labelledby":a,...r,ref:t})})});jF.displayName=T$;var M$="SelectLabel",AF=$.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=SF(M$,n);return p.jsx(We.div,{id:a.id,...r,ref:t})});AF.displayName=M$;var Th="SelectItem",[OF,R$]=zl(Th),P$=$.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...l}=e,u=za(Th,n),d=Ba(Th,n),f=u.value===r,[m,g]=$.useState(s??""),[y,x]=$.useState(!1),S=st(t,O=>{var T;return(T=d.itemRefCallback)==null?void 0:T.call(d,O,r,a)}),_=mf(),b=$.useRef("touch"),j=()=>{a||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(OF,{scope:n,value:r,disabled:a,textId:_,isSelected:f,onItemTextChange:$.useCallback(O=>{g(T=>T||((O==null?void 0:O.textContent)??"").trim())},[]),children:p.jsx(Xp.ItemSlot,{scope:n,value:r,disabled:a,textValue:m,children:p.jsx(We.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:S,onFocus:Ye(l.onFocus,()=>x(!0)),onBlur:Ye(l.onBlur,()=>x(!1)),onClick:Ye(l.onClick,()=>{b.current!=="mouse"&&j()}),onPointerUp:Ye(l.onPointerUp,()=>{b.current==="mouse"&&j()}),onPointerDown:Ye(l.onPointerDown,O=>{b.current=O.pointerType}),onPointerMove:Ye(l.onPointerMove,O=>{var T;b.current=O.pointerType,a?(T=d.onItemLeave)==null||T.call(d):b.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(l.onPointerLeave,O=>{var T;O.currentTarget===document.activeElement&&((T=d.onItemLeave)==null||T.call(d))}),onKeyDown:Ye(l.onKeyDown,O=>{var E;((E=d.searchRef)==null?void 0:E.current)!==""&&O.key===" "||(uF.includes(O.key)&&j(),O.key===" "&&O.preventDefault())})})})})});P$.displayName=Th;var su="SelectItemText",k$=$.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,l=za(su,n),u=Ba(su,n),d=R$(su,n),f=pF(su,n),[m,g]=$.useState(null),y=st(t,j=>g(j),d.onItemTextChange,j=>{var O;return(O=u.itemTextRefCallback)==null?void 0:O.call(u,j,d.value,d.disabled)}),x=m==null?void 0:m.textContent,S=$.useMemo(()=>p.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:b}=f;return xn(()=>(_(S),()=>b(S)),[_,b,S]),p.jsxs(p.Fragment,{children:[p.jsx(We.span,{id:d.textId,...s,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?vf.createPortal(s.children,l.valueNode):null]})});k$.displayName=su;var D$="SelectItemIndicator",$$=$.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return R$(D$,n).isSelected?p.jsx(We.span,{"aria-hidden":!0,...r,ref:t}):null});$$.displayName=D$;var F1="SelectScrollUpButton",I$=$.forwardRef((e,t)=>{const n=Ba(F1,e.__scopeSelect),r=F_(F1,e.__scopeSelect),[a,s]=$.useState(!1),l=st(t,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?p.jsx(z$,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});I$.displayName=F1;var H1="SelectScrollDownButton",L$=$.forwardRef((e,t)=>{const n=Ba(H1,e.__scopeSelect),r=F_(H1,e.__scopeSelect),[a,s]=$.useState(!1),l=st(t,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;s(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?p.jsx(z$,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});L$.displayName=H1;var z$=$.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=Ba("SelectScrollButton",n),l=$.useRef(null),u=Wp(n),d=$.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return $.useEffect(()=>()=>d(),[d]),xn(()=>{var m;const f=u().find(g=>g.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),p.jsx(We.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ye(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ye(a.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ye(a.onPointerLeave,()=>{d()})})}),EF="SelectSeparator",NF=$.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(We.div,{"aria-hidden":!0,...r,ref:t})});NF.displayName=EF;var V1="SelectArrow",CF=$.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Zp(n),s=za(V1,n),l=Ba(V1,n);return s.open&&l.position==="popper"?p.jsx(xU,{...a,...r,ref:t}):null});CF.displayName=V1;var TF="SelectBubbleInput",B$=$.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=$.useRef(null),s=st(r,a),l=Kp(t);return $.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[l,t]),p.jsx(We.select,{...n,style:{...l$,...n.style},ref:s,defaultValue:t})});B$.displayName=TF;function q$(e){return e===""||e===void 0}function U$(e){const t=Cn(e),n=$.useRef(""),r=$.useRef(0),a=$.useCallback(l=>{const u=n.current+l;t(u),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),s=$.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return $.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function F$(e,t,n){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=MF(e,Math.max(s,0));a.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function MF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var RF=y$,PF=b$,kF=_$,DF=S$,$F=j$,IF=A$,LF=C$,zF=P$,BF=k$,qF=$$,UF=I$,FF=L$;/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),BN=e=>{const t=VF(e);return t.charAt(0).toUpperCase()+t.slice(1)},H$=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),GF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...u},d)=>$.createElement("svg",{ref:d,...KF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:H$("lucide",a),...!s&&!GF(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>$.createElement(f,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const n=$.forwardRef(({className:r,...a},s)=>$.createElement(YF,{ref:s,iconNode:t,className:H$(`lucide-${HF(BN(e))}`,`lucide-${e}`,r),...a}));return n.displayName=BN(e),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WF=ft("activity",XF);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],pu=ft("brain",ZF);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],G1=ft("chart-column",QF);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V$=ft("check",JF);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G$=ft("chevron-down",eH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nH=ft("chevron-up",tH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iH=ft("dollar-sign",rH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ia=ft("download",aH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sH=ft("eye",oH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],cH=ft("file-json",lH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],fH=ft("file-spreadsheet",uH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ys=ft("file-text",dH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pH=ft("history",hH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K1=ft("info",mH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gH=ft("layers",vH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xH=ft("loader-circle",yH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wH=ft("message-square",bH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M5 12h14",key:"1ays0h"}]],SH=ft("minus",_H);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],H_=ft("network",jH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],xh=ft("pen-line",AH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mu=ft("plus",OH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K$=ft("save",EH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y$=ft("settings",NH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],TH=ft("skull",CH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],X$=ft("swords",MH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],PH=ft("table",RH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],DH=ft("test-tube",kH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mh=ft("trash-2",$H);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],LH=ft("trending-down",IH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Qp=ft("trending-up",zH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],qH=ft("upload",BH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rh=ft("users",UH);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HH=ft("zap",FH);function Un({...e}){return p.jsx(RF,{"data-slot":"select",...e})}function Fn({...e}){return p.jsx(kF,{"data-slot":"select-value",...e})}function Hn({className:e,size:t="default",children:n,...r}){return p.jsxs(PF,{"data-slot":"select-trigger","data-size":t,className:wt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,p.jsx(DF,{asChild:!0,children:p.jsx(G$,{className:"size-4 opacity-50"})})]})}function Vn({className:e,children:t,position:n="popper",...r}){return p.jsx($F,{children:p.jsxs(IF,{"data-slot":"select-content",className:wt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(VH,{}),p.jsx(LF,{className:wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),p.jsx(GH,{})]})})}function ut({className:e,children:t,...n}){return p.jsxs(zF,{"data-slot":"select-item",className:wt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(qF,{children:p.jsx(V$,{className:"size-4"})})}),p.jsx(BF,{children:t})]})}function VH({className:e,...t}){return p.jsx(UF,{"data-slot":"select-scroll-up-button",className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(nH,{className:"size-4"})})}function GH({className:e,...t}){return p.jsx(FF,{"data-slot":"select-scroll-down-button",className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(G$,{className:"size-4"})})}const KH=RD("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,asChild:n=!1,...r}){const a=n?mD:"span";return p.jsx(a,{"data-slot":"badge",className:wt(KH({variant:t}),e),...r})}var YH="Separator",qN="horizontal",XH=["horizontal","vertical"],W$=$.forwardRef((e,t)=>{const{decorative:n,orientation:r=qN,...a}=e,s=WH(r)?r:qN,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(We.div,{"data-orientation":s,...u,...a,ref:t})});W$.displayName=YH;function WH(e){return XH.includes(e)}var ZH=W$;function ei({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return p.jsx(ZH,{"data-slot":"separator-root",decorative:n,orientation:t,className:wt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var Z$=["PageUp","PageDown"],Q$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bl="Slider",[Y1,QH,JH]=P_(Bl),[eI]=Wi(Bl,[JH]),[e7,Jp]=eI(Bl),tI=$.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:s=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:m,onValueChange:g=()=>{},onValueCommit:y=()=>{},inverted:x=!1,form:S,..._}=e,b=$.useRef(new Set),j=$.useRef(0),T=l==="horizontal"?t7:n7,[E=[],N]=Oo({prop:m,defaultProp:f,onChange:D=>{var z;(z=[...b.current][j.current])==null||z.focus(),g(D)}}),C=$.useRef(E);function R(D){const I=s7(E,D);B(D,I)}function M(D){B(D,j.current)}function P(){const D=C.current[j.current];E[j.current]!==D&&y(E)}function B(D,I,{commit:z}={commit:!1}){const L=f7(s),H=d7(Math.round((D-r)/s)*s+r,L),k=Nu(H,[r,a]);N((U=[])=>{const G=a7(U,k,I);if(u7(G,d*s)){j.current=G.indexOf(k);const V=String(G)!==String(U);return V&&z&&y(G),V?G:U}else return U})}return p.jsx(e7,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:a,valueIndexToChangeRef:j,thumbs:b.current,values:E,orientation:l,form:S,children:p.jsx(Y1.Provider,{scope:e.__scopeSlider,children:p.jsx(Y1.Slot,{scope:e.__scopeSlider,children:p.jsx(T,{"aria-disabled":u,"data-disabled":u?"":void 0,..._,ref:t,onPointerDown:Ye(_.onPointerDown,()=>{u||(C.current=E)}),min:r,max:a,inverted:x,onSlideStart:u?void 0:R,onSlideMove:u?void 0:M,onSlideEnd:u?void 0:P,onHomeKeyDown:()=>!u&&B(r,0,{commit:!0}),onEndKeyDown:()=>!u&&B(a,E.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:I})=>{if(!u){const H=Z$.includes(D.key)||D.shiftKey&&Q$.includes(D.key)?10:1,k=j.current,U=E[k],G=s*H*I;B(U+G,k,{commit:!0})}}})})})})});tI.displayName=Bl;var[nI,rI]=eI(Bl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),t7=$.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:s,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...m}=e,[g,y]=$.useState(null),x=st(t,T=>y(T)),S=$.useRef(void 0),_=gf(a),b=_==="ltr",j=b&&!s||!b&&s;function O(T){const E=S.current||g.getBoundingClientRect(),N=[0,E.width],R=V_(N,j?[n,r]:[r,n]);return S.current=E,R(T-E.left)}return p.jsx(nI,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:p.jsx(iI,{dir:_,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const E=O(T.clientX);l==null||l(E)},onSlideMove:T=>{const E=O(T.clientX);u==null||u(E)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:T=>{const N=J$[j?"from-left":"from-right"].includes(T.key);f==null||f({event:T,direction:N?-1:1})}})})}),n7=$.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...f}=e,m=$.useRef(null),g=st(t,m),y=$.useRef(void 0),x=!a;function S(_){const b=y.current||m.current.getBoundingClientRect(),j=[0,b.height],T=V_(j,x?[r,n]:[n,r]);return y.current=b,T(_-b.top)}return p.jsx(nI,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:p.jsx(iI,{"data-orientation":"vertical",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const b=S(_.clientY);s==null||s(b)},onSlideMove:_=>{const b=S(_.clientY);l==null||l(b)},onSlideEnd:()=>{y.current=void 0,u==null||u()},onStepKeyDown:_=>{const j=J$[x?"from-bottom":"from-top"].includes(_.key);d==null||d({event:_,direction:j?-1:1})}})})}),iI=$.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...f}=e,m=Jp(Bl,n);return p.jsx(We.span,{...f,ref:t,onKeyDown:Ye(e.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):Z$.concat(Q$).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Ye(e.onPointerDown,g=>{const y=g.target;y.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(y)?y.focus():r(g)}),onPointerMove:Ye(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Ye(e.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&(y.releasePointerCapture(g.pointerId),s(g))})})}),aI="SliderTrack",oI=$.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Jp(aI,n);return p.jsx(We.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});oI.displayName=aI;var X1="SliderRange",sI=$.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Jp(X1,n),s=rI(X1,n),l=$.useRef(null),u=st(t,l),d=a.values.length,f=a.values.map(y=>uI(y,a.min,a.max)),m=d>1?Math.min(...f):0,g=100-Math.max(...f);return p.jsx(We.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:m+"%",[s.endEdge]:g+"%"}})});sI.displayName=X1;var W1="SliderThumb",lI=$.forwardRef((e,t)=>{const n=QH(e.__scopeSlider),[r,a]=$.useState(null),s=st(t,u=>a(u)),l=$.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return p.jsx(r7,{...e,ref:s,index:l})}),r7=$.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...s}=e,l=Jp(W1,n),u=rI(W1,n),[d,f]=$.useState(null),m=st(t,O=>f(O)),g=d?l.form||!!d.closest("form"):!0,y=Gp(d),x=l.values[r],S=x===void 0?0:uI(x,l.min,l.max),_=o7(r,l.values.length),b=y==null?void 0:y[u.size],j=b?l7(b,S,u.direction):0;return $.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${j}px)`},children:[p.jsx(Y1.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(We.span,{role:"slider","aria-label":e["aria-label"]||_,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:m,style:x===void 0?{display:"none"}:e.style,onFocus:Ye(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),g&&p.jsx(cI,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});lI.displayName=W1;var i7="RadioBubbleInput",cI=$.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const a=$.useRef(null),s=st(a,r),l=Kp(t);return $.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const g=new Event("input",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[l,t]),p.jsx(We.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});cI.displayName=i7;function a7(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,s)=>a-s)}function uI(e,t,n){const s=100/(n-t)*(e-t);return Nu(s,[0,100])}function o7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function s7(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function l7(e,t,n){const r=e/2,s=V_([0,50],[0,r]);return(r-s(t)*n)*n}function c7(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function u7(e,t){if(t>0){const n=c7(e);return Math.min(...n)>=t}return!0}function V_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function f7(e){return(String(e).split(".")[1]||"").length}function d7(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var h7=tI,p7=oI,m7=sI,v7=lI;function En({className:e,defaultValue:t,value:n,min:r=0,max:a=100,...s}){const l=$.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,a],[n,t,r,a]);return p.jsxs(h7,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:a,className:wt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...s,children:[p.jsx(p7,{"data-slot":"slider-track",className:wt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:p.jsx(m7,{"data-slot":"slider-range",className:wt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(u,d)=>p.jsx(v7,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var em="Switch",[g7]=Wi(em),[y7,x7]=g7(em),fI=$.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:f,form:m,...g}=e,[y,x]=$.useState(null),S=st(t,T=>x(T)),_=$.useRef(!1),b=y?m||!!y.closest("form"):!0,[j,O]=Oo({prop:a,defaultProp:s??!1,onChange:f,caller:em});return p.jsxs(y7,{scope:n,checked:j,disabled:u,children:[p.jsx(We.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":mI(j),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:S,onClick:Ye(e.onClick,T=>{O(E=>!E),b&&(_.current=T.isPropagationStopped(),_.current||T.stopPropagation())})}),b&&p.jsx(pI,{control:y,bubbles:!_.current,name:r,value:d,checked:j,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});fI.displayName=em;var dI="SwitchThumb",hI=$.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=x7(dI,n);return p.jsx(We.span,{"data-state":mI(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});hI.displayName=dI;var b7="SwitchBubbleInput",pI=$.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},s)=>{const l=$.useRef(null),u=st(l,s),d=Kp(n),f=Gp(t);return $.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&x){const S=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(S)}},[d,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:u,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pI.displayName=b7;function mI(e){return e?"checked":"unchecked"}var w7=fI,_7=hI;function Z1({className:e,...t}){return p.jsx(w7,{"data-slot":"switch",className:wt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(_7,{"data-slot":"switch-thumb",className:wt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const S7=({onVectorGenerated:e,targetDimension:t=10})=>{const[n,r]=$.useState(""),[a,s]=$.useState(!1),[l,u]=$.useState("simple"),[d,f]=$.useState(""),m=(b,j)=>{const O=b.toLowerCase().match(/\b\w+\b/g)||[],T=new Array(j).fill(0);O.forEach(N=>{let C=0;for(let M=0;M<N.length;M++){const P=N.charCodeAt(M);C=(C<<5)-C+P,C=C&C}const R=Math.abs(C)%j;T[R]+=1/Math.sqrt(O.length)});const E=Math.sqrt(T.reduce((N,C)=>N+C*C,0));return E>0?T.map(N=>N/E):T},g=(b,j)=>{const O=b.toLowerCase().match(/\b\w+\b/g)||[],T={};O.forEach(R=>{T[R]=(T[R]||0)+1});const E=new Array(j).fill(0),N=O.length;Object.entries(T).forEach(([R,M])=>{let P=0;for(let z=0;z<R.length;z++){const L=R.charCodeAt(z);P=(P<<5)-P+L,P=P&P}const B=Math.abs(P)%j,D=M/N,I=Math.log(N/M);E[B]+=D*I});const C=Math.sqrt(E.reduce((R,M)=>R+M*M,0));return C>0?E.map(R=>R/C):E},y=(b,j)=>{const O=b.toLowerCase().replace(/[^\w\s]/g,""),T=new Array(j).fill(0);for(let R=0;R<O.length-1;R++){const M=O.slice(R,R+2);let P=0;for(let D=0;D<M.length;D++)P=(P<<5)-P+M.charCodeAt(D),P=P&P;const B=Math.abs(P)%j;T[B]+=1}const E=new Set(O).size,N=O.length;T[0]+=N/1e3,T[1]+=E/26;const C=Math.sqrt(T.reduce((R,M)=>R+M*M,0));return C>0?T.map(R=>R/C):T},x=async()=>{if(!n.trim()){f("Введите текст для векторизации");return}s(!0),f("");try{await new Promise(j=>setTimeout(j,500));let b;switch(l){case"simple":b=m(n,t);break;case"tfidf":b=g(n,t);break;case"semantic":b=y(n,t);break;default:b=m(n,t)}e&&e(b,n)}catch(b){f("Ошибка при векторизации текста: "+b.message)}finally{s(!1)}},S=()=>{r(""),f("")},_=b=>{switch(b){case"simple":return"Простое хеширование слов по измерениям";case"tfidf":return"TF-IDF подобная векторизация с учетом частоты слов";case"semantic":return"Семантический анализ на основе биграмм и метрик текста";default:return""}};return p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Семантическая векторизация текста"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Метод векторизации"}),p.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"simple",children:"Простое хеширование"}),p.jsx("option",{value:"tfidf",children:"TF-IDF подобный"}),p.jsx("option",{value:"semantic",children:"Семантический анализ"})]}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:_(l)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Текст для векторизации"}),p.jsx("textarea",{value:n,onChange:b=>r(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"6",placeholder:"Введите текст, который нужно преобразовать в вектор..."}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Целевая размерность: ",t]})]}),d&&p.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:d}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Je,{onClick:x,disabled:a||!n.trim(),className:"flex-1",children:a?"Обработка...":"Векторизовать"}),p.jsx(Je,{onClick:S,variant:"outline",disabled:a,children:"Очистить"})]}),p.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[p.jsx("strong",{children:"Как это работает:"}),p.jsxs("ul",{className:"mt-1 space-y-1",children:[p.jsxs("li",{children:["• ",p.jsx("strong",{children:"Простое хеширование:"})," Каждое слово хешируется и распределяется по измерениям"]}),p.jsxs("li",{children:["• ",p.jsx("strong",{children:"TF-IDF подобный:"})," Учитывается частота слов и их важность в тексте"]}),p.jsxs("li",{children:["• ",p.jsx("strong",{children:"Семантический:"})," Анализируются биграммы, длина текста и разнообразие символов"]})]})]})]})]})},j7=({simulationParams:e,onParamsChange:t,topicSettings:n,setTopicSettings:r,opinionSettings:a,setOpinionSettings:s,onError:l})=>{const[u,d]=$.useState([]),[f,m]=$.useState(null),[g,y]=$.useState(null),[x,S]=$.useState(!1),[_,b]=$.useState(!1),j=[{id:"consensus",name:"Поиск консенсуса",description:"Агенты стремятся к общему мнению по всем темам",topics:5,proximitySettings:{type:"convergent",strength:.8},opinionDistribution:"normal"},{id:"polarization",name:"Поляризация мнений",description:"Формирование противоположных групп мнений",topics:3,proximitySettings:{type:"divergent",strength:.9},opinionDistribution:"bimodal"},{id:"echo_chambers",name:"Эхо-камеры",description:"Изолированные группы с усилением собственных взглядов",topics:7,proximitySettings:{type:"cluster_isolated",strength:.7},opinionDistribution:"cluster_based"},{id:"information_cascade",name:"Информационный каскад",description:"Быстрое распространение мнения через сеть",topics:4,proximitySettings:{type:"cascade",strength:.6},opinionDistribution:"random"}];$.useEffect(()=>{d(j),m(j[0])},[]),$.useEffect(()=>{f&&_&&O(f)},[f,_]);const O=z=>{const L=[];for(let H=0;H<z.topics;H++){let k={id:H,name:`Тема ${H+1} (${z.name})`,type:"scenario-generated",targetCluster:null,proximityLevel:.5,customVector:null};switch(z.proximitySettings.type){case"convergent":k.type="cluster-aligned",k.targetCluster=0,k.proximityLevel=z.proximitySettings.strength;break;case"divergent":k.type="cluster-aligned",k.targetCluster=H%e.numClusters,k.proximityLevel=z.proximitySettings.strength;break;case"cluster_isolated":k.type="cluster-aligned",k.targetCluster=Math.floor(H/Math.ceil(z.topics/e.numClusters)),k.proximityLevel=z.proximitySettings.strength;break;case"cascade":k.type="random",k.proximityLevel=z.proximitySettings.strength*(1-H/z.topics);break}L.push(k)}r(H=>({...H,numTopics:z.topics,topics:L})),T(z)},T=z=>{const L={};for(let H=0;H<e.numClusters;H++){L[H]=[];for(let k=0;k<z.topics;k++){let U=0;switch(z.opinionDistribution){case"normal":U=(Math.random()-.5)*.4;break;case"bimodal":U=Math.random()>.5?.7:-.7;break;case"cluster_based":U=H/(e.numClusters-1)*2-1;break;case"random":U=Math.random()*2-1;break}L[H].push(U)}}s(H=>({...H,clusterOpinions:L}))},E=()=>{const z={id:`custom_${Date.now()}`,name:"Новый сценарий",description:"Описание сценария",topics:n.numTopics,proximitySettings:{type:"random",strength:.5},opinionDistribution:"normal",customLogic:"",isCustom:!0};y(z)},N=()=>{if(!g)return;const z=g.isNew?[...u,g]:u.map(L=>L.id===g.id?g:L);d(z),m(g),y(null)},C=z=>{if(j.find(H=>H.id===z)){l("Нельзя удалить предустановленный сценарий");return}const L=u.filter(H=>H.id!==z);d(L),(f==null?void 0:f.id)===z&&m(j[0])},R=z=>{const L={scenario:z,topicSettings:n,opinionSettings:a,simulationParams:{vectorDimension:e.vectorDimension,numClusters:e.numClusters}},H=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),k=window.URL.createObjectURL(H),U=document.createElement("a");U.href=k,U.download=`scenario_${z.name.replace(/\\s+/g,"_")}.json`,U.click(),window.URL.revokeObjectURL(k)},M=z=>{const L=z.target.files[0];if(!L)return;const H=new FileReader;H.onload=k=>{try{const U=JSON.parse(k.target.result),G={...U.scenario,id:`imported_${Date.now()}`,isCustom:!0};d(V=>[...V,G]),m(G),U.topicSettings&&r(U.topicSettings),U.opinionSettings&&s(U.opinionSettings),U.simulationParams&&t(U.simulationParams)}catch(U){l(`Ошибка импорта сценария: ${U.message}`)}},H.readAsText(L)},P=(z,L,H)=>{const k=[...n.topics];k[z]={...k[z],[L]:H},r(U=>({...U,topics:k}))},B=(z,L,H)=>{const k={...a.clusterOpinions};k[z]||(k[z]=[]),k[z][L]=H,s(U=>({...U,clusterOpinions:k}))},D=()=>{const z={id:n.topics.length,name:`Тема ${n.topics.length+1}`,type:"random",targetCluster:0,proximityLevel:.5,customVector:null};r(H=>({...H,numTopics:H.numTopics+1,topics:[...H.topics,z]}));const L={...a.clusterOpinions};for(let H=0;H<e.numClusters;H++)L[H]||(L[H]=[]),L[H].push(0);s(H=>({...H,clusterOpinions:L}))},I=z=>{const L=n.topics.filter((k,U)=>U!==z);r(k=>({...k,numTopics:k.numTopics-1,topics:L.map((U,G)=>({...U,id:G}))}));const H={...a.clusterOpinions};for(let k=0;k<e.numClusters;k++)H[k]&&H[k].splice(z,1);s(k=>({...k,clusterOpinions:H}))};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-5 w-5"}),"Расширенное управление сценариями"]})}),p.jsxs(kt,{children:[p.jsxs(Lo,{defaultValue:"scenarios",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-4",children:[p.jsx(Et,{value:"scenarios",children:"Сценарии"}),p.jsx(Et,{value:"topics",children:"Темы"}),p.jsx(Et,{value:"opinions",children:"Мнения"}),p.jsx(Et,{value:"vectorizer",children:"Векторизация"})]}),p.jsxs(Nt,{value:"scenarios",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ge,{htmlFor:"auto-generate",children:"Автогенерация тем"}),p.jsx(Z1,{id:"auto-generate",checked:_,onCheckedChange:b})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Je,{onClick:E,variant:"outline",size:"sm",children:[p.jsx(mu,{className:"h-4 w-4 mr-1"}),"Создать"]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"file",accept:".json",onChange:M,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsxs(Je,{variant:"outline",size:"sm",children:[p.jsx(qH,{className:"h-4 w-4 mr-1"}),"Импорт"]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(z=>p.jsxs(Ie,{className:`p-4 cursor-pointer transition-colors ${(f==null?void 0:f.id)===z.id?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>m(z),children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h4",{className:"font-medium",children:z.name}),p.jsxs("div",{className:"flex gap-1",children:[z.isCustom&&p.jsxs(p.Fragment,{children:[p.jsx(Je,{onClick:L=>{L.stopPropagation(),y(z)},variant:"outline",size:"sm",children:p.jsx(xh,{className:"h-3 w-3"})}),p.jsx(Je,{onClick:L=>{L.stopPropagation(),C(z.id)},variant:"outline",size:"sm",children:p.jsx(Mh,{className:"h-3 w-3"})})]}),p.jsx(Je,{onClick:L=>{L.stopPropagation(),R(z)},variant:"outline",size:"sm",children:p.jsx(Ia,{className:"h-3 w-3"})})]})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:z.description}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(ct,{variant:"outline",size:"sm",children:[z.topics," тем"]}),p.jsx(ct,{variant:"outline",size:"sm",children:z.proximitySettings.type}),z.isCustom&&p.jsx(ct,{variant:"secondary",size:"sm",children:"Пользовательский"})]})]},z.id))}),f&&p.jsxs(Ie,{className:"p-4 bg-blue-50",children:[p.jsxs("h4",{className:"font-medium mb-2",children:["Текущий сценарий: ",f.name]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Описание:"}),p.jsx("p",{children:f.description})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Параметры:"}),p.jsxs("ul",{className:"mt-1 space-y-1",children:[p.jsxs("li",{children:["Тем: ",f.topics]}),p.jsxs("li",{children:["Тип: ",f.proximitySettings.type]}),p.jsxs("li",{children:["Сила: ",f.proximitySettings.strength]}),p.jsxs("li",{children:["Распределение: ",f.opinionDistribution]})]})]})]})]})]}),p.jsxs(Nt,{value:"topics",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-medium",children:["Настройка тем (",n.topics.length,")"]}),p.jsxs(Je,{onClick:D,variant:"outline",size:"sm",children:[p.jsx(mu,{className:"h-4 w-4 mr-1"}),"Добавить тему"]})]}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.topics.map((z,L)=>{var H;return p.jsxs(Ie,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsx("div",{className:"flex-1 space-y-2",children:p.jsx(ti,{value:z.name,onChange:k=>P(L,"name",k.target.value),placeholder:"Название темы"})}),p.jsx(Je,{onClick:()=>I(L),variant:"outline",size:"sm",className:"ml-2",children:p.jsx(Mh,{className:"h-3 w-3"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{children:"Тип генерации"}),p.jsxs(Un,{value:z.type,onValueChange:k=>P(L,"type",k),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"random",children:"Случайный"}),p.jsx(ut,{value:"cluster-aligned",children:"Привязан к кластеру"}),p.jsx(ut,{value:"custom",children:"Пользовательский вектор"})]})]})]}),z.type==="cluster-aligned"&&p.jsxs("div",{children:[p.jsx(Ge,{children:"Целевой кластер"}),p.jsxs(Un,{value:((H=z.targetCluster)==null?void 0:H.toString())||"0",onValueChange:k=>P(L,"targetCluster",parseInt(k)),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:Array.from({length:e.numClusters},(k,U)=>p.jsxs(ut,{value:U.toString(),children:["Кластер ",U+1]},U))})]})]}),p.jsxs("div",{children:[p.jsxs(Ge,{children:["Близость к ценностям: ",z.proximityLevel]}),p.jsx(En,{value:[z.proximityLevel],onValueChange:k=>P(L,"proximityLevel",k[0]),min:0,max:1,step:.1,className:"mt-2"})]})]})]},z.id)})})]}),p.jsxs(Nt,{value:"opinions",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h4",{className:"font-medium",children:"Распределение мнений по кластерам"}),p.jsx("div",{className:"text-sm text-gray-600",children:"Значения от -1 (против) до +1 (за)"})]}),p.jsx("div",{className:"space-y-4",children:Array.from({length:e.numClusters},(z,L)=>p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h5",{className:"font-medium mb-3",children:["Кластер ",L+1]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.topics.map((H,k)=>{var U,G;return p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{className:"text-sm",children:H.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs w-8",children:"-1"}),p.jsx(En,{value:[((U=a.clusterOpinions[L])==null?void 0:U[k])||0],onValueChange:V=>B(L,k,V[0]),min:-1,max:1,step:.1,className:"flex-1"}),p.jsx("span",{className:"text-xs w-8",children:"+1"}),p.jsx("span",{className:"text-xs w-12 text-right",children:(((G=a.clusterOpinions[L])==null?void 0:G[k])||0).toFixed(1)})]})]},H.id)})})]},L))}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-3",children:"Загрузка полной матрицы мнений"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{children:"Загрузить CSV файл с матрицей мнений (агенты × темы)"}),p.jsx(ti,{type:"file",accept:".csv",onChange:z=>{console.log("Загрузка матрицы мнений:",z.target.files[0])}}),p.jsx("p",{className:"text-sm text-gray-600",children:"Формат: строки - агенты, столбцы - темы, значения от -1 до +1"})]})]})]}),p.jsxs(Nt,{value:"vectorizer",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[p.jsx(pu,{className:"h-4 w-4"}),"Векторизация текста"]}),p.jsxs(Je,{onClick:()=>S(!x),variant:"outline",children:[p.jsx(HH,{className:"h-4 w-4 mr-1"}),x?"Скрыть":"Показать"," векторизатор"]})]}),x&&p.jsx(S7,{vectorDimension:e.vectorDimension,onVectorGenerated:(z,L)=>{const H={id:n.topics.length,name:`Векторизованная тема: ${L.substring(0,30)}...`,type:"custom",targetCluster:null,proximityLevel:.5,customVector:z};r(U=>({...U,numTopics:U.numTopics+1,topics:[...U.topics,H]}));const k={...a.clusterOpinions};for(let U=0;U<e.numClusters;U++)k[U]||(k[U]=[]),k[U].push(0);s(U=>({...U,clusterOpinions:k}))},onError:l}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-3",children:"Поддерживаемые модели"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium text-sm",children:"Встроенные модели:"}),p.jsxs("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[p.jsx("li",{children:"• TF-IDF (быстрая)"}),p.jsx("li",{children:"• Word2Vec (средняя)"}),p.jsx("li",{children:"• Sentence Transformers (точная)"})]})]}),p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium text-sm",children:"Внешние API:"}),p.jsxs("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[p.jsx("li",{children:"• OpenAI Embeddings"}),p.jsx("li",{children:"• Hugging Face"}),p.jsx("li",{children:"• Google Universal Sentence Encoder"})]})]})]})]})]})]}),g&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:g.isNew?"Создание сценария":"Редактирование сценария"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"scenario-name",children:"Название"}),p.jsx(ti,{id:"scenario-name",value:g.name,onChange:z=>y({...g,name:z.target.value})})]}),p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"scenario-description",children:"Описание"}),p.jsx(Ah,{id:"scenario-description",value:g.description,onChange:z=>y({...g,description:z.target.value}),rows:3})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{children:"Количество тем"}),p.jsx(ti,{type:"number",min:"1",max:"20",value:g.topics,onChange:z=>y({...g,topics:parseInt(z.target.value)})})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Тип близости"}),p.jsxs(Un,{value:g.proximitySettings.type,onValueChange:z=>y({...g,proximitySettings:{...g.proximitySettings,type:z}}),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"convergent",children:"Конвергентный"}),p.jsx(ut,{value:"divergent",children:"Дивергентный"}),p.jsx(ut,{value:"cluster_isolated",children:"Изолированные кластеры"}),p.jsx(ut,{value:"cascade",children:"Каскадный"}),p.jsx(ut,{value:"random",children:"Случайный"})]})]})]})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Пользовательская логика (JavaScript)"}),p.jsx(Ah,{value:g.customLogic||"",onChange:z=>y({...g,customLogic:z.target.value}),rows:6,placeholder:"// Функция должна возвращать массив векторов тем\\n// Доступные параметры: agents, clusterCenters, vectorDimension, numClusters\\nreturn topics;"})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Je,{onClick:()=>y(null),variant:"outline",children:"Отмена"}),p.jsxs(Je,{onClick:N,children:[p.jsx(K$,{className:"h-4 w-4 mr-1"}),"Сохранить"]})]})]})]})})]})]})},A7=({simulationParams:e,onParamsChange:t,uploadedAgents:n,setUploadedAgents:r,uploadedTopics:a,setUploadedTopics:s,onError:l})=>{const[u,d]=$.useState([10,50,100,300,700,1044]),[f,m]=$.useState(""),[g,y]=$.useState([]),[x,S]=$.useState([]),[_,b]=$.useState(null);$.useEffect(()=>{n||j()},[e.agentCount,e.vectorDimension]),$.useEffect(()=>{a||O()},[e.vectorDimension]);const j=()=>{const I=[];for(let z=0;z<e.agentCount;z++){const L=Array.from({length:e.vectorDimension},()=>Math.random()*2-1);I.push({id:z,name:`Агент ${z+1}`,vector:L,cluster:z%e.numClusters})}y(I)},O=()=>{const I=[];for(let z=0;z<10;z++){const L=Array.from({length:e.vectorDimension},()=>Math.random()*2-1);I.push({id:z,name:`Тема ${z+1}`,vector:L,category:"general"})}S(I)},T=I=>{const z=parseInt(I);t({vectorDimension:z})},E=()=>{const I=parseInt(f);I&&I>0&&!u.includes(I)&&(d([...u,I].sort((z,L)=>z-L)),m(""))},N=(I,z)=>{const L=I.target.files[0];if(!L)return;const H=L.name.split(".").pop().toLowerCase();if(H==="csv")Qr.parse(L,{complete:k=>{try{C(k.data,z)}catch(U){l(`Ошибка при обработке CSV файла: ${U.message}`)}},header:!1,skipEmptyLines:!0});else if(H==="xlsx"||H==="xls"){const k=new FileReader;k.onload=U=>{try{l("Поддержка Excel файлов будет добавлена в следующей версии. Пожалуйста, используйте CSV формат.")}catch(G){l(`Ошибка при чтении Excel файла: ${G.message}`)}},k.readAsArrayBuffer(L)}},C=(I,z)=>{const L=I.filter(G=>G.some(V=>V&&V.toString().trim()!==""));if(L.length===0)throw new Error("Файл не содержит данных");const H=isNaN(parseFloat(L[0][0])),U=(H?L.slice(1):L).map((G,V)=>{const F=G.map(X=>{const W=parseFloat(X);return isNaN(W)?0:W});return z==="agents"?{id:V,name:H&&L[0][0]?`${L[0][0]} ${V+1}`:`Агент ${V+1}`,vector:F,cluster:V%e.numClusters}:{id:V,name:H&&L[0][0]?`${L[0][0]} ${V+1}`:`Тема ${V+1}`,vector:F,category:"imported"}});if(U.length>0){const G=U[0].vector.length;z==="agents"?(r(U.map(V=>V.vector)),y(U),t({agentCount:U.length,vectorDimension:G})):(s(U.map(V=>V.vector)),S(U),t({vectorDimension:G}))}},R=I=>{const L=(I==="agents"?g:x).map(F=>[F.name,...F.vector]),H=["Name",...Array.from({length:e.vectorDimension},(F,X)=>`Dim_${X+1}`)];L.unshift(H);const k=L.map(F=>F.join(",")).join("\\n"),U=new Blob([k],{type:"text/csv"}),G=window.URL.createObjectURL(U),V=document.createElement("a");V.href=G,V.download=`${I}_vectors.csv`,V.click(),window.URL.revokeObjectURL(G)},M=(I,z)=>{b({...I,type:z})},P=()=>{if(!_)return;const I={..._,vector:_.vector.map(z=>parseFloat(z)||0)};if(_.type==="agents"){const z=g.map(L=>L.id===I.id?I:L);y(z),r(z.map(L=>L.vector))}else{const z=x.map(L=>L.id===I.id?I:L);S(z),s(z.map(L=>L.vector))}b(null)},B=I=>{const z={id:I==="agents"?g.length:x.length,name:I==="agents"?`Новый агент ${g.length+1}`:`Новая тема ${x.length+1}`,vector:Array.from({length:e.vectorDimension},()=>0),cluster:I==="agents"?0:void 0,category:I==="topics"?"custom":void 0};if(I==="agents"){const L=[...g,z];y(L),r(L.map(H=>H.vector)),t({agentCount:L.length})}else{const L=[...x,z];S(L),s(L.map(H=>H.vector))}},D=(I,z)=>{if(z==="agents"){const L=g.filter(H=>H.id!==I);y(L),r(L.map(H=>H.vector)),t({agentCount:L.length})}else{const L=x.filter(H=>H.id!==I);S(L),s(L.map(H=>H.vector))}};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(xh,{className:"h-5 w-5"}),"Управление векторами"]})}),p.jsxs(kt,{children:[p.jsxs(Lo,{defaultValue:"dimension",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-3",children:[p.jsx(Et,{value:"dimension",children:"Размерность"}),p.jsx(Et,{value:"agents",children:"Агенты"}),p.jsx(Et,{value:"topics",children:"Темы"})]}),p.jsx(Nt,{value:"dimension",className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"vector-dimension",children:"Размерность вектора"}),p.jsxs(Un,{value:e.vectorDimension.toString(),onValueChange:T,children:[p.jsx(Hn,{children:p.jsx(Fn,{placeholder:"Выберите размерность"})}),p.jsx(Vn,{children:u.map(I=>p.jsxs(ut,{value:I.toString(),children:[I," измерений"]},I))})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ti,{placeholder:"Пользовательская размерность",value:f,onChange:I=>m(I.target.value),type:"number",min:"1",max:"2000"}),p.jsx(Je,{onClick:E,variant:"outline",children:p.jsx(mu,{className:"h-4 w-4"})})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Текущая размерность:"})," ",e.vectorDimension]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Агентов:"})," ",g.length]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Тем:"})," ",x.length]})]})]})}),p.jsxs(Nt,{value:"agents",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Векторы ценностей агентов"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Je,{onClick:()=>B("agents"),variant:"outline",size:"sm",children:[p.jsx(mu,{className:"h-4 w-4 mr-1"}),"Добавить"]}),p.jsxs(Je,{onClick:()=>R("agents"),variant:"outline",size:"sm",children:[p.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Экспорт"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{htmlFor:"agents-upload",children:"Загрузить векторы агентов (CSV/Excel)"}),p.jsx(ti,{id:"agents-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:I=>N(I,"agents")})]}),p.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[g.slice(0,10).map(I=>p.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"font-medium",children:I.name}),p.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Кластер ",I.cluster]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(Je,{onClick:()=>M(I,"agents"),variant:"outline",size:"sm",children:p.jsx(xh,{className:"h-3 w-3"})}),p.jsx(Je,{onClick:()=>D(I.id,"agents"),variant:"outline",size:"sm",children:p.jsx(Mh,{className:"h-3 w-3"})})]})]},I.id)),g.length>10&&p.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["... и еще ",g.length-10," агентов"]})]})]}),p.jsxs(Nt,{value:"topics",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Векторы тем для обсуждения"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Je,{onClick:()=>B("topics"),variant:"outline",size:"sm",children:[p.jsx(mu,{className:"h-4 w-4 mr-1"}),"Добавить"]}),p.jsxs(Je,{onClick:()=>R("topics"),variant:"outline",size:"sm",children:[p.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Экспорт"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{htmlFor:"topics-upload",children:"Загрузить векторы тем (CSV/Excel)"}),p.jsx(ti,{id:"topics-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:I=>N(I,"topics")})]}),p.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:x.map(I=>p.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"font-medium",children:I.name}),p.jsx("span",{className:"text-sm text-gray-500 ml-2",children:I.category})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(Je,{onClick:()=>M(I,"topics"),variant:"outline",size:"sm",children:p.jsx(xh,{className:"h-3 w-3"})}),p.jsx(Je,{onClick:()=>D(I.id,"topics"),variant:"outline",size:"sm",children:p.jsx(Mh,{className:"h-3 w-3"})})]})]},I.id))})]})]}),_&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:[p.jsxs("h3",{className:"text-lg font-medium mb-4",children:["Редактирование: ",_.name]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"vector-name",children:"Название"}),p.jsx(ti,{id:"vector-name",value:_.name,onChange:I=>b({..._,name:I.target.value})})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Вектор (через запятую)"}),p.jsx(Ah,{value:_.vector.join(", "),onChange:I=>{const z=I.target.value.split(",").map(L=>L.trim());b({..._,vector:z})},rows:4})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Je,{onClick:()=>b(null),variant:"outline",children:"Отмена"}),p.jsx(Je,{onClick:P,children:"Сохранить"})]})]})]})})]})]})};var wy,UN;function Kn(){if(UN)return wy;UN=1;var e=Array.isArray;return wy=e,wy}var _y,FN;function vI(){if(FN)return _y;FN=1;var e=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd;return _y=e,_y}var Sy,HN;function pi(){if(HN)return Sy;HN=1;var e=vI(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Sy=n,Sy}var jy,VN;function bf(){if(VN)return jy;VN=1;var e=pi(),t=e.Symbol;return jy=t,jy}var Ay,GN;function O7(){if(GN)return Ay;GN=1;var e=bf(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function s(l){var u=n.call(l,a),d=l[a];try{l[a]=void 0;var f=!0}catch{}var m=r.call(l);return f&&(u?l[a]=d:delete l[a]),m}return Ay=s,Ay}var Oy,KN;function E7(){if(KN)return Oy;KN=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Oy=n,Oy}var Ey,YN;function Zi(){if(YN)return Ey;YN=1;var e=bf(),t=O7(),n=E7(),r="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?a:r:s&&s in Object(u)?t(u):n(u)}return Ey=l,Ey}var Ny,XN;function Qi(){if(XN)return Ny;XN=1;function e(t){return t!=null&&typeof t=="object"}return Ny=e,Ny}var Cy,WN;function ql(){if(WN)return Cy;WN=1;var e=Zi(),t=Qi(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Cy=r,Cy}var Ty,ZN;function G_(){if(ZN)return Ty;ZN=1;var e=Kn(),t=ql(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Ty=a,Ty}var My,QN;function qa(){if(QN)return My;QN=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return My=e,My}var Ry,JN;function K_(){if(JN)return Ry;JN=1;var e=Zi(),t=qa(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==a||d==n||d==s}return Ry=l,Ry}var Py,eC;function N7(){if(eC)return Py;eC=1;var e=pi(),t=e["__core-js_shared__"];return Py=t,Py}var ky,tC;function C7(){if(tC)return ky;tC=1;var e=N7(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return ky=n,ky}var Dy,nC;function gI(){if(nC)return Dy;nC=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Dy=n,Dy}var $y,rC;function T7(){if(rC)return $y;rC=1;var e=K_(),t=C7(),n=qa(),r=gI(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,m=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!n(y)||t(y))return!1;var x=e(y)?m:s;return x.test(r(y))}return $y=g,$y}var Iy,iC;function M7(){if(iC)return Iy;iC=1;function e(t,n){return t==null?void 0:t[n]}return Iy=e,Iy}var Ly,aC;function Bo(){if(aC)return Ly;aC=1;var e=T7(),t=M7();function n(r,a){var s=t(r,a);return e(s)?s:void 0}return Ly=n,Ly}var zy,oC;function tm(){if(oC)return zy;oC=1;var e=Bo(),t=e(Object,"create");return zy=t,zy}var By,sC;function R7(){if(sC)return By;sC=1;var e=tm();function t(){this.__data__=e?e(null):{},this.size=0}return By=t,By}var qy,lC;function P7(){if(lC)return qy;lC=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return qy=e,qy}var Uy,cC;function k7(){if(cC)return Uy;cC=1;var e=tm(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return r.call(l,s)?l[s]:void 0}return Uy=a,Uy}var Fy,uC;function D7(){if(uC)return Fy;uC=1;var e=tm(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var s=this.__data__;return e?s[a]!==void 0:n.call(s,a)}return Fy=r,Fy}var Hy,fC;function $7(){if(fC)return Hy;fC=1;var e=tm(),t="__lodash_hash_undefined__";function n(r,a){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&a===void 0?t:a,this}return Hy=n,Hy}var Vy,dC;function I7(){if(dC)return Vy;dC=1;var e=R7(),t=P7(),n=k7(),r=D7(),a=$7();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,Vy=s,Vy}var Gy,hC;function L7(){if(hC)return Gy;hC=1;function e(){this.__data__=[],this.size=0}return Gy=e,Gy}var Ky,pC;function Y_(){if(pC)return Ky;pC=1;function e(t,n){return t===n||t!==t&&n!==n}return Ky=e,Ky}var Yy,mC;function nm(){if(mC)return Yy;mC=1;var e=Y_();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return Yy=t,Yy}var Xy,vC;function z7(){if(vC)return Xy;vC=1;var e=nm(),t=Array.prototype,n=t.splice;function r(a){var s=this.__data__,l=e(s,a);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():n.call(s,l,1),--this.size,!0}return Xy=r,Xy}var Wy,gC;function B7(){if(gC)return Wy;gC=1;var e=nm();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return Wy=t,Wy}var Zy,yC;function q7(){if(yC)return Zy;yC=1;var e=nm();function t(n){return e(this.__data__,n)>-1}return Zy=t,Zy}var Qy,xC;function U7(){if(xC)return Qy;xC=1;var e=nm();function t(n,r){var a=this.__data__,s=e(a,n);return s<0?(++this.size,a.push([n,r])):a[s][1]=r,this}return Qy=t,Qy}var Jy,bC;function rm(){if(bC)return Jy;bC=1;var e=L7(),t=z7(),n=B7(),r=q7(),a=U7();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,Jy=s,Jy}var e0,wC;function X_(){if(wC)return e0;wC=1;var e=Bo(),t=pi(),n=e(t,"Map");return e0=n,e0}var t0,_C;function F7(){if(_C)return t0;_C=1;var e=I7(),t=rm(),n=X_();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return t0=r,t0}var n0,SC;function H7(){if(SC)return n0;SC=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return n0=e,n0}var r0,jC;function im(){if(jC)return r0;jC=1;var e=H7();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return r0=t,r0}var i0,AC;function V7(){if(AC)return i0;AC=1;var e=im();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return i0=t,i0}var a0,OC;function G7(){if(OC)return a0;OC=1;var e=im();function t(n){return e(this,n).get(n)}return a0=t,a0}var o0,EC;function K7(){if(EC)return o0;EC=1;var e=im();function t(n){return e(this,n).has(n)}return o0=t,o0}var s0,NC;function Y7(){if(NC)return s0;NC=1;var e=im();function t(n,r){var a=e(this,n),s=a.size;return a.set(n,r),this.size+=a.size==s?0:1,this}return s0=t,s0}var l0,CC;function W_(){if(CC)return l0;CC=1;var e=F7(),t=V7(),n=G7(),r=K7(),a=Y7();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,l0=s,l0}var c0,TC;function yI(){if(TC)return c0;TC=1;var e=W_(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=s.cache;if(d.has(u))return d.get(u);var f=r.apply(this,l);return s.cache=d.set(u,f)||d,f};return s.cache=new(n.Cache||e),s}return n.Cache=e,c0=n,c0}var u0,MC;function X7(){if(MC)return u0;MC=1;var e=yI(),t=500;function n(r){var a=e(r,function(l){return s.size===t&&s.clear(),l}),s=a.cache;return a}return u0=n,u0}var f0,RC;function W7(){if(RC)return f0;RC=1;var e=X7(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(l,u,d,f){s.push(d?f.replace(n,"$1"):u||l)}),s});return f0=r,f0}var d0,PC;function Z_(){if(PC)return d0;PC=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,s=Array(a);++r<a;)s[r]=n(t[r],r,t);return s}return d0=e,d0}var h0,kC;function Z7(){if(kC)return h0;kC=1;var e=bf(),t=Z_(),n=Kn(),r=ql(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return h0=l,h0}var p0,DC;function xI(){if(DC)return p0;DC=1;var e=Z7();function t(n){return n==null?"":e(n)}return p0=t,p0}var m0,$C;function bI(){if($C)return m0;$C=1;var e=Kn(),t=G_(),n=W7(),r=xI();function a(s,l){return e(s)?s:t(s,l)?[s]:n(r(s))}return m0=a,m0}var v0,IC;function am(){if(IC)return v0;IC=1;var e=ql();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return v0=t,v0}var g0,LC;function Q_(){if(LC)return g0;LC=1;var e=bI(),t=am();function n(r,a){a=e(a,r);for(var s=0,l=a.length;r!=null&&s<l;)r=r[t(a[s++])];return s&&s==l?r:void 0}return g0=n,g0}var y0,zC;function wI(){if(zC)return y0;zC=1;var e=Q_();function t(n,r,a){var s=n==null?void 0:e(n,r);return s===void 0?a:s}return y0=t,y0}var Q7=wI();const lr=vt(Q7);var x0,BC;function J7(){if(BC)return x0;BC=1;function e(t){return t==null}return x0=e,x0}var e9=J7();const He=vt(e9);var b0,qC;function t9(){if(qC)return b0;qC=1;var e=Zi(),t=Kn(),n=Qi(),r="[object String]";function a(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return b0=a,b0}var n9=t9();const To=vt(n9);var r9=K_();const Ke=vt(r9);var i9=qa();const Ul=vt(i9);var w0={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function a9(){if(UC)return gt;UC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var j=b.$$typeof;switch(j){case e:switch(b=b.type,b){case n:case a:case r:case f:case m:return b;default:switch(b=b&&b.$$typeof,b){case u:case l:case d:case y:case g:case s:return b;default:return j}}case t:return j}}}return gt.ContextConsumer=l,gt.ContextProvider=s,gt.Element=e,gt.ForwardRef=d,gt.Fragment=n,gt.Lazy=y,gt.Memo=g,gt.Portal=t,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=f,gt.SuspenseList=m,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(b){return _(b)===l},gt.isContextProvider=function(b){return _(b)===s},gt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},gt.isForwardRef=function(b){return _(b)===d},gt.isFragment=function(b){return _(b)===n},gt.isLazy=function(b){return _(b)===y},gt.isMemo=function(b){return _(b)===g},gt.isPortal=function(b){return _(b)===t},gt.isProfiler=function(b){return _(b)===a},gt.isStrictMode=function(b){return _(b)===r},gt.isSuspense=function(b){return _(b)===f},gt.isSuspenseList=function(b){return _(b)===m},gt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===a||b===r||b===f||b===m||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===g||b.$$typeof===s||b.$$typeof===l||b.$$typeof===d||b.$$typeof===S||b.getModuleId!==void 0)},gt.typeOf=_,gt}var FC;function o9(){return FC||(FC=1,w0.exports=a9()),w0.exports}var s9=o9(),_0,HC;function _I(){if(HC)return _0;HC=1;var e=Zi(),t=Qi(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return _0=r,_0}var S0,VC;function l9(){if(VC)return S0;VC=1;var e=_I();function t(n){return e(n)&&n!=+n}return S0=t,S0}var c9=l9();const wf=vt(c9);var u9=_I();const f9=vt(u9);var Mn=function(t){return t===0?0:t>0?1:-1},xo=function(t){return To(t)&&t.indexOf("%")===t.length-1},Ee=function(t){return f9(t)&&!wf(t)},d9=function(t){return He(t)},rn=function(t){return Ee(t)||To(t)},h9=0,qo=function(t){var n=++h9;return"".concat(t||"").concat(n)},Rn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&!To(t))return r;var s;if(xo(t)){var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return wf(s)&&(s=r),a&&s>n&&(s=n),s},Na=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},p9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},yn=function(t,n){return Ee(t)&&Ee(n)?function(r){return t+r*(n-t)}:function(){return n}};function Ph(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):lr(r,t))===n})}var m9=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,a=0,s=0,l=0,u=1/0,d=-1/0,f=0,m=0,g=0;g<n;g++)f=t[g].cx||0,m=t[g].cy||0,r+=f,a+=m,s+=f*m,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var y=n*l!==r*r?(n*s-r*a)/(n*l-r*r):0;return{xmin:u,xmax:d,a:y,b:(a-y*r)/n}},v9=function(t,n){return Ee(t)&&Ee(n)?t-n:To(t)&&To(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Xs(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}var g9=["viewBox","children"],y9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GC=["points","pathLength"],j0={svg:g9,polygon:GC,polyline:GC},J_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if($.isValidElement(t)&&(r=t.props),!Ul(r))return null;var a={};return Object.keys(r).forEach(function(s){J_.includes(s)&&(a[s]=n||function(l){return r[s](r,l)})}),a},x9=function(t,n,r){return function(a){return t(n,r,a),null}},La=function(t,n,r){if(!Ul(t)||Q1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var l=t[s];J_.includes(s)&&typeof l=="function"&&(a||(a={}),a[s]=x9(l,n,r))}),a},b9=["children"],w9=["children"];function KC(e,t){if(e==null)return{};var n=_9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}var YC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ui=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XC=null,A0=null,eS=function e(t){if(t===XC&&Array.isArray(A0))return A0;var n=[];return $.Children.forEach(t,function(r){He(r)||(s9.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),A0=n,XC=t,n};function kn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return Ui(a)}):r=[Ui(t)],eS(e).forEach(function(a){var s=lr(a,"type.displayName")||lr(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}function rr(e,t){var n=kn(e,t);return n&&n[0]}var WC=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ee(r)||r<=0||!Ee(a)||a<=0)},S9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],j9=function(t){return t&&t.type&&To(t.type)&&S9.indexOf(t.type)>=0},A9=function(t){return t&&J1(t)==="object"&&"clipDot"in t},O9=function(t,n,r,a){var s,l=(s=j0==null?void 0:j0[a])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ke(t)&&(a&&l.includes(n)||y9.includes(n))||r&&J_.includes(n)},Be=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if($.isValidElement(t)&&(a=t.props),!Ul(a))return null;var s={};return Object.keys(a).forEach(function(l){var u;O9((u=a)===null||u===void 0?void 0:u[l],l,n,r)&&(s[l]=a[l])}),s},ew=function e(t,n){if(t===n)return!0;var r=$.Children.count(t);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZC(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var s=t[a],l=n[a];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!ZC(s,l))return!1}return!0},ZC=function(t,n){if(He(t)&&He(n))return!0;if(!He(t)&&!He(n)){var r=t.props||{},a=r.children,s=KC(r,b9),l=n.props||{},u=l.children,d=KC(l,w9);return a&&u?Xs(s,d)&&ew(a,u):!a&&!u?Xs(s,d):!1}return!1},QC=function(t,n){var r=[],a={};return eS(t).forEach(function(s,l){if(j9(s))r.push(s);else if(s){var u=Ui(s.type),d=n[u]||{},f=d.handler,m=d.once;if(f&&(!m||!a[u])){var g=f(s,u,l);r.push(g),a[u]=!0}}}),r},E9=function(t){var n=t&&t.type;return n&&YC[n]?YC[n]:null},N9=function(t,n){return eS(n).indexOf(t)},C9=["children","width","height","viewBox","className","style","title","desc"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(this,arguments)}function T9(e,t){if(e==null)return{};var n=M9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nw(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,s=e.className,l=e.style,u=e.title,d=e.desc,f=T9(e,C9),m=a||{width:n,height:r,x:0,y:0},g=Xe("recharts-surface",s);return Z.createElement("svg",tw({},Be(f,!0,"svg"),{className:g,width:n,height:r,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),Z.createElement("title",null,u),Z.createElement("desc",null,d),t)}var R9=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(this,arguments)}function P9(e,t){if(e==null)return{};var n=k9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ot=Z.forwardRef(function(e,t){var n=e.children,r=e.className,a=P9(e,R9),s=Xe("recharts-layer",r);return Z.createElement("g",rw({className:s},Be(a,!0),{ref:t}),n)}),zr=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]},O0,JC;function D9(){if(JC)return O0;JC=1;function e(t,n,r){var a=-1,s=t.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(s);++a<s;)l[a]=t[a+n];return l}return O0=e,O0}var E0,eT;function $9(){if(eT)return E0;eT=1;var e=D9();function t(n,r,a){var s=n.length;return a=a===void 0?s:a,!r&&a>=s?n:e(n,r,a)}return E0=t,E0}var N0,tT;function SI(){if(tT)return N0;tT=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+a+s+"]");function d(f){return u.test(f)}return N0=d,N0}var C0,nT;function I9(){if(nT)return C0;nT=1;function e(t){return t.split("")}return C0=e,C0}var T0,rT;function L9(){if(rT)return T0;rT=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",m="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",_="["+s+"]?",b="(?:"+x+"(?:"+[m,g,y].join("|")+")"+_+S+")*",j=_+S+b,O="(?:"+[m+u+"?",u,g,y,l].join("|")+")",T=RegExp(d+"(?="+d+")|"+O+j,"g");function E(N){return N.match(T)||[]}return T0=E,T0}var M0,iT;function z9(){if(iT)return M0;iT=1;var e=I9(),t=SI(),n=L9();function r(a){return t(a)?n(a):e(a)}return M0=r,M0}var R0,aT;function B9(){if(aT)return R0;aT=1;var e=$9(),t=SI(),n=z9(),r=xI();function a(s){return function(l){l=r(l);var u=t(l)?n(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[s]()+f}}return R0=a,R0}var P0,oT;function q9(){if(oT)return P0;oT=1;var e=B9(),t=e("toUpperCase");return P0=t,P0}var U9=q9();const om=vt(U9);function Rt(e){return function(){return e}}const jI=Math.cos,Dh=Math.sin,Fr=Math.sqrt,$h=Math.PI,sm=2*$h,iw=Math.PI,aw=2*iw,vo=1e-6,F9=aw-vo;function AI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function H9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AI;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class V9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AI:H9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,l){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-t,f=a-n,m=l-t,g=u-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>vo)if(!(Math.abs(g*d-f*m)>vo)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,S=a-u,_=d*d+f*f,b=x*x+S*S,j=Math.sqrt(_),O=Math.sqrt(y),T=s*Math.tan((iw-Math.acos((_+y-b)/(2*j*O)))/2),E=T/O,N=T/j;Math.abs(E-1)>vo&&this._append`L${t+E*m},${n+E*g}`,this._append`A${s},${s},0,0,${+(g*x>m*S)},${this._x1=t+N*d},${this._y1=n+N*f}`}}arc(t,n,r,a,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),d=r*Math.sin(a),f=t+u,m=n+d,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>vo||Math.abs(this._y1-m)>vo)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%aw+aw),y>F9?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:y>vo&&this._append`A${r},${r},0,${+(y>=iw)},${g},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function tS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new V9(t)}function nS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OI(e){this._context=e}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lm(e){return new OI(e)}function EI(e){return e[0]}function NI(e){return e[1]}function CI(e,t){var n=Rt(!0),r=null,a=lm,s=null,l=tS(u);e=typeof e=="function"?e:e===void 0?EI:Rt(e),t=typeof t=="function"?t:t===void 0?NI:Rt(t);function u(d){var f,m=(d=nS(d)).length,g,y=!1,x;for(r==null&&(s=a(x=l())),f=0;f<=m;++f)!(f<m&&n(g=d[f],f,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,f,d),+t(g,f,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Rt(!!d),u):n},u.curve=function(d){return arguments.length?(a=d,r!=null&&(s=a(r)),u):a},u.context=function(d){return arguments.length?(d==null?r=s=null:s=a(r=d),u):r},u}function Qd(e,t,n){var r=null,a=Rt(!0),s=null,l=lm,u=null,d=tS(f);e=typeof e=="function"?e:e===void 0?EI:Rt(+e),t=typeof t=="function"?t:Rt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?NI:Rt(+n);function f(g){var y,x,S,_=(g=nS(g)).length,b,j=!1,O,T=new Array(_),E=new Array(_);for(s==null&&(u=l(O=d())),y=0;y<=_;++y){if(!(y<_&&a(b=g[y],y,g))===j)if(j=!j)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(T[S],E[S]);u.lineEnd(),u.areaEnd()}j&&(T[y]=+e(b,y,g),E[y]=+t(b,y,g),u.point(r?+r(b,y,g):T[y],n?+n(b,y,g):E[y]))}if(O)return u=null,O+""||null}function m(){return CI().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Rt(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class TI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function G9(e){return new TI(e,!0)}function K9(e){return new TI(e,!1)}const rS={draw(e,t){const n=Fr(t/$h);e.moveTo(n,0),e.arc(0,0,n,0,sm)}},Y9={draw(e,t){const n=Fr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},MI=Fr(1/3),X9=MI*2,W9={draw(e,t){const n=Fr(t/X9),r=n*MI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Z9={draw(e,t){const n=Fr(t),r=-n/2;e.rect(r,r,n,n)}},Q9=.8908130915292852,RI=Dh($h/10)/Dh(7*$h/10),J9=Dh(sm/10)*RI,eV=-jI(sm/10)*RI,tV={draw(e,t){const n=Fr(t*Q9),r=J9*n,a=eV*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const l=sm*s/5,u=jI(l),d=Dh(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*a,d*r+u*a)}e.closePath()}},k0=Fr(3),nV={draw(e,t){const n=-Fr(t/(k0*3));e.moveTo(0,n*2),e.lineTo(-k0*n,-n),e.lineTo(k0*n,-n),e.closePath()}},xr=-.5,br=Fr(3)/2,ow=1/Fr(12),rV=(ow/2+1)*3,iV={draw(e,t){const n=Fr(t/rV),r=n/2,a=n*ow,s=r,l=n*ow+n,u=-s,d=l;e.moveTo(r,a),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(xr*r-br*a,br*r+xr*a),e.lineTo(xr*s-br*l,br*s+xr*l),e.lineTo(xr*u-br*d,br*u+xr*d),e.lineTo(xr*r+br*a,xr*a-br*r),e.lineTo(xr*s+br*l,xr*l-br*s),e.lineTo(xr*u+br*d,xr*d-br*u),e.closePath()}};function aV(e,t){let n=null,r=tS(a);e=typeof e=="function"?e:Rt(e||rS),t=typeof t=="function"?t:Rt(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Ih(){}function Lh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PI(e){this._context=e}PI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oV(e){return new PI(e)}function kI(e){this._context=e}kI.prototype={areaStart:Ih,areaEnd:Ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sV(e){return new kI(e)}function DI(e){this._context=e}DI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lV(e){return new DI(e)}function $I(e){this._context=e}$I.prototype={areaStart:Ih,areaEnd:Ih,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cV(e){return new $I(e)}function sT(e){return e<0?-1:1}function lT(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),l=(n-e._y1)/(a||r<0&&-0),u=(s*a+l*r)/(r+a);return(sT(s)+sT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function cT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function D0(e,t,n){var r=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,a+u*t,s-u,l-u*n,s,l)}function zh(e){this._context=e}zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D0(this,this._t0,cT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,D0(this,cT(this,n=lT(this,e,t)),n);break;default:D0(this,this._t0,n=lT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function II(e){this._context=new LI(e)}(II.prototype=Object.create(zh.prototype)).point=function(e,t){zh.prototype.point.call(this,t,e)};function LI(e){this._context=e}LI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function uV(e){return new zh(e)}function fV(e){return new II(e)}function zI(e){this._context=e}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uT(e),a=uT(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uT(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(a[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function dV(e){return new zI(e)}function cm(e,t){this._context=e,this._t=t}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hV(e){return new cm(e,.5)}function pV(e){return new cm(e,0)}function mV(e){return new cm(e,1)}function il(e,t){if((l=e.length)>1)for(var n=1,r,a,s=e[t[0]],l,u=s.length;n<l;++n)for(a=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function sw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function vV(e,t){return e[t]}function gV(e){const t=[];return t.key=e,t}function BI(){var e=Rt([]),t=sw,n=il,r=vV;function a(s){var l=Array.from(e.apply(this,arguments),gV),u,d=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,s)]).data=g;for(u=0,m=nS(t(l));u<d;++u)l[m[u]].index=u;return n(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Rt(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?sw:typeof s=="function"?s:Rt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??il,a):n},a}function yV(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=e[n][a][1]||0;if(l)for(n=0;n<r;++n)e[n][a][1]/=l}il(e,t)}}function xV(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var l=0,u=0;l<a;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}il(e,t)}}function bV(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],g=m[r][1]||0,y=m[r-1][1]||0,x=(g-y)/2,S=0;S<u;++S){var _=e[t[S]],b=_[r][1]||0,j=_[r-1][1]||0;x+=b-j}d+=g,f+=x*g}a[r-1][1]+=a[r-1][0]=n,d&&(n-=f/d)}a[r-1][1]+=a[r-1][0]=n,il(e,t)}}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var wV=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(this,arguments)}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){_V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _V(e,t,n){return t=SV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=jV(e,"string");return Mu(t)=="symbol"?t:t+""}function jV(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AV(e,t){if(e==null)return{};var n=OV(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OV(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qI={symbolCircle:rS,symbolCross:Y9,symbolDiamond:W9,symbolSquare:Z9,symbolStar:tV,symbolTriangle:nV,symbolWye:iV},EV=Math.PI/180,NV=function(t){var n="symbol".concat(om(t));return qI[n]||rS},CV=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*EV;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},TV=function(t,n){qI["symbol".concat(om(t))]=n},um=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,s=a===void 0?64:a,l=t.sizeType,u=l===void 0?"area":l,d=AV(t,wV),f=dT(dT({},d),{},{type:r,size:s,sizeType:u}),m=function(){var b=NV(r),j=aV().type(b).size(CV(s,u,r));return j()},g=f.className,y=f.cx,x=f.cy,S=Be(f,!0);return y===+y&&x===+x&&s===+s?Z.createElement("path",lw({},S,{className:Xe("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(x,")"),d:m()})):null};um.registerSymbol=TV;function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(this,arguments)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){Ru(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FI(r.key),r)}}function kV(e,t,n){return t&&PV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DV(e,t,n){return t=Bh(t),$V(e,UI()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function $V(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IV(e)}function IV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(e)}function LV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uw(e,t)}function uw(e,t){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uw(e,t)}function Ru(e,t,n){return t=FI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FI(e){var t=zV(e,"string");return al(t)=="symbol"?t:t+""}function zV(e,t){if(al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wr=32,iS=(function(e){function t(){return RV(this,t),DV(this,t,arguments)}return LV(t,e),kV(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,s=wr/2,l=wr/6,u=wr/3,d=r.inactive?a:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:wr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(wr,"M").concat(2*u,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var f=MV({},r);return delete f.legendIcon,Z.cloneElement(r.legendIcon,f)}return Z.createElement(um,{fill:d,cx:s,cy:s,size:wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,s=a.payload,l=a.iconSize,u=a.layout,d=a.formatter,f=a.inactiveColor,m={x:0,y:0,width:wr,height:wr},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,S){var _=x.formatter||d,b=Xe(Ru(Ru({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var j=Ke(x.value)?null:x.value;zr(!Ke(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=x.inactive?f:x.color;return Z.createElement("li",cw({className:b,style:g,key:"legend-item-".concat(S)},La(r.props,x,S)),Z.createElement(nw,{width:l,height:l,viewBox:m,style:y},r.renderIcon(x)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},_?_(j,x,S):j))})}},{key:"render",value:function(){var r=this.props,a=r.payload,s=r.layout,l=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})($.PureComponent);Ru(iS,"displayName","Legend");Ru(iS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $0,pT;function BV(){if(pT)return $0;pT=1;var e=rm();function t(){this.__data__=new e,this.size=0}return $0=t,$0}var I0,mT;function qV(){if(mT)return I0;mT=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return I0=e,I0}var L0,vT;function UV(){if(vT)return L0;vT=1;function e(t){return this.__data__.get(t)}return L0=e,L0}var z0,gT;function FV(){if(gT)return z0;gT=1;function e(t){return this.__data__.has(t)}return z0=e,z0}var B0,yT;function HV(){if(yT)return B0;yT=1;var e=rm(),t=X_(),n=W_(),r=200;function a(s,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(s,l),this.size=u.size,this}return B0=a,B0}var q0,xT;function HI(){if(xT)return q0;xT=1;var e=rm(),t=BV(),n=qV(),r=UV(),a=FV(),s=HV();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=a,l.prototype.set=s,q0=l,q0}var U0,bT;function VV(){if(bT)return U0;bT=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return U0=t,U0}var F0,wT;function GV(){if(wT)return F0;wT=1;function e(t){return this.__data__.has(t)}return F0=e,F0}var H0,_T;function VI(){if(_T)return H0;_T=1;var e=W_(),t=VV(),n=GV();function r(a){var s=-1,l=a==null?0:a.length;for(this.__data__=new e;++s<l;)this.add(a[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,H0=r,H0}var V0,ST;function GI(){if(ST)return V0;ST=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return V0=e,V0}var G0,jT;function KI(){if(jT)return G0;jT=1;function e(t,n){return t.has(n)}return G0=e,G0}var K0,AT;function YI(){if(AT)return K0;AT=1;var e=VI(),t=GI(),n=KI(),r=1,a=2;function s(l,u,d,f,m,g){var y=d&r,x=l.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var _=g.get(l),b=g.get(u);if(_&&b)return _==u&&b==l;var j=-1,O=!0,T=d&a?new e:void 0;for(g.set(l,u),g.set(u,l);++j<x;){var E=l[j],N=u[j];if(f)var C=y?f(N,E,j,u,l,g):f(E,N,j,l,u,g);if(C!==void 0){if(C)continue;O=!1;break}if(T){if(!t(u,function(R,M){if(!n(T,M)&&(E===R||m(E,R,d,f,g)))return T.push(M)})){O=!1;break}}else if(!(E===N||m(E,N,d,f,g))){O=!1;break}}return g.delete(l),g.delete(u),O}return K0=s,K0}var Y0,OT;function KV(){if(OT)return Y0;OT=1;var e=pi(),t=e.Uint8Array;return Y0=t,Y0}var X0,ET;function YV(){if(ET)return X0;ET=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,s){r[++n]=[s,a]}),r}return X0=e,X0}var W0,NT;function aS(){if(NT)return W0;NT=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return W0=e,W0}var Z0,CT;function XV(){if(CT)return Z0;CT=1;var e=bf(),t=KV(),n=Y_(),r=YI(),a=YV(),s=aS(),l=1,u=2,d="[object Boolean]",f="[object Date]",m="[object Error]",g="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",_="[object String]",b="[object Symbol]",j="[object ArrayBuffer]",O="[object DataView]",T=e?e.prototype:void 0,E=T?T.valueOf:void 0;function N(C,R,M,P,B,D,I){switch(M){case O:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case j:return!(C.byteLength!=R.byteLength||!D(new t(C),new t(R)));case d:case f:case y:return n(+C,+R);case m:return C.name==R.name&&C.message==R.message;case x:case _:return C==R+"";case g:var z=a;case S:var L=P&l;if(z||(z=s),C.size!=R.size&&!L)return!1;var H=I.get(C);if(H)return H==R;P|=u,I.set(C,R);var k=r(z(C),z(R),P,B,D,I);return I.delete(C),k;case b:if(E)return E.call(C)==E.call(R)}return!1}return Z0=N,Z0}var Q0,TT;function XI(){if(TT)return Q0;TT=1;function e(t,n){for(var r=-1,a=n.length,s=t.length;++r<a;)t[s+r]=n[r];return t}return Q0=e,Q0}var J0,MT;function WV(){if(MT)return J0;MT=1;var e=XI(),t=Kn();function n(r,a,s){var l=a(r);return t(r)?l:e(l,s(r))}return J0=n,J0}var ex,RT;function ZV(){if(RT)return ex;RT=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,s=0,l=[];++r<a;){var u=t[r];n(u,r,t)&&(l[s++]=u)}return l}return ex=e,ex}var tx,PT;function QV(){if(PT)return tx;PT=1;function e(){return[]}return tx=e,tx}var nx,kT;function JV(){if(kT)return nx;kT=1;var e=ZV(),t=QV(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(l){return l==null?[]:(l=Object(l),e(a(l),function(u){return r.call(l,u)}))}:t;return nx=s,nx}var rx,DT;function eG(){if(DT)return rx;DT=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return rx=e,rx}var ix,$T;function tG(){if($T)return ix;$T=1;var e=Zi(),t=Qi(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return ix=r,ix}var ax,IT;function oS(){if(IT)return ax;IT=1;var e=tG(),t=Qi(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!a.call(l,"callee")};return ax=s,ax}var lu={exports:{}},ox,LT;function nG(){if(LT)return ox;LT=1;function e(){return!1}return ox=e,ox}lu.exports;var zT;function WI(){return zT||(zT=1,(function(e,t){var n=pi(),r=nG(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===a,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(lu,lu.exports)),lu.exports}var sx,BT;function sS(){if(BT)return sx;BT=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var s=typeof r;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return sx=n,sx}var lx,qT;function lS(){if(qT)return lx;qT=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return lx=t,lx}var cx,UT;function rG(){if(UT)return cx;UT=1;var e=Zi(),t=lS(),n=Qi(),r="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",j="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",N="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",P="[object Uint16Array]",B="[object Uint32Array]",D={};D[O]=D[T]=D[E]=D[N]=D[C]=D[R]=D[M]=D[P]=D[B]=!0,D[r]=D[a]=D[b]=D[s]=D[j]=D[l]=D[u]=D[d]=D[f]=D[m]=D[g]=D[y]=D[x]=D[S]=D[_]=!1;function I(z){return n(z)&&t(z.length)&&!!D[e(z)]}return cx=I,cx}var ux,FT;function ZI(){if(FT)return ux;FT=1;function e(t){return function(n){return t(n)}}return ux=e,ux}var cu={exports:{}};cu.exports;var HT;function iG(){return HT||(HT=1,(function(e,t){var n=vI(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,l=s&&n.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(cu,cu.exports)),cu.exports}var fx,VT;function QI(){if(VT)return fx;VT=1;var e=rG(),t=ZI(),n=iG(),r=n&&n.isTypedArray,a=r?t(r):e;return fx=a,fx}var dx,GT;function aG(){if(GT)return dx;GT=1;var e=eG(),t=oS(),n=Kn(),r=WI(),a=sS(),s=QI(),l=Object.prototype,u=l.hasOwnProperty;function d(f,m){var g=n(f),y=!g&&t(f),x=!g&&!y&&r(f),S=!g&&!y&&!x&&s(f),_=g||y||x||S,b=_?e(f.length,String):[],j=b.length;for(var O in f)(m||u.call(f,O))&&!(_&&(O=="length"||x&&(O=="offset"||O=="parent")||S&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||a(O,j)))&&b.push(O);return b}return dx=d,dx}var hx,KT;function oG(){if(KT)return hx;KT=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return hx=t,hx}var px,YT;function JI(){if(YT)return px;YT=1;function e(t,n){return function(r){return t(n(r))}}return px=e,px}var mx,XT;function sG(){if(XT)return mx;XT=1;var e=JI(),t=e(Object.keys,Object);return mx=t,mx}var vx,WT;function lG(){if(WT)return vx;WT=1;var e=oG(),t=sG(),n=Object.prototype,r=n.hasOwnProperty;function a(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))r.call(s,u)&&u!="constructor"&&l.push(u);return l}return vx=a,vx}var gx,ZT;function _f(){if(ZT)return gx;ZT=1;var e=K_(),t=lS();function n(r){return r!=null&&t(r.length)&&!e(r)}return gx=n,gx}var yx,QT;function fm(){if(QT)return yx;QT=1;var e=aG(),t=lG(),n=_f();function r(a){return n(a)?e(a):t(a)}return yx=r,yx}var xx,JT;function cG(){if(JT)return xx;JT=1;var e=WV(),t=JV(),n=fm();function r(a){return e(a,n,t)}return xx=r,xx}var bx,e2;function uG(){if(e2)return bx;e2=1;var e=cG(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(s,l,u,d,f,m){var g=u&t,y=e(s),x=y.length,S=e(l),_=S.length;if(x!=_&&!g)return!1;for(var b=x;b--;){var j=y[b];if(!(g?j in l:r.call(l,j)))return!1}var O=m.get(s),T=m.get(l);if(O&&T)return O==l&&T==s;var E=!0;m.set(s,l),m.set(l,s);for(var N=g;++b<x;){j=y[b];var C=s[j],R=l[j];if(d)var M=g?d(R,C,j,l,s,m):d(C,R,j,s,l,m);if(!(M===void 0?C===R||f(C,R,u,d,m):M)){E=!1;break}N||(N=j=="constructor")}if(E&&!N){var P=s.constructor,B=l.constructor;P!=B&&"constructor"in s&&"constructor"in l&&!(typeof P=="function"&&P instanceof P&&typeof B=="function"&&B instanceof B)&&(E=!1)}return m.delete(s),m.delete(l),E}return bx=a,bx}var wx,t2;function fG(){if(t2)return wx;t2=1;var e=Bo(),t=pi(),n=e(t,"DataView");return wx=n,wx}var _x,n2;function dG(){if(n2)return _x;n2=1;var e=Bo(),t=pi(),n=e(t,"Promise");return _x=n,_x}var Sx,r2;function e3(){if(r2)return Sx;r2=1;var e=Bo(),t=pi(),n=e(t,"Set");return Sx=n,Sx}var jx,i2;function hG(){if(i2)return jx;i2=1;var e=Bo(),t=pi(),n=e(t,"WeakMap");return jx=n,jx}var Ax,a2;function pG(){if(a2)return Ax;a2=1;var e=fG(),t=X_(),n=dG(),r=e3(),a=hG(),s=Zi(),l=gI(),u="[object Map]",d="[object Object]",f="[object Promise]",m="[object Set]",g="[object WeakMap]",y="[object DataView]",x=l(e),S=l(t),_=l(n),b=l(r),j=l(a),O=s;return(e&&O(new e(new ArrayBuffer(1)))!=y||t&&O(new t)!=u||n&&O(n.resolve())!=f||r&&O(new r)!=m||a&&O(new a)!=g)&&(O=function(T){var E=s(T),N=E==d?T.constructor:void 0,C=N?l(N):"";if(C)switch(C){case x:return y;case S:return u;case _:return f;case b:return m;case j:return g}return E}),Ax=O,Ax}var Ox,o2;function mG(){if(o2)return Ox;o2=1;var e=HI(),t=YI(),n=XV(),r=uG(),a=pG(),s=Kn(),l=WI(),u=QI(),d=1,f="[object Arguments]",m="[object Array]",g="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(_,b,j,O,T,E){var N=s(_),C=s(b),R=N?m:a(_),M=C?m:a(b);R=R==f?g:R,M=M==f?g:M;var P=R==g,B=M==g,D=R==M;if(D&&l(_)){if(!l(b))return!1;N=!0,P=!1}if(D&&!P)return E||(E=new e),N||u(_)?t(_,b,j,O,T,E):n(_,b,R,j,O,T,E);if(!(j&d)){var I=P&&x.call(_,"__wrapped__"),z=B&&x.call(b,"__wrapped__");if(I||z){var L=I?_.value():_,H=z?b.value():b;return E||(E=new e),T(L,H,j,O,E)}}return D?(E||(E=new e),r(_,b,j,O,T,E)):!1}return Ox=S,Ox}var Ex,s2;function cS(){if(s2)return Ex;s2=1;var e=mG(),t=Qi();function n(r,a,s,l,u){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,s,l,n,u)}return Ex=n,Ex}var Nx,l2;function vG(){if(l2)return Nx;l2=1;var e=HI(),t=cS(),n=1,r=2;function a(s,l,u,d){var f=u.length,m=f,g=!d;if(s==null)return!m;for(s=Object(s);f--;){var y=u[f];if(g&&y[2]?y[1]!==s[y[0]]:!(y[0]in s))return!1}for(;++f<m;){y=u[f];var x=y[0],S=s[x],_=y[1];if(g&&y[2]){if(S===void 0&&!(x in s))return!1}else{var b=new e;if(d)var j=d(S,_,x,s,l,b);if(!(j===void 0?t(_,S,n|r,d,b):j))return!1}}return!0}return Nx=a,Nx}var Cx,c2;function t3(){if(c2)return Cx;c2=1;var e=qa();function t(n){return n===n&&!e(n)}return Cx=t,Cx}var Tx,u2;function gG(){if(u2)return Tx;u2=1;var e=t3(),t=fm();function n(r){for(var a=t(r),s=a.length;s--;){var l=a[s],u=r[l];a[s]=[l,u,e(u)]}return a}return Tx=n,Tx}var Mx,f2;function n3(){if(f2)return Mx;f2=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Mx=e,Mx}var Rx,d2;function yG(){if(d2)return Rx;d2=1;var e=vG(),t=gG(),n=n3();function r(a){var s=t(a);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===a||e(l,a,s)}}return Rx=r,Rx}var Px,h2;function xG(){if(h2)return Px;h2=1;function e(t,n){return t!=null&&n in Object(t)}return Px=e,Px}var kx,p2;function bG(){if(p2)return kx;p2=1;var e=bI(),t=oS(),n=Kn(),r=sS(),a=lS(),s=am();function l(u,d,f){d=e(d,u);for(var m=-1,g=d.length,y=!1;++m<g;){var x=s(d[m]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++m!=g?y:(g=u==null?0:u.length,!!g&&a(g)&&r(x,g)&&(n(u)||t(u)))}return kx=l,kx}var Dx,m2;function wG(){if(m2)return Dx;m2=1;var e=xG(),t=bG();function n(r,a){return r!=null&&t(r,a,e)}return Dx=n,Dx}var $x,v2;function _G(){if(v2)return $x;v2=1;var e=cS(),t=wI(),n=wG(),r=G_(),a=t3(),s=n3(),l=am(),u=1,d=2;function f(m,g){return r(m)&&a(g)?s(l(m),g):function(y){var x=t(y,m);return x===void 0&&x===g?n(y,m):e(g,x,u|d)}}return $x=f,$x}var Ix,g2;function Fl(){if(g2)return Ix;g2=1;function e(t){return t}return Ix=e,Ix}var Lx,y2;function SG(){if(y2)return Lx;y2=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Lx=e,Lx}var zx,x2;function jG(){if(x2)return zx;x2=1;var e=Q_();function t(n){return function(r){return e(r,n)}}return zx=t,zx}var Bx,b2;function AG(){if(b2)return Bx;b2=1;var e=SG(),t=jG(),n=G_(),r=am();function a(s){return n(s)?e(r(s)):t(s)}return Bx=a,Bx}var qx,w2;function mi(){if(w2)return qx;w2=1;var e=yG(),t=_G(),n=Fl(),r=Kn(),a=AG();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):a(l)}return qx=s,qx}var Ux,_2;function r3(){if(_2)return Ux;_2=1;function e(t,n,r,a){for(var s=t.length,l=r+(a?1:-1);a?l--:++l<s;)if(n(t[l],l,t))return l;return-1}return Ux=e,Ux}var Fx,S2;function OG(){if(S2)return Fx;S2=1;function e(t){return t!==t}return Fx=e,Fx}var Hx,j2;function EG(){if(j2)return Hx;j2=1;function e(t,n,r){for(var a=r-1,s=t.length;++a<s;)if(t[a]===n)return a;return-1}return Hx=e,Hx}var Vx,A2;function NG(){if(A2)return Vx;A2=1;var e=r3(),t=OG(),n=EG();function r(a,s,l){return s===s?n(a,s,l):e(a,t,l)}return Vx=r,Vx}var Gx,O2;function CG(){if(O2)return Gx;O2=1;var e=NG();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return Gx=t,Gx}var Kx,E2;function TG(){if(E2)return Kx;E2=1;function e(t,n,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(n,t[a]))return!0;return!1}return Kx=e,Kx}var Yx,N2;function MG(){if(N2)return Yx;N2=1;function e(){}return Yx=e,Yx}var Xx,C2;function RG(){if(C2)return Xx;C2=1;var e=e3(),t=MG(),n=aS(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return Xx=a,Xx}var Wx,T2;function PG(){if(T2)return Wx;T2=1;var e=VI(),t=CG(),n=TG(),r=KI(),a=RG(),s=aS(),l=200;function u(d,f,m){var g=-1,y=t,x=d.length,S=!0,_=[],b=_;if(m)S=!1,y=n;else if(x>=l){var j=f?null:a(d);if(j)return s(j);S=!1,y=r,b=new e}else b=f?[]:_;e:for(;++g<x;){var O=d[g],T=f?f(O):O;if(O=m||O!==0?O:0,S&&T===T){for(var E=b.length;E--;)if(b[E]===T)continue e;f&&b.push(T),_.push(O)}else y(b,T,m)||(b!==_&&b.push(T),_.push(O))}return _}return Wx=u,Wx}var Zx,M2;function kG(){if(M2)return Zx;M2=1;var e=mi(),t=PG();function n(r,a){return r&&r.length?t(r,e(a,2)):[]}return Zx=n,Zx}var DG=kG();const R2=vt(DG);function i3(e,t,n){return t===!0?R2(e,n):Ke(t)?R2(e,t):e}function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}var $G=["ref"];function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o3(r.key),r)}}function LG(e,t,n){return t&&k2(e.prototype,t),n&&k2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zG(e,t,n){return t=qh(t),BG(e,a3()?Reflect.construct(t,n||[],qh(e).constructor):t.apply(e,n))}function BG(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qG(e)}function qG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(e)}function UG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fw(e,t)}function dm(e,t,n){return t=o3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o3(e){var t=FG(e,"string");return ol(t)=="symbol"?t:t+""}function FG(e,t){if(ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HG(e,t){if(e==null)return{};var n=VG(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GG(e){return e.value}function KG(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var n=HG(t,$G);return Z.createElement(iS,n)}var D2=1,Ws=(function(e){function t(){var n;IG(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=zG(this,t,[].concat(a)),dm(n,"lastBoundingBox",{width:-1,height:-1}),n}return UG(t,e),LG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>D2||Math.abs(a.height-this.lastBoundingBox.height)>D2)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,s=a.layout,l=a.align,u=a.verticalAlign,d=a.margin,f=a.chartWidth,m=a.chartHeight,g,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();g={left:((f||0)-x.width)/2}}else g=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((m||0)-S.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return ki(ki({},g),y)}},{key:"render",value:function(){var r=this,a=this.props,s=a.content,l=a.width,u=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,m=a.payload,g=ki(ki({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Z.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){r.wrapperNode=x}},KG(s,ki(ki({},this.props),{},{payload:i3(m,f,GG)})))}}],[{key:"getWithHeight",value:function(r,a){var s=ki(ki({},this.defaultProps),r.props),l=s.layout;return l==="vertical"&&Ee(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||a}:null}}])})($.PureComponent);dm(Ws,"displayName","Legend");dm(Ws,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qx,$2;function YG(){if($2)return Qx;$2=1;var e=bf(),t=oS(),n=Kn(),r=e?e.isConcatSpreadable:void 0;function a(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Qx=a,Qx}var Jx,I2;function s3(){if(I2)return Jx;I2=1;var e=XI(),t=YG();function n(r,a,s,l,u){var d=-1,f=r.length;for(s||(s=t),u||(u=[]);++d<f;){var m=r[d];a>0&&s(m)?a>1?n(m,a-1,s,l,u):e(u,m):l||(u[u.length]=m)}return u}return Jx=n,Jx}var eb,L2;function XG(){if(L2)return eb;L2=1;function e(t){return function(n,r,a){for(var s=-1,l=Object(n),u=a(n),d=u.length;d--;){var f=u[t?d:++s];if(r(l[f],f,l)===!1)break}return n}}return eb=e,eb}var tb,z2;function WG(){if(z2)return tb;z2=1;var e=XG(),t=e();return tb=t,tb}var nb,B2;function l3(){if(B2)return nb;B2=1;var e=WG(),t=fm();function n(r,a){return r&&e(r,a,t)}return nb=n,nb}var rb,q2;function ZG(){if(q2)return rb;q2=1;var e=_f();function t(n,r){return function(a,s){if(a==null)return a;if(!e(a))return n(a,s);for(var l=a.length,u=r?l:-1,d=Object(a);(r?u--:++u<l)&&s(d[u],u,d)!==!1;);return a}}return rb=t,rb}var ib,U2;function uS(){if(U2)return ib;U2=1;var e=l3(),t=ZG(),n=t(e);return ib=n,ib}var ab,F2;function c3(){if(F2)return ab;F2=1;var e=uS(),t=_f();function n(r,a){var s=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,f){l[++s]=a(u,d,f)}),l}return ab=n,ab}var ob,H2;function QG(){if(H2)return ob;H2=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return ob=e,ob}var sb,V2;function JG(){if(V2)return sb;V2=1;var e=ql();function t(n,r){if(n!==r){var a=n!==void 0,s=n===null,l=n===n,u=e(n),d=r!==void 0,f=r===null,m=r===r,g=e(r);if(!f&&!g&&!u&&n>r||u&&d&&m&&!f&&!g||s&&d&&m||!a&&m||!l)return 1;if(!s&&!u&&!g&&n<r||g&&a&&l&&!s&&!u||f&&a&&l||!d&&l||!m)return-1}return 0}return sb=t,sb}var lb,G2;function eK(){if(G2)return lb;G2=1;var e=JG();function t(n,r,a){for(var s=-1,l=n.criteria,u=r.criteria,d=l.length,f=a.length;++s<d;){var m=e(l[s],u[s]);if(m){if(s>=f)return m;var g=a[s];return m*(g=="desc"?-1:1)}}return n.index-r.index}return lb=t,lb}var cb,K2;function tK(){if(K2)return cb;K2=1;var e=Z_(),t=Q_(),n=mi(),r=c3(),a=QG(),s=ZI(),l=eK(),u=Fl(),d=Kn();function f(m,g,y){g.length?g=e(g,function(_){return d(_)?function(b){return t(b,_.length===1?_[0]:_)}:_}):g=[u];var x=-1;g=e(g,s(n));var S=r(m,function(_,b,j){var O=e(g,function(T){return T(_)});return{criteria:O,index:++x,value:_}});return a(S,function(_,b){return l(_,b,y)})}return cb=f,cb}var ub,Y2;function nK(){if(Y2)return ub;Y2=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return ub=e,ub}var fb,X2;function rK(){if(X2)return fb;X2=1;var e=nK(),t=Math.max;function n(r,a,s){return a=t(a===void 0?r.length-1:a,0),function(){for(var l=arguments,u=-1,d=t(l.length-a,0),f=Array(d);++u<d;)f[u]=l[a+u];u=-1;for(var m=Array(a+1);++u<a;)m[u]=l[u];return m[a]=s(f),e(r,this,m)}}return fb=n,fb}var db,W2;function iK(){if(W2)return db;W2=1;function e(t){return function(){return t}}return db=e,db}var hb,Z2;function u3(){if(Z2)return hb;Z2=1;var e=Bo(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return hb=t,hb}var pb,Q2;function aK(){if(Q2)return pb;Q2=1;var e=iK(),t=u3(),n=Fl(),r=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return pb=r,pb}var mb,J2;function oK(){if(J2)return mb;J2=1;var e=800,t=16,n=Date.now;function r(a){var s=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return mb=r,mb}var vb,eM;function sK(){if(eM)return vb;eM=1;var e=aK(),t=oK(),n=t(e);return vb=n,vb}var gb,tM;function lK(){if(tM)return gb;tM=1;var e=Fl(),t=rK(),n=sK();function r(a,s){return n(t(a,s,e),a+"")}return gb=r,gb}var yb,nM;function hm(){if(nM)return yb;nM=1;var e=Y_(),t=_f(),n=sS(),r=qa();function a(s,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],s):!1}return yb=a,yb}var xb,rM;function cK(){if(rM)return xb;rM=1;var e=s3(),t=tK(),n=lK(),r=hm(),a=n(function(s,l){if(s==null)return[];var u=l.length;return u>1&&r(s,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return xb=a,xb}var uK=cK();const fS=vt(uK);function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(this,arguments)}function fK(e,t){return mK(e)||pK(e,t)||hK(e,t)||dK()}function dK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hK(e,t){if(e){if(typeof e=="string")return iM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iM(e,t)}}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function mK(e){if(Array.isArray(e))return e}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(r){vK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vK(e,t,n){return t=gK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gK(e){var t=yK(e,"string");return Pu(t)=="symbol"?t:t+""}function yK(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xK(e){return Array.isArray(e)&&rn(e[0])&&rn(e[1])?e.join(" ~ "):e}var bK=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,s=a===void 0?{}:a,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,m=t.payload,g=t.formatter,y=t.itemSorter,x=t.wrapperClassName,S=t.labelClassName,_=t.label,b=t.labelFormatter,j=t.accessibilityLayer,O=j===void 0?!1:j,T=function(){if(m&&m.length){var I={padding:0,margin:0},z=(y?fS(m,y):m).map(function(L,H){if(L.type==="none")return null;var k=bb({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},u),U=L.formatter||g||xK,G=L.value,V=L.name,F=G,X=V;if(U&&F!=null&&X!=null){var W=U(G,V,L,H,m);if(Array.isArray(W)){var Y=fK(W,2);F=Y[0],X=Y[1]}else F=W}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:k},rn(X)?Z.createElement("span",{className:"recharts-tooltip-item-name"},X):null,rn(X)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},F),Z.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},z)}return null},E=bb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=bb({margin:0},f),C=!He(_),R=C?_:"",M=Xe("recharts-default-tooltip",x),P=Xe("recharts-tooltip-label",S);C&&b&&m!==void 0&&m!==null&&(R=b(_,m));var B=O?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",dw({className:M,style:E},B),Z.createElement("p",{className:P,style:N},Z.isValidElement(R)?R:"".concat(R)),T())};function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Jd(e,t,n){return t=wK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=_K(e,"string");return ku(t)=="symbol"?t:t+""}function _K(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wc="recharts-tooltip-wrapper",SK={visibility:"hidden"};function jK(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xe(Wc,Jd(Jd(Jd(Jd({},"".concat(Wc,"-right"),Ee(n)&&t&&Ee(t.x)&&n>=t.x),"".concat(Wc,"-left"),Ee(n)&&t&&Ee(t.x)&&n<t.x),"".concat(Wc,"-bottom"),Ee(r)&&t&&Ee(t.y)&&r>=t.y),"".concat(Wc,"-top"),Ee(r)&&t&&Ee(t.y)&&r<t.y))}function oM(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(s&&Ee(s[r]))return s[r];var m=n[r]-u-a,g=n[r]+a;if(t[r])return l[r]?m:g;if(l[r]){var y=m,x=d[r];return y<x?Math.max(g,d[r]):Math.max(m,d[r])}var S=g+u,_=d[r]+f;return S>_?Math.max(m,d[r]):Math.max(g,d[r])}function AK(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function OK(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,m,g;return l.height>0&&l.width>0&&n?(m=oM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=oM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=AK({translateX:m,translateY:g,useTranslate3d:u})):f=SK,{cssProperties:f,cssClasses:jK({translateX:m,translateY:g,coordinate:n})}}function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(r){pw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d3(r.key),r)}}function CK(e,t,n){return t&&NK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TK(e,t,n){return t=Uh(t),MK(e,f3()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function MK(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(e)}function RK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f3=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(e)}function PK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hw(e,t)}function pw(e,t,n){return t=d3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d3(e){var t=kK(e,"string");return sl(t)=="symbol"?t:t+""}function kK(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cM=1,DK=(function(e){function t(){var n;EK(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=TK(this,t,[].concat(a)),pw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pw(n,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),n}return PK(t,e),CK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>cM||Math.abs(r.height-this.state.lastBoundingBox.height)>cM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.children,m=a.coordinate,g=a.hasPayload,y=a.isAnimationActive,x=a.offset,S=a.position,_=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,O=a.wrapperStyle,T=OK({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:x,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:j}),E=T.cssClasses,N=T.cssProperties,C=lM(lM({transition:y&&s?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&g?"visible":"hidden",position:"absolute",top:0,left:0},O);return Z.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(M){r.wrapperNode=M}},f)}}])})($.PureComponent),$K=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ua={isSsr:$K()};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(r){dS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p3(r.key),r)}}function zK(e,t,n){return t&&LK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BK(e,t,n){return t=Fh(t),qK(e,h3()?Reflect.construct(t,n||[],Fh(e).constructor):t.apply(e,n))}function qK(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(e)}function UK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h3=function(){return!!e})()}function Fh(e){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fh(e)}function FK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mw(e,t)}function dS(e,t,n){return t=p3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p3(e){var t=HK(e,"string");return ll(t)=="symbol"?t:t+""}function HK(e,t){if(ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VK(e){return e.dataKey}function GK(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(bK,t)}var Nn=(function(e){function t(){return IK(this,t),BK(this,t,arguments)}return FK(t,e),zK(t,[{key:"render",value:function(){var r=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.content,m=a.coordinate,g=a.filterNull,y=a.isAnimationActive,x=a.offset,S=a.payload,_=a.payloadUniqBy,b=a.position,j=a.reverseDirection,O=a.useTranslate3d,T=a.viewBox,E=a.wrapperStyle,N=S??[];g&&N.length&&(N=i3(S.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),_,VK));var C=N.length>0;return Z.createElement(DK,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:y,active:s,coordinate:m,hasPayload:C,offset:x,position:b,reverseDirection:j,useTranslate3d:O,viewBox:T,wrapperStyle:E},GK(f,fM(fM({},this.props),{},{payload:N})))}}])})($.PureComponent);dS(Nn,"displayName","Tooltip");dS(Nn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ua.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wb,dM;function KK(){if(dM)return wb;dM=1;var e=pi(),t=function(){return e.Date.now()};return wb=t,wb}var _b,hM;function YK(){if(hM)return _b;hM=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return _b=t,_b}var Sb,pM;function XK(){if(pM)return Sb;pM=1;var e=YK(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Sb=n,Sb}var jb,mM;function m3(){if(mM)return jb;mM=1;var e=XK(),t=qa(),n=ql(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=t(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=e(f);var g=s.test(f);return g||l.test(f)?u(f.slice(2),g?2:8):a.test(f)?r:+f}return jb=d,jb}var Ab,vM;function WK(){if(vM)return Ab;vM=1;var e=qa(),t=KK(),n=m3(),r="Expected a function",a=Math.max,s=Math.min;function l(u,d,f){var m,g,y,x,S,_,b=0,j=!1,O=!1,T=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,e(f)&&(j=!!f.leading,O="maxWait"in f,y=O?a(n(f.maxWait)||0,d):y,T="trailing"in f?!!f.trailing:T);function E(z){var L=m,H=g;return m=g=void 0,b=z,x=u.apply(H,L),x}function N(z){return b=z,S=setTimeout(M,d),j?E(z):x}function C(z){var L=z-_,H=z-b,k=d-L;return O?s(k,y-H):k}function R(z){var L=z-_,H=z-b;return _===void 0||L>=d||L<0||O&&H>=y}function M(){var z=t();if(R(z))return P(z);S=setTimeout(M,C(z))}function P(z){return S=void 0,T&&m?E(z):(m=g=void 0,x)}function B(){S!==void 0&&clearTimeout(S),b=0,m=_=g=S=void 0}function D(){return S===void 0?x:P(t())}function I(){var z=t(),L=R(z);if(m=arguments,g=this,_=z,L){if(S===void 0)return N(_);if(O)return clearTimeout(S),S=setTimeout(M,d),E(_)}return S===void 0&&(S=setTimeout(M,d)),x}return I.cancel=B,I.flush=D,I}return Ab=l,Ab}var Ob,gM;function ZK(){if(gM)return Ob;gM=1;var e=WK(),t=qa(),n="Expected a function";function r(a,s,l){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(a,s,{leading:u,maxWait:s,trailing:d})}return Ob=r,Ob}var QK=ZK();const v3=vt(QK);function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){JK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JK(e,t,n){return t=eY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eY(e){var t=tY(e,"string");return Du(t)=="symbol"?t:t+""}function tY(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nY(e,t){return oY(e)||aY(e,t)||iY(e,t)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iY(e,t){if(e){if(typeof e=="string")return xM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(e,t)}}function xM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function oY(e){if(Array.isArray(e))return e}var Zs=$.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,s=e.width,l=s===void 0?"100%":s,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,m=f===void 0?0:f,g=e.minHeight,y=e.maxHeight,x=e.children,S=e.debounce,_=S===void 0?0:S,b=e.id,j=e.className,O=e.onResize,T=e.style,E=T===void 0?{}:T,N=$.useRef(null),C=$.useRef();C.current=O,$.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var R=$.useState({containerWidth:a.width,containerHeight:a.height}),M=nY(R,2),P=M[0],B=M[1],D=$.useCallback(function(z,L){B(function(H){var k=Math.round(z),U=Math.round(L);return H.containerWidth===k&&H.containerHeight===U?H:{containerWidth:k,containerHeight:U}})},[]);$.useEffect(function(){var z=function(V){var F,X=V[0].contentRect,W=X.width,Y=X.height;D(W,Y),(F=C.current)===null||F===void 0||F.call(C,W,Y)};_>0&&(z=v3(z,_,{trailing:!0,leading:!1}));var L=new ResizeObserver(z),H=N.current.getBoundingClientRect(),k=H.width,U=H.height;return D(k,U),L.observe(N.current),function(){L.disconnect()}},[D,_]);var I=$.useMemo(function(){var z=P.containerWidth,L=P.containerHeight;if(z<0||L<0)return null;zr(xo(l)||xo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=xo(l)?z:l,k=xo(d)?L:d;n&&n>0&&(H?k=H/n:k&&(H=k*n),y&&k>y&&(k=y)),zr(H>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,k,l,d,m,g,n);var U=!Array.isArray(x)&&Ui(x.type).endsWith("Chart");return Z.Children.map(x,function(G){return Z.isValidElement(G)?$.cloneElement(G,eh({width:H,height:k},U?{style:eh({height:"100%",width:"100%",maxHeight:k,maxWidth:H},G.props.style)}:{})):G})},[n,x,d,y,g,m,P,l]);return Z.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",j),style:eh(eh({},E),{},{width:l,height:d,minWidth:m,minHeight:g,maxHeight:y}),ref:N},I)}),Sf=function(t){return null};Sf.displayName="Cell";function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){sY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sY(e,t,n){return t=lY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lY(e){var t=cY(e,"string");return $u(t)=="symbol"?t:t+""}function cY(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ds={widthCache:{},cacheCount:0},uY=2e3,fY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wM="recharts_measurement_span";function dY(e){var t=vw({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var vu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ua.isSsr)return{width:0,height:0};var r=dY(n),a=JSON.stringify({text:t,copyStyle:r});if(Ds.widthCache[a])return Ds.widthCache[a];try{var s=document.getElementById(wM);s||(s=document.createElement("span"),s.setAttribute("id",wM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=vw(vw({},fY),r);Object.assign(s.style,l),s.textContent="".concat(t);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Ds.widthCache[a]=d,++Ds.cacheCount>uY&&(Ds.cacheCount=0,Ds.widthCache={}),d}catch{return{width:0,height:0}}},hY=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function Hh(e,t){return gY(e)||vY(e,t)||mY(e,t)||pY()}function pY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mY(e,t){if(e){if(typeof e=="string")return _M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function gY(e){if(Array.isArray(e))return e}function yY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bY(r.key),r)}}function xY(e,t,n){return t&&SM(e.prototype,t),n&&SM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bY(e){var t=wY(e,"string");return Iu(t)=="symbol"?t:t+""}function wY(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Y=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jY=Object.keys(g3),qs="NaN";function AY(e,t){return e*g3[t]}var th=(function(){function e(t,n){yY(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!_Y.test(n)&&(this.num=NaN,this.unit=""),jY.includes(n)&&(this.num=AY(t,n),this.unit="px")}return xY(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=SY.exec(n))!==null&&r!==void 0?r:[],s=Hh(a,3),l=s[1],u=s[2];return new e(parseFloat(l),u??"")}}])})();function y3(e){if(e.includes(qs))return qs;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=jM.exec(t))!==null&&n!==void 0?n:[],a=Hh(r,4),s=a[1],l=a[2],u=a[3],d=th.parse(s??""),f=th.parse(u??""),m=l==="*"?d.multiply(f):d.divide(f);if(m.isNaN())return qs;t=t.replace(jM,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,y=(g=AM.exec(t))!==null&&g!==void 0?g:[],x=Hh(y,4),S=x[1],_=x[2],b=x[3],j=th.parse(S??""),O=th.parse(b??""),T=_==="+"?j.add(O):j.subtract(O);if(T.isNaN())return qs;t=t.replace(AM,T.toString())}return t}var OM=/\(([^()]*)\)/;function OY(e){for(var t=e;t.includes("(");){var n=OM.exec(t),r=Hh(n,2),a=r[1];t=t.replace(OM,y3(a))}return t}function EY(e){var t=e.replace(/\s+/g,"");return t=OY(t),t=y3(t),t}function NY(e){try{return EY(e)}catch{return qs}}function Eb(e){var t=NY(e.slice(5,-1));return t===qs?"":t}var CY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TY=["dx","dy","angle","className","breakAll"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function EM(e,t){if(e==null)return{};var n=MY(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NM(e,t){return DY(e)||kY(e,t)||PY(e,t)||RY()}function RY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(e,t){if(e){if(typeof e=="string")return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function DY(e){if(Array.isArray(e))return e}var x3=/[ \f\n\r\t\v\u2028\u2029]+/,b3=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var s=[];He(n)||(r?s=n.toString().split(""):s=n.toString().split(x3));var l=s.map(function(d){return{word:d,width:vu(d,a).width}}),u=r?0:vu(" ",a).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},$Y=function(t,n,r,a,s){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,m=Ee(l),g=u,y=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(k,U){var G=U.word,V=U.width,F=k[k.length-1];if(F&&(a==null||s||F.width+V+r<Number(a)))F.words.push(G),F.width+=V+r;else{var X={words:[G],width:V};k.push(X)}return k},[])},x=y(n),S=function(H){return H.reduce(function(k,U){return k.width>U.width?k:U})};if(!m)return x;for(var _="…",b=function(H){var k=g.slice(0,H),U=b3({breakAll:f,style:d,children:k+_}).wordsWithComputedWidth,G=y(U),V=G.length>l||S(G).width>Number(a);return[V,G]},j=0,O=g.length-1,T=0,E;j<=O&&T<=g.length-1;){var N=Math.floor((j+O)/2),C=N-1,R=b(C),M=NM(R,2),P=M[0],B=M[1],D=b(N),I=NM(D,1),z=I[0];if(!P&&!z&&(j=N+1),P&&z&&(O=N-1),!P&&z){E=B;break}T++}return E||x},TM=function(t){var n=He(t)?[]:t.toString().split(x3);return[{words:n}]},IY=function(t){var n=t.width,r=t.scaleToFit,a=t.children,s=t.style,l=t.breakAll,u=t.maxLines;if((n||r)&&!Ua.isSsr){var d,f,m=b3({breakAll:l,children:a,style:s});if(m){var g=m.wordsWithComputedWidth,y=m.spaceWidth;d=g,f=y}else return TM(a);return $Y({breakAll:l,children:a,maxLines:u,style:s},d,f,n,r)}return TM(a)},MM="#808080",Mo=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,s=a===void 0?0:a,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,m=t.scaleToFit,g=m===void 0?!1:m,y=t.textAnchor,x=y===void 0?"start":y,S=t.verticalAnchor,_=S===void 0?"end":S,b=t.fill,j=b===void 0?MM:b,O=EM(t,CY),T=$.useMemo(function(){return IY({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:g,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,g,O.style,O.width]),E=O.dx,N=O.dy,C=O.angle,R=O.className,M=O.breakAll,P=EM(O,TY);if(!rn(r)||!rn(s))return null;var B=r+(Ee(E)?E:0),D=s+(Ee(N)?N:0),I;switch(_){case"start":I=Eb("calc(".concat(f,")"));break;case"middle":I=Eb("calc(".concat((T.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:I=Eb("calc(".concat(T.length-1," * -").concat(u,")"));break}var z=[];if(g){var L=T[0].width,H=O.width;z.push("scale(".concat((Ee(H)?H/L:1)/L,")"))}return C&&z.push("rotate(".concat(C,", ").concat(B,", ").concat(D,")")),z.length&&(P.transform=z.join(" ")),Z.createElement("text",gw({},Be(P,!0),{x:B,y:D,className:Xe("recharts-text",R),textAnchor:x,fill:j.includes("url")?MM:j}),T.map(function(k,U){var G=k.words.join(M?"":" ");return Z.createElement("tspan",{x:B,dy:U===0?I:u,key:"".concat(G,"-").concat(U)},G)}))};function Pa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hS(e){let t,n,r;e.length!==2?(t=Pa,n=(u,d)=>Pa(e(u),d),r=(u,d)=>e(u)-d):(t=e===Pa||e===LY?e:zY,n=e,r=e);function a(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;n(u[g],d)<0?f=g+1:m=g}while(f<m)}return f}function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;n(u[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,d,f=0,m=u.length){const g=a(u,d,f,m-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function zY(){return 0}function w3(e){return e===null?NaN:+e}function*BY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const qY=hS(Pa),Hl=qY.right;hS(w3).center;function UY(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function gu(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class yw extends Map{constructor(t,n=VY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(RM(this,t))}has(t){return super.has(RM(this,t))}set(t,n){return super.set(FY(this,t),n)}delete(t){return super.delete(HY(this,t))}}function RM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function HY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function VY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xw(e){return e}function GY(e,...t){return KY(e,xw,xw,t)}function KY(e,t,n,r){return(function a(s,l){if(l>=r.length)return n(s);const u=new yw,d=r[l++];let f=-1;for(const m of s){const g=d(m,++f,s),y=u.get(g);y?y.push(m):u.set(g,[m])}for(const[m,g]of u)u.set(m,a(g,l));return t(u)})(e,0)}function YY(e=Pa){if(e===Pa)return _3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function _3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var XY=Array.prototype,WY=XY.slice;function Nb(e){return()=>e}const ZY=Math.sqrt(50),QY=Math.sqrt(10),JY=Math.sqrt(2);function Vh(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=ZY?10:s>=QY?5:s>=JY?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Vh(e,t,n*2):[u,d,f]}function Gh(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,l]=r?Vh(t,e,n):Vh(e,t,n);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function cl(e,t,n){return t=+t,e=+e,n=+n,Vh(e,t,n)[2]}function bw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?cl(t,e,n):cl(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function eX(e,t,n){let r;for(;;){const a=cl(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}function tX(e){return Math.max(1,Math.ceil(Math.log(UY(e))/Math.LN2)+1)}function Cb(){var e=xw,t=gu,n=tX;function r(a){Array.isArray(a)||(a=Array.from(a));var s,l=a.length,u,d,f=new Array(l);for(s=0;s<l;++s)f[s]=e(a[s],s,a);var m=t(f),g=m[0],y=m[1],x=n(f,g,y);if(!Array.isArray(x)){const T=y,E=+x;if(t===gu&&([g,y]=eX(g,y,E)),x=Gh(g,y,E),x[0]<=g&&(d=cl(g,y,E)),x[x.length-1]>=y)if(T>=y&&t===gu){const N=cl(g,y,E);isFinite(N)&&(N>0?y=(Math.floor(y/N)+1)*N:N<0&&(y=(Math.ceil(y*-N)+1)/-N))}else x.pop()}for(var S=x.length,_=0,b=S;x[_]<=g;)++_;for(;x[b-1]>y;)--b;(_||b<S)&&(x=x.slice(_,b),S=b-_);var j=new Array(S+1),O;for(s=0;s<=S;++s)O=j[s]=[],O.x0=s>0?x[s-1]:g,O.x1=s<S?x[s]:y;if(isFinite(d)){if(d>0)for(s=0;s<l;++s)(u=f[s])!=null&&g<=u&&u<=y&&j[Math.min(S,Math.floor((u-g)/d))].push(a[s]);else if(d<0){for(s=0;s<l;++s)if((u=f[s])!=null&&g<=u&&u<=y){const T=Math.floor((g-u)*d);j[Math.min(S,T+(x[T]<=u))].push(a[s])}}}else for(s=0;s<l;++s)(u=f[s])!=null&&g<=u&&u<=y&&j[Hl(x,u,0,S)].push(a[s]);return j}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:Nb(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Nb([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Nb(Array.isArray(a)?WY.call(a):a),r):n},r}function yu(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function PM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?_3:YY(a);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(t-f*g/d+y)),S=Math.min(r,Math.floor(t+(d-f)*g/d+y));S3(e,t,x,S,a)}const s=e[t];let l=n,u=r;for(Zc(e,n,t),a(e[r],s)>0&&Zc(e,n,r);l<u;){for(Zc(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[n],s)===0?Zc(e,n,u):(++u,Zc(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Zc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nX(e,t,n){if(e=Float64Array.from(BY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return PM(e);if(t>=1)return yu(e);var r,a=(r-1)*t,s=Math.floor(a),l=yu(S3(e,s).subarray(0,s+1)),u=PM(e.subarray(s+1));return l+(u-l)*(a-s)}}function rX(e,t,n=w3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),l=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function iX(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function Nr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ww=Symbol("implicit");function pS(){var e=new yw,t=[],n=[],r=ww;function a(s){let l=e.get(s);if(l===void 0){if(r!==ww)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new yw;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pS(t,n).unknown(r)},Nr.apply(a,arguments),a}function Lu(){var e=pS().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var y=t().length,x=a<r,S=x?a:r,_=x?r:a;s=(_-S)/Math.max(1,y-d+f*2),u&&(s=Math.floor(s)),S+=(_-S-s*(y-d))*m,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var b=iX(y).map(function(j){return S+s*j});return n(x?b.reverse():b)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,g()):[r,a]},e.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},e.copy=function(){return Lu(t(),[r,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},Nr.apply(g(),arguments)}function j3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j3(t())},e}function xu(){return j3(Lu.apply(null,arguments).paddingInner(1))}function mS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jf(){}var zu=.7,Kh=1/zu,Qs="\\s*([+-]?\\d+)\\s*",Bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aX=/^#([0-9a-f]{3,8})$/,oX=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),sX=new RegExp(`^rgb\\(${ai},${ai},${ai}\\)$`),lX=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Bu}\\)$`),cX=new RegExp(`^rgba\\(${ai},${ai},${ai},${Bu}\\)$`),uX=new RegExp(`^hsl\\(${Bu},${ai},${ai}\\)$`),fX=new RegExp(`^hsla\\(${Bu},${ai},${ai},${Bu}\\)$`),kM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mS(jf,Ro,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DM,formatHex:DM,formatHex8:dX,formatHsl:hX,formatRgb:$M,toString:$M});function DM(){return this.rgb().formatHex()}function dX(){return this.rgb().formatHex8()}function hX(){return O3(this).formatHsl()}function $M(){return this.rgb().formatRgb()}function Ro(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=aX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IM(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oX.exec(e))?new Gn(t[1],t[2],t[3],1):(t=sX.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lX.exec(e))?nh(t[1],t[2],t[3],t[4]):(t=cX.exec(e))?nh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uX.exec(e))?BM(t[1],t[2]/100,t[3]/100,1):(t=fX.exec(e))?BM(t[1],t[2]/100,t[3]/100,t[4]):kM.hasOwnProperty(e)?IM(kM[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function IM(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function nh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function pX(e){return e instanceof jf||(e=Ro(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function _w(e,t,n,r){return arguments.length===1?pX(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mS(Gn,_w,A3(jf,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(So(this.r),So(this.g),So(this.b),Yh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LM,formatHex:LM,formatHex8:mX,formatRgb:zM,toString:zM}));function LM(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function mX(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function zM(){const e=Yh(this.opacity);return`${e===1?"rgb(":"rgba("}${So(this.r)}, ${So(this.g)}, ${So(this.b)}${e===1?")":`, ${e})`}`}function Yh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function So(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bo(e){return e=So(e),(e<16?"0":"")+e.toString(16)}function BM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lr(e,t,n,r)}function O3(e){if(e instanceof Lr)return new Lr(e.h,e.s,e.l,e.opacity);if(e instanceof jf||(e=Ro(e)),!e)return new Lr;if(e instanceof Lr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Lr(l,u,d,e.opacity)}function vX(e,t,n,r){return arguments.length===1?O3(e):new Lr(e,t,n,r??1)}function Lr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mS(Lr,vX,A3(jf,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new Lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new Lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Gn(Tb(e>=240?e-240:e+120,a,r),Tb(e,a,r),Tb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Lr(qM(this.h),rh(this.s),rh(this.l),Yh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yh(this.opacity);return`${e===1?"hsl(":"hsla("}${qM(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qM(e){return e=(e||0)%360,e<0?e+360:e}function rh(e){return Math.max(0,Math.min(1,e||0))}function Tb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vS=e=>()=>e;function gX(e,t){return function(n){return e+n*t}}function yX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xX(e){return(e=+e)==1?E3:function(t,n){return n-t?yX(t,n,e):vS(isNaN(t)?n:t)}}function E3(e,t){var n=t-e;return n?gX(e,n):vS(isNaN(e)?t:e)}const Xh=(function e(t){var n=xX(t);function r(a,s){var l=n((a=_w(a)).r,(s=_w(s)).r),u=n(a.g,s.g),d=n(a.b,s.b),f=E3(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return r.gamma=e,r})(1);function bX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function wX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _X(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=Vl(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<r;++l)s[l]=a[l](u);return s}}function SX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jX(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Vl(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Sw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mb=new RegExp(Sw.source,"g");function AX(e){return function(){return e}}function OX(e){return function(t){return e(t)+""}}function N3(e,t){var n=Sw.lastIndex=Mb.lastIndex=0,r,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Sw.exec(e))&&(a=Mb.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Ir(r,a)})),n=Mb.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?OX(d[0].x):AX(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(f);return u.join("")})}function Vl(e,t){var n=typeof t,r;return t==null||n==="boolean"?vS(t):(n==="number"?Ir:n==="string"?(r=Ro(t))?(t=r,Xh):N3:t instanceof Ro?Xh:t instanceof Date?SX:wX(t)?bX:Array.isArray(t)?_X:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jX:Ir)(e,t)}function gS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var UM=180/Math.PI,jw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C3(e,t,n,r,a,s){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*UM,skewX:Math.atan(d)*UM,scaleX:l,scaleY:u}}var ih;function EX(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jw:C3(t.a,t.b,t.c,t.d,t.e,t.f)}function NX(e){return e==null||(ih||(ih=document.createElementNS("http://www.w3.org/2000/svg","g")),ih.setAttribute("transform",e),!(e=ih.transform.baseVal.consolidate()))?jw:(e=e.matrix,C3(e.a,e.b,e.c,e.d,e.e,e.f))}function T3(e,t,n,r){function a(f){return f.length?f.pop()+" ":""}function s(f,m,g,y,x,S){if(f!==g||m!==y){var _=x.push("translate(",null,t,null,n);S.push({i:_-4,x:Ir(f,g)},{i:_-2,x:Ir(m,y)})}else(g||y)&&x.push("translate("+g+t+y+n)}function l(f,m,g,y){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),y.push({i:g.push(a(g)+"rotate(",null,r)-2,x:Ir(f,m)})):m&&g.push(a(g)+"rotate("+m+r)}function u(f,m,g,y){f!==m?y.push({i:g.push(a(g)+"skewX(",null,r)-2,x:Ir(f,m)}):m&&g.push(a(g)+"skewX("+m+r)}function d(f,m,g,y,x,S){if(f!==g||m!==y){var _=x.push(a(x)+"scale(",null,",",null,")");S.push({i:_-4,x:Ir(f,g)},{i:_-2,x:Ir(m,y)})}else(g!==1||y!==1)&&x.push(a(x)+"scale("+g+","+y+")")}return function(f,m){var g=[],y=[];return f=e(f),m=e(m),s(f.translateX,f.translateY,m.translateX,m.translateY,g,y),l(f.rotate,m.rotate,g,y),u(f.skewX,m.skewX,g,y),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,g,y),f=m=null,function(x){for(var S=-1,_=y.length,b;++S<_;)g[(b=y[S]).i]=b.x(x);return g.join("")}}}var CX=T3(EX,"px, ","px)","deg)"),TX=T3(NX,", ",")",")"),MX=1e-12;function FM(e){return((e=Math.exp(e))+1/e)/2}function RX(e){return((e=Math.exp(e))-1/e)/2}function PX(e){return((e=Math.exp(2*e))-1)/(e+1)}const kX=(function e(t,n,r){function a(s,l){var u=s[0],d=s[1],f=s[2],m=l[0],g=l[1],y=l[2],x=m-u,S=g-d,_=x*x+S*S,b,j;if(_<MX)j=Math.log(y/f)/t,b=function(R){return[u+R*x,d+R*S,f*Math.exp(t*R*j)]};else{var O=Math.sqrt(_),T=(y*y-f*f+r*_)/(2*f*n*O),E=(y*y-f*f-r*_)/(2*y*n*O),N=Math.log(Math.sqrt(T*T+1)-T),C=Math.log(Math.sqrt(E*E+1)-E);j=(C-N)/t,b=function(R){var M=R*j,P=FM(N),B=f/(n*O)*(P*PX(t*M+N)-RX(N));return[u+B*x,d+B*S,f*P/FM(t*M+N)]}}return b.duration=j*1e3*t/Math.SQRT2,b}return a.rho=function(s){var l=Math.max(.001,+s),u=l*l,d=u*u;return e(l,u,d)},a})(Math.SQRT2,2,4);function DX(e,t){t===void 0&&(t=e,e=Vl);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function $X(e){return function(){return e}}function Wh(e){return+e}var HM=[0,1];function Pn(e){return e}function Aw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$X(isNaN(t)?NaN:.5)}function IX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function LX(e,t,n){var r=e[0],a=e[1],s=t[0],l=t[1];return a<r?(r=Aw(a,r),s=n(l,s)):(r=Aw(r,a),s=n(s,l)),function(u){return s(r(u))}}function zX(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)a[l]=Aw(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(u){var d=Hl(e,u,1,r)-1;return s[d](a[d](u))}}function Af(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pm(){var e=HM,t=HM,n=Vl,r,a,s,l=Pn,u,d,f;function m(){var y=Math.min(e.length,t.length);return l!==Pn&&(l=IX(e[0],e[y-1])),u=y>2?zX:LX,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(d||(d=u(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(a((f||(f=u(t,e.map(r),Ir)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Wh),m()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=gS,m()},g.clamp=function(y){return arguments.length?(l=y?!0:Pn,m()):l!==Pn},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,x){return r=y,a=x,m()}}function yS(){return pm()(Pn,Pn)}function BX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ul(e){return e=Zh(Math.abs(e)),e?e[1]:NaN}function qX(e,t){return function(n,r){for(var a=n.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(a-=u,a+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function UX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var FX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qu(e){if(!(t=FX.exec(e)))throw new Error("invalid format: "+e);var t;return new xS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qu.prototype=xS.prototype;function xS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HX(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var M3;function VX(e,t){var n=Zh(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(M3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Zh(e,Math.max(0,t+s-1))[0]}function VM(e,t){var n=Zh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VM(e*100,t),r:VM,s:VX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KM(e){return e}var YM=Array.prototype.map,XM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GX(e){var t=e.grouping===void 0||e.thousands===void 0?KM:qX(YM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?KM:UX(YM.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=qu(g);var y=g.fill,x=g.align,S=g.sign,_=g.symbol,b=g.zero,j=g.width,O=g.comma,T=g.precision,E=g.trim,N=g.type;N==="n"?(O=!0,N="g"):GM[N]||(T===void 0&&(T=12),E=!0,N="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var C=_==="$"?n:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",R=_==="$"?r:/[%p]/.test(N)?l:"",M=GM[N],P=/[defgprs%]/.test(N);T=T===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function B(D){var I=C,z=R,L,H,k;if(N==="c")z=M(D)+z,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?d:M(Math.abs(D),T),E&&(D=HX(D)),U&&+D==0&&S!=="+"&&(U=!1),I=(U?S==="("?S:u:S==="-"||S==="("?"":S)+I,z=(N==="s"?XM[8+M3/3]:"")+z+(U&&S==="("?")":""),P){for(L=-1,H=D.length;++L<H;)if(k=D.charCodeAt(L),48>k||k>57){z=(k===46?a+D.slice(L+1):D.slice(L))+z,D=D.slice(0,L);break}}}O&&!b&&(D=t(D,1/0));var G=I.length+D.length+z.length,V=G<j?new Array(j-G+1).join(y):"";switch(O&&b&&(D=t(V+D,V.length?j-z.length:1/0),V=""),x){case"<":D=I+D+z+V;break;case"=":D=I+V+D+z;break;case"^":D=V.slice(0,G=V.length>>1)+I+D+z+V.slice(G);break;default:D=V+I+D+z;break}return s(D)}return B.toString=function(){return g+""},B}function m(g,y){var x=f((g=qu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(ul(y)/3)))*3,_=Math.pow(10,-S),b=XM[8+S/3];return function(j){return x(_*j)+b}}return{format:f,formatPrefix:m}}var ah,Js,R3;KX({thousands:",",grouping:[3],currency:["$",""]});function KX(e){return ah=GX(e),Js=ah.format,R3=ah.formatPrefix,ah}function YX(e){return Math.max(0,-ul(Math.abs(e)))}function XX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ul(t)/3)))*3-ul(Math.abs(e)))}function WX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ul(t)-ul(e))+1}function P3(e,t,n,r){var a=bw(e,t,n),s;switch(r=qu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=XX(a,l))&&(r.precision=s),R3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=WX(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=YX(a))&&(r.precision=s-(r.type==="%")*2);break}}return Js(r)}function Fa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gh(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return P3(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,l=r[a],u=r[s],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=cl(l,u,n),f===d)return r[a]=l,r[s]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function jr(){var e=yS();return e.copy=function(){return Af(e,jr())},Nr.apply(e,arguments),Fa(e)}function k3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Wh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return k3(e).unknown(t)},e=arguments.length?Array.from(e,Wh):[0,1],Fa(n)}function D3(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),e[n]=t.floor(a),e[r]=t.ceil(s),e}function WM(e){return Math.log(e)}function ZM(e){return Math.exp(e)}function ZX(e){return-Math.log(-e)}function QX(e){return-Math.exp(-e)}function JX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eW(e){return e===10?JX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QM(e){return(t,n)=>-e(-t,n)}function bS(e){const t=e(WM,ZM),n=t.domain;let r=10,a,s;function l(){return a=tW(r),s=eW(r),n()[0]<0?(a=QM(a),s=QM(s),e(ZX,QX)):e(WM,ZM),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let y=a(f),x=a(m),S,_;const b=u==null?10:+u;let j=[];if(!(r%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<r;++S)if(_=y<0?S/s(-y):S*s(y),!(_<f)){if(_>m)break;j.push(_)}}else for(;y<=x;++y)for(S=r-1;S>=1;--S)if(_=y>0?S/s(-y):S*s(y),!(_<f)){if(_>m)break;j.push(_)}j.length*2<b&&(j=Gh(f,m,b))}else j=Gh(y,x,Math.min(x-y,b)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=qu(d)).precision==null&&(d.trim=!0),d=Js(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*r<r-.5&&(g*=r),g<=f?d(m):""}},t.nice=()=>n(D3(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function $3(){const e=bS(pm()).domain([1,10]);return e.copy=()=>Af(e,$3()).base(e.base()),Nr.apply(e,arguments),e}function JM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wS(e){var t=1,n=e(JM(t),eR(t));return n.constant=function(r){return arguments.length?e(JM(t=+r),eR(t)):t},Fa(n)}function I3(){var e=wS(pm());return e.copy=function(){return Af(e,I3()).constant(e.constant())},Nr.apply(e,arguments)}function tR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rW(e){return e<0?-e*e:e*e}function _S(e){var t=e(Pn,Pn),n=1;function r(){return n===1?e(Pn,Pn):n===.5?e(nW,rW):e(tR(n),tR(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Fa(t)}function SS(){var e=_S(pm());return e.copy=function(){return Af(e,SS()).exponent(e.exponent())},Nr.apply(e,arguments),e}function iW(){return SS.apply(null,arguments).exponent(.5)}function nR(e){return Math.sign(e)*e*e}function aW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L3(){var e=yS(),t=[0,1],n=!1,r;function a(s){var l=aW(e(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return e.invert(nR(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Wh)).map(nR)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return L3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Nr.apply(a,arguments),Fa(a)}function z3(){var e=[],t=[],n=[],r;function a(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=rX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:t[Hl(n,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Pa),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return z3().domain(e).range(t).unknown(r)},Nr.apply(s,arguments)}function B3(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Hl(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return B3().domain([e,t]).range(a).unknown(s)},Nr.apply(Fa(l),arguments)}function q3(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[Hl(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return q3().domain(e).range(t).unknown(n)},Nr.apply(a,arguments)}const Rb=new Date,Pb=new Date;function an(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>an(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),n&&(a.count=(s,l)=>(Rb.setTime(+s),Pb.setTime(+l),e(Rb),e(Pb),Math.floor(n(Rb,Pb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Qh=an(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?an(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Qh);Qh.range;const Li=1e3,Or=Li*60,zi=Or*60,Gi=zi*24,jS=Gi*7,rR=Gi*30,kb=Gi*365,wo=an(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCSeconds());wo.range;const AS=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());AS.range;const OS=an(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());OS.range;const ES=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getHours());ES.range;const NS=an(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCHours());NS.range;const Of=an(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/Gi,e=>e.getDate()-1);Of.range;const mm=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);mm.range;const U3=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));U3.range;function Uo(e){return an(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Or)/jS)}const vm=Uo(0),Jh=Uo(1),oW=Uo(2),sW=Uo(3),fl=Uo(4),lW=Uo(5),cW=Uo(6);vm.range;Jh.range;oW.range;sW.range;fl.range;lW.range;cW.range;function Fo(e){return an(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jS)}const gm=Fo(0),ep=Fo(1),uW=Fo(2),fW=Fo(3),dl=Fo(4),dW=Fo(5),hW=Fo(6);gm.range;ep.range;uW.range;fW.range;dl.range;dW.range;hW.range;const CS=an(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CS.range;const TS=an(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TS.range;const Ki=an(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ki.range;const Yi=an(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Yi.range;function F3(e,t,n,r,a,s){const l=[[wo,1,Li],[wo,5,5*Li],[wo,15,15*Li],[wo,30,30*Li],[s,1,Or],[s,5,5*Or],[s,15,15*Or],[s,30,30*Or],[a,1,zi],[a,3,3*zi],[a,6,6*zi],[a,12,12*zi],[r,1,Gi],[r,2,2*Gi],[n,1,jS],[t,1,rR],[t,3,3*rR],[e,1,kb]];function u(f,m,g){const y=m<f;y&&([f,m]=[m,f]);const x=g&&typeof g.range=="function"?g:d(f,m,g),S=x?x.range(f,+m+1):[];return y?S.reverse():S}function d(f,m,g){const y=Math.abs(m-f)/g,x=hS(([,,b])=>b).right(l,y);if(x===l.length)return e.every(bw(f/kb,m/kb,g));if(x===0)return Qh.every(Math.max(bw(f,m,g),1));const[S,_]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return S.every(_)}return[u,d]}const[pW,mW]=F3(Yi,TS,gm,U3,NS,OS),[vW,gW]=F3(Ki,CS,vm,Of,ES,AS);function Db(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yW(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Jc(a),m=eu(a),g=Jc(s),y=eu(s),x=Jc(l),S=eu(l),_=Jc(u),b=eu(u),j=Jc(d),O=eu(d),T={a:U,A:G,b:V,B:F,c:null,d:cR,e:cR,f:qW,g:ZW,G:JW,H:LW,I:zW,j:BW,L:H3,m:UW,M:FW,p:X,q:W,Q:dR,s:hR,S:HW,u:VW,U:GW,V:KW,w:YW,W:XW,x:null,X:null,y:WW,Y:QW,Z:eZ,"%":fR},E={a:Y,A:ee,b:se,B:re,c:null,d:uR,e:uR,f:iZ,g:pZ,G:vZ,H:tZ,I:nZ,j:rZ,L:G3,m:aZ,M:oZ,p:de,q:ge,Q:dR,s:hR,S:sZ,u:lZ,U:cZ,V:uZ,w:fZ,W:dZ,x:null,X:null,y:hZ,Y:mZ,Z:gZ,"%":fR},N={a:B,A:D,b:I,B:z,c:L,d:sR,e:sR,f:kW,g:oR,G:aR,H:lR,I:lR,j:TW,L:PW,m:CW,M:MW,p:P,q:NW,Q:$W,s:IW,S:RW,u:SW,U:jW,V:AW,w:_W,W:OW,x:H,X:k,y:oR,Y:aR,Z:EW,"%":DW};T.x=C(n,T),T.X=C(r,T),T.c=C(t,T),E.x=C(n,E),E.X=C(r,E),E.c=C(t,E);function C(oe,le){return function(fe){var ie=[],Ce=-1,Ae=0,Q=oe.length,ne,he,pe;for(fe instanceof Date||(fe=new Date(+fe));++Ce<Q;)oe.charCodeAt(Ce)===37&&(ie.push(oe.slice(Ae,Ce)),(he=iR[ne=oe.charAt(++Ce)])!=null?ne=oe.charAt(++Ce):he=ne==="e"?" ":"0",(pe=le[ne])&&(ne=pe(fe,he)),ie.push(ne),Ae=Ce+1);return ie.push(oe.slice(Ae,Ce)),ie.join("")}}function R(oe,le){return function(fe){var ie=Qc(1900,void 0,1),Ce=M(ie,oe,fe+="",0),Ae,Q;if(Ce!=fe.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(le&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Ae=$b(Qc(ie.y,0,1)),Q=Ae.getUTCDay(),Ae=Q>4||Q===0?ep.ceil(Ae):ep(Ae),Ae=mm.offset(Ae,(ie.V-1)*7),ie.y=Ae.getUTCFullYear(),ie.m=Ae.getUTCMonth(),ie.d=Ae.getUTCDate()+(ie.w+6)%7):(Ae=Db(Qc(ie.y,0,1)),Q=Ae.getDay(),Ae=Q>4||Q===0?Jh.ceil(Ae):Jh(Ae),Ae=Of.offset(Ae,(ie.V-1)*7),ie.y=Ae.getFullYear(),ie.m=Ae.getMonth(),ie.d=Ae.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Q="Z"in ie?$b(Qc(ie.y,0,1)).getUTCDay():Db(Qc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Q+5)%7:ie.w+ie.U*7-(Q+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,$b(ie)):Db(ie)}}function M(oe,le,fe,ie){for(var Ce=0,Ae=le.length,Q=fe.length,ne,he;Ce<Ae;){if(ie>=Q)return-1;if(ne=le.charCodeAt(Ce++),ne===37){if(ne=le.charAt(Ce++),he=N[ne in iR?le.charAt(Ce++):ne],!he||(ie=he(oe,fe,ie))<0)return-1}else if(ne!=fe.charCodeAt(ie++))return-1}return ie}function P(oe,le,fe){var ie=f.exec(le.slice(fe));return ie?(oe.p=m.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function B(oe,le,fe){var ie=x.exec(le.slice(fe));return ie?(oe.w=S.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function D(oe,le,fe){var ie=g.exec(le.slice(fe));return ie?(oe.w=y.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function I(oe,le,fe){var ie=j.exec(le.slice(fe));return ie?(oe.m=O.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function z(oe,le,fe){var ie=_.exec(le.slice(fe));return ie?(oe.m=b.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function L(oe,le,fe){return M(oe,t,le,fe)}function H(oe,le,fe){return M(oe,n,le,fe)}function k(oe,le,fe){return M(oe,r,le,fe)}function U(oe){return l[oe.getDay()]}function G(oe){return s[oe.getDay()]}function V(oe){return d[oe.getMonth()]}function F(oe){return u[oe.getMonth()]}function X(oe){return a[+(oe.getHours()>=12)]}function W(oe){return 1+~~(oe.getMonth()/3)}function Y(oe){return l[oe.getUTCDay()]}function ee(oe){return s[oe.getUTCDay()]}function se(oe){return d[oe.getUTCMonth()]}function re(oe){return u[oe.getUTCMonth()]}function de(oe){return a[+(oe.getUTCHours()>=12)]}function ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var le=C(oe+="",T);return le.toString=function(){return oe},le},parse:function(oe){var le=R(oe+="",!1);return le.toString=function(){return oe},le},utcFormat:function(oe){var le=C(oe+="",E);return le.toString=function(){return oe},le},utcParse:function(oe){var le=R(oe+="",!0);return le.toString=function(){return oe},le}}}var iR={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,xW=/^%/,bW=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function wW(e){return e.replace(bW,"\\$&")}function Jc(e){return new RegExp("^(?:"+e.map(wW).join("|")+")","i")}function eu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _W(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SW(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function AW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function OW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aR(e,t,n){var r=dn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oR(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EW(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NW(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function CW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sR(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TW(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function lR(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function MW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RW(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function PW(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kW(e,t,n){var r=dn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DW(e,t,n){var r=xW.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $W(e,t,n){var r=dn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function IW(e,t,n){var r=dn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cR(e,t){return ht(e.getDate(),t,2)}function LW(e,t){return ht(e.getHours(),t,2)}function zW(e,t){return ht(e.getHours()%12||12,t,2)}function BW(e,t){return ht(1+Of.count(Ki(e),e),t,3)}function H3(e,t){return ht(e.getMilliseconds(),t,3)}function qW(e,t){return H3(e,t)+"000"}function UW(e,t){return ht(e.getMonth()+1,t,2)}function FW(e,t){return ht(e.getMinutes(),t,2)}function HW(e,t){return ht(e.getSeconds(),t,2)}function VW(e){var t=e.getDay();return t===0?7:t}function GW(e,t){return ht(vm.count(Ki(e)-1,e),t,2)}function V3(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function KW(e,t){return e=V3(e),ht(fl.count(Ki(e),e)+(Ki(e).getDay()===4),t,2)}function YW(e){return e.getDay()}function XW(e,t){return ht(Jh.count(Ki(e)-1,e),t,2)}function WW(e,t){return ht(e.getFullYear()%100,t,2)}function ZW(e,t){return e=V3(e),ht(e.getFullYear()%100,t,2)}function QW(e,t){return ht(e.getFullYear()%1e4,t,4)}function JW(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),ht(e.getFullYear()%1e4,t,4)}function eZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function uR(e,t){return ht(e.getUTCDate(),t,2)}function tZ(e,t){return ht(e.getUTCHours(),t,2)}function nZ(e,t){return ht(e.getUTCHours()%12||12,t,2)}function rZ(e,t){return ht(1+mm.count(Yi(e),e),t,3)}function G3(e,t){return ht(e.getUTCMilliseconds(),t,3)}function iZ(e,t){return G3(e,t)+"000"}function aZ(e,t){return ht(e.getUTCMonth()+1,t,2)}function oZ(e,t){return ht(e.getUTCMinutes(),t,2)}function sZ(e,t){return ht(e.getUTCSeconds(),t,2)}function lZ(e){var t=e.getUTCDay();return t===0?7:t}function cZ(e,t){return ht(gm.count(Yi(e)-1,e),t,2)}function K3(e){var t=e.getUTCDay();return t>=4||t===0?dl(e):dl.ceil(e)}function uZ(e,t){return e=K3(e),ht(dl.count(Yi(e),e)+(Yi(e).getUTCDay()===4),t,2)}function fZ(e){return e.getUTCDay()}function dZ(e,t){return ht(ep.count(Yi(e)-1,e),t,2)}function hZ(e,t){return ht(e.getUTCFullYear()%100,t,2)}function pZ(e,t){return e=K3(e),ht(e.getUTCFullYear()%100,t,2)}function mZ(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function vZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?dl(e):dl.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function gZ(){return"+0000"}function fR(){return"%"}function dR(e){return+e}function hR(e){return Math.floor(+e/1e3)}var $s,Y3,X3;yZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yZ(e){return $s=yW(e),Y3=$s.format,$s.parse,X3=$s.utcFormat,$s.utcParse,$s}function xZ(e){return new Date(e)}function bZ(e){return e instanceof Date?+e:+new Date(+e)}function MS(e,t,n,r,a,s,l,u,d,f){var m=yS(),g=m.invert,y=m.domain,x=f(".%L"),S=f(":%S"),_=f("%I:%M"),b=f("%I %p"),j=f("%a %d"),O=f("%b %d"),T=f("%B"),E=f("%Y");function N(C){return(d(C)<C?x:u(C)<C?S:l(C)<C?_:s(C)<C?b:r(C)<C?a(C)<C?j:O:n(C)<C?T:E)(C)}return m.invert=function(C){return new Date(g(C))},m.domain=function(C){return arguments.length?y(Array.from(C,bZ)):y().map(xZ)},m.ticks=function(C){var R=y();return e(R[0],R[R.length-1],C??10)},m.tickFormat=function(C,R){return R==null?N:f(R)},m.nice=function(C){var R=y();return(!C||typeof C.range!="function")&&(C=t(R[0],R[R.length-1],C??10)),C?y(D3(R,C)):m},m.copy=function(){return Af(m,MS(e,t,n,r,a,s,l,u,d,f))},m}function wZ(){return Nr.apply(MS(vW,gW,Ki,CS,vm,Of,ES,AS,wo,Y3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Z(){return Nr.apply(MS(pW,mW,Yi,TS,gm,mm,NS,OS,wo,X3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ym(){var e=0,t=1,n,r,a,s,l=Pn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(y){var x,S;return arguments.length?([x,S]=y,l=g(x,S),f):[l(0),l(1)]}}return f.range=m(Vl),f.rangeRound=m(gS),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,n=g(e),r=g(t),a=n===r?0:1/(r-n),f}}function Ha(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W3(){var e=Fa(ym()(Pn));return e.copy=function(){return Ha(e,W3())},Ji.apply(e,arguments)}function Z3(){var e=bS(ym()).domain([1,10]);return e.copy=function(){return Ha(e,Z3()).base(e.base())},Ji.apply(e,arguments)}function Q3(){var e=wS(ym());return e.copy=function(){return Ha(e,Q3()).constant(e.constant())},Ji.apply(e,arguments)}function RS(){var e=_S(ym());return e.copy=function(){return Ha(e,RS()).exponent(e.exponent())},Ji.apply(e,arguments)}function SZ(){return RS.apply(null,arguments).exponent(.5)}function J3(){var e=[],t=Pn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Hl(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>nX(e,s/r))},n.copy=function(){return J3(t).domain(e)},Ji.apply(n,arguments)}function xm(){var e=0,t=.5,n=1,r=1,a,s,l,u,d,f=Pn,m,g=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+m(_))-s)*(r*_<r*s?u:d),f(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,a=m(e=+e),s=m(t=+t),l=m(n=+n),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),r=s<a?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(f=_,x):f};function S(_){return function(b){var j,O,T;return arguments.length?([j,O,T]=b,f=DX(_,[j,O,T]),x):[f(0),f(.5),f(1)]}}return x.range=S(Vl),x.rangeRound=S(gS),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return m=_,a=_(e),s=_(t),l=_(n),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),r=s<a?-1:1,x}}function e4(){var e=Fa(xm()(Pn));return e.copy=function(){return Ha(e,e4())},Ji.apply(e,arguments)}function t4(){var e=bS(xm()).domain([.1,1,10]);return e.copy=function(){return Ha(e,t4()).base(e.base())},Ji.apply(e,arguments)}function n4(){var e=wS(xm());return e.copy=function(){return Ha(e,n4()).constant(e.constant())},Ji.apply(e,arguments)}function PS(){var e=_S(xm());return e.copy=function(){return Ha(e,PS()).exponent(e.exponent())},Ji.apply(e,arguments)}function jZ(){return PS.apply(null,arguments).exponent(.5)}const pR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lu,scaleDiverging:e4,scaleDivergingLog:t4,scaleDivergingPow:PS,scaleDivergingSqrt:jZ,scaleDivergingSymlog:n4,scaleIdentity:k3,scaleImplicit:ww,scaleLinear:jr,scaleLog:$3,scaleOrdinal:pS,scalePoint:xu,scalePow:SS,scaleQuantile:z3,scaleQuantize:B3,scaleRadial:L3,scaleSequential:W3,scaleSequentialLog:Z3,scaleSequentialPow:RS,scaleSequentialQuantile:J3,scaleSequentialSqrt:SZ,scaleSequentialSymlog:Q3,scaleSqrt:iW,scaleSymlog:I3,scaleThreshold:q3,scaleTime:wZ,scaleUtc:_Z,tickFormat:P3},Symbol.toStringTag,{value:"Module"}));var Ib,mR;function bm(){if(mR)return Ib;mR=1;var e=ql();function t(n,r,a){for(var s=-1,l=n.length;++s<l;){var u=n[s],d=r(u);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,m=u}return m}return Ib=t,Ib}var Lb,vR;function r4(){if(vR)return Lb;vR=1;function e(t,n){return t>n}return Lb=e,Lb}var zb,gR;function AZ(){if(gR)return zb;gR=1;var e=bm(),t=r4(),n=Fl();function r(a){return a&&a.length?e(a,n,t):void 0}return zb=r,zb}var OZ=AZ();const wm=vt(OZ);var Bb,yR;function i4(){if(yR)return Bb;yR=1;function e(t,n){return t<n}return Bb=e,Bb}var qb,xR;function EZ(){if(xR)return qb;xR=1;var e=bm(),t=i4(),n=Fl();function r(a){return a&&a.length?e(a,n,t):void 0}return qb=r,qb}var NZ=EZ();const _m=vt(NZ);var Ub,bR;function CZ(){if(bR)return Ub;bR=1;var e=Z_(),t=mi(),n=c3(),r=Kn();function a(s,l){var u=r(s)?e:n;return u(s,t(l,3))}return Ub=a,Ub}var Fb,wR;function TZ(){if(wR)return Fb;wR=1;var e=s3(),t=CZ();function n(r,a){return e(t(r,a),1)}return Fb=n,Fb}var MZ=TZ();const RZ=vt(MZ);var Hb,_R;function PZ(){if(_R)return Hb;_R=1;var e=cS();function t(n,r){return e(n,r)}return Hb=t,Hb}var kZ=PZ();const Gl=vt(kZ);var Kl=1e9,DZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DS,It=!0,Er="[DecimalError] ",jo=Er+"Invalid argument: ",kS=Er+"Exponent out of range: ",Yl=Math.floor,go=Math.pow,$Z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,un=1e7,Dt=7,a4=9007199254740991,tp=Yl(a4/Dt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Dt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(e){return Fi(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,n=t.constructor;return Ct(Fi(t,new n(e),0,1),n.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return Wt(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(or))throw Error(Er+"NaN");if(n.s<1)throw Error(Er+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(It=!1,t=Fi(Uu(n,s),Uu(e,s),s),It=!0,Ct(t,a))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l4(t,e):o4(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Er+"NaN");return n.s?(It=!1,t=Fi(n,e,0,1).times(e),It=!0,n.minus(t)):Ct(new r(n),a)};Me.naturalExponential=Me.exp=function(){return s4(this)};Me.naturalLogarithm=Me.ln=function(){return Uu(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?o4(t,e):l4(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jo+e);if(t=Wt(a)+1,r=a.d.length-1,n=r*Dt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Me.squareRoot=Me.sqrt=function(){var e,t,n,r,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Er+"NaN")}for(e=Wt(u),It=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=ri(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(a.toString()),n=d.precision,a=l=n+3;;)if(s=r,r=s.plus(Fi(u,s,l+2)).times(.5),ri(s.d).slice(0,l)===(t=ri(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Ct(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;l+=4}return It=!0,Ct(r,n)};Me.times=Me.mul=function(e){var t,n,r,a,s,l,u,d,f,m=this,g=m.constructor,y=m.d,x=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,n=m.e+e.e,d=y.length,f=x.length,d<f&&(s=y,y=x,x=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(t=0,a=d+r;a>r;)u=s[a]+x[r]*y[a-r-1]+t,s[a--]=u%un|0,t=u/un|0;s[a]=(s[a]+t)%un|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,It?Ct(e,g.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(di(e,0,Kl),t===void 0?t=r.rounding:di(t,0,8),Ct(n,e+Wt(n)+1,t))};Me.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Po(r,!0):(di(e,0,Kl),t===void 0?t=a.rounding:di(t,0,8),r=Ct(new a(r),e+1,t),n=Po(r,!0,e+1)),n};Me.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?Po(a):(di(e,0,Kl),t===void 0?t=s.rounding:di(t,0,8),r=Ct(new s(a),e+Wt(a)+1,t),n=Po(r.abs(),!1,e+Wt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),Wt(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,n,r,a,s,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(or);if(u=new d(u),!u.s){if(e.s<1)throw Error(Er+"Infinity");return u}if(u.eq(or))return u;if(r=d.precision,e.eq(or))return Ct(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=u.s,l){if((n=m<0?-m:m)<=a4){for(a=new d(or),t=Math.ceil(r/Dt+4),It=!1;n%2&&(a=a.times(u),jR(a.d,t)),n=Yl(n/2),n!==0;)u=u.times(u),jR(u.d,t);return It=!0,e.s<0?new d(or).div(a):Ct(a,r)}}else if(s<0)throw Error(Er+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,It=!1,a=e.times(Uu(u,r+f)),It=!0,a=s4(a),a.s=s,a};Me.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Wt(a),r=Po(a,n<=s.toExpNeg||n>=s.toExpPos)):(di(e,1,Kl),t===void 0?t=s.rounding:di(t,0,8),a=Ct(new s(a),e,t),n=Wt(a),r=Po(a,e<=n||n<=s.toExpNeg,e)),r};Me.toSignificantDigits=Me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(di(e,1,Kl),t===void 0?t=r.rounding:di(t,0,8)),Ct(new r(n),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),n=e.constructor;return Po(e,t<=n.toExpNeg||t>=n.toExpPos)};function o4(e,t){var n,r,a,s,l,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),It?Ct(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(r=d,s=-s,u=f.length):(r=f,a=l,u=d.length),l=Math.ceil(g/Dt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/un|0,d[s]%=un;for(n&&(d.unshift(n),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,It?Ct(t,g):t}function di(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jo+e)}function ri(e){var t,n,r,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)r=e[t]+"",n=Dt-r.length,n&&(s+=Ea(n)),s+=r;l=e[t],r=l+"",n=Dt-r.length,n&&(s+=Ea(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Fi=(function(){function e(r,a){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+l,r[u]=s%un|0,l=s/un|0;return l&&r.unshift(l),r}function t(r,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=a[u]){d=r[u]>a[u]?1:-1;break}return d}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*un+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var u,d,f,m,g,y,x,S,_,b,j,O,T,E,N,C,R,M,P=r.constructor,B=r.s==a.s?1:-1,D=r.d,I=a.d;if(!r.s)return new P(r);if(!a.s)throw Error(Er+"Division by zero");for(d=r.e-a.e,R=I.length,N=D.length,x=new P(B),S=x.d=[],f=0;I[f]==(D[f]||0);)++f;if(I[f]>(D[f]||0)&&--d,s==null?O=s=P.precision:l?O=s+(Wt(r)-Wt(a))+1:O=s,O<0)return new P(0);if(O=O/Dt+2|0,f=0,R==1)for(m=0,I=I[0],O++;(f<N||m)&&O--;f++)T=m*un+(D[f]||0),S[f]=T/I|0,m=T%I|0;else{for(m=un/(I[0]+1)|0,m>1&&(I=e(I,m),D=e(D,m),R=I.length,N=D.length),E=R,_=D.slice(0,R),b=_.length;b<R;)_[b++]=0;M=I.slice(),M.unshift(0),C=I[0],I[1]>=un/2&&++C;do m=0,u=t(I,_,R,b),u<0?(j=_[0],R!=b&&(j=j*un+(_[1]||0)),m=j/C|0,m>1?(m>=un&&(m=un-1),g=e(I,m),y=g.length,b=_.length,u=t(g,_,y,b),u==1&&(m--,n(g,R<y?M:I,y))):(m==0&&(u=m=1),g=I.slice()),y=g.length,y<b&&g.unshift(0),n(_,g,b),u==-1&&(b=_.length,u=t(I,_,R,b),u<1&&(m++,n(_,R<b?M:I,b))),b=_.length):u===0&&(m++,_=[0]),S[f++]=m,u&&_[0]?_[b++]=D[E]||0:(_=[D[E]],b=1);while((E++<N||_[0]!==void 0)&&O--)}return S[0]||S.shift(),x.e=d,Ct(x,l?s+Wt(x)+1:s)}})();function s4(e,t){var n,r,a,s,l,u,d=0,f=0,m=e.constructor,g=m.precision;if(Wt(e)>16)throw Error(kS+Wt(e));if(!e.s)return new m(or);for(It=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(go(2,f))/Math.LN10*2+5|0,u+=r,n=a=s=new m(or),m.precision=u;;){if(a=Ct(a.times(e),u),n=n.times(++d),l=s.plus(Fi(a,n,u)),ri(l.d).slice(0,u)===ri(s.d).slice(0,u)){for(;f--;)s=Ct(s.times(s),u);return m.precision=g,t==null?(It=!0,Ct(s,g)):s}s=l}}function Wt(e){for(var t=e.e*Dt,n=e.d[0];n>=10;n/=10)t++;return t}function Vb(e,t,n){if(t>e.LN10.sd())throw It=!0,n&&(e.precision=n),Error(Er+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function Ea(e){for(var t="";e--;)t+="0";return t}function Uu(e,t){var n,r,a,s,l,u,d,f,m,g=1,y=10,x=e,S=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(Er+(x.s?"NaN":"-Infinity"));if(x.eq(or))return new _(0);if(t==null?(It=!1,f=b):f=t,x.eq(10))return t==null&&(It=!0),Vb(_,f);if(f+=y,_.precision=f,n=ri(S),r=n.charAt(0),s=Wt(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=ri(x.d),r=n.charAt(0),g++;s=Wt(x),r>1?(x=new _("0."+n),s++):x=new _(r+"."+n.slice(1))}else return d=Vb(_,f+2,b).times(s+""),x=Uu(new _(r+"."+n.slice(1)),f-y).plus(d),_.precision=b,t==null?(It=!0,Ct(x,b)):x;for(u=l=x=Fi(x.minus(or),x.plus(or),f),m=Ct(x.times(x),f),a=3;;){if(l=Ct(l.times(m),f),d=u.plus(Fi(l,new _(a),f)),ri(d.d).slice(0,f)===ri(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(Vb(_,f+2,b).times(s+""))),u=Fi(u,new _(g),f),_.precision=b,t==null?(It=!0,Ct(u,b)):u;u=d,a+=2}}function SR(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Yl(n/Dt),e.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Dt;r<a;)e.d.push(+t.slice(r,r+=Dt));t=t.slice(r),r=Dt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),It&&(e.e>tp||e.e<-tp))throw Error(kS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,n){var r,a,s,l,u,d,f,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=Dt,a=t,f=g[m=0];else{if(m=Math.ceil((r+1)/Dt),s=g.length,m>=s)return e;for(f=s=g[m],l=1;s>=10;s/=10)l++;r%=Dt,a=r-Dt+l}if(n!==void 0&&(s=go(10,l-a-1),u=f/s%10|0,d=t<0||g[m+1]!==void 0||f%s,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?a>0?f/go(10,l-a):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(s=Wt(e),g.length=1,t=t-s-1,g[0]=go(10,(Dt-t%Dt)%Dt),e.e=Yl(-t/Dt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=go(10,Dt-r),g[m]=a>0?(f/go(10,l-a)%go(10,a)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==un&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=un)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(It&&(e.e>tp||e.e<-tp))throw Error(kS+Wt(e));return e}function l4(e,t){var n,r,a,s,l,u,d,f,m,g,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),It?Ct(t,x):t;if(d=e.d,g=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),a=Math.max(Math.ceil(x/Dt),u)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=d.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=un-1;--d[s],d[a]+=un}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,It?Ct(t,x):t):new y(0)}function Po(e,t,n){var r,a=Wt(e),s=ri(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ea(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ea(-a-1)+s,n&&(r=n-l)>0&&(s+=Ea(r))):a>=l?(s+=Ea(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+Ea(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=Ea(r))),e.s<0?"-"+s:s}function jR(e,t){if(e.length>t)return e.length=t,!0}function c4(e){var t,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return SR(l,s.toString())}else if(typeof s!="string")throw Error(jo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,$Z.test(s))SR(l,s);else throw Error(jo+s)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=c4,a.config=a.set=IZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function IZ(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,n,r,a=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Yl(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(jo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jo+n+": "+r);return this}var DS=c4(DZ);or=new DS(1);const At=DS;function LZ(e){return UZ(e)||qZ(e)||BZ(e)||zZ()}function zZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(e,t){if(e){if(typeof e=="string")return Ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(e,t)}}function qZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function UZ(e){if(Array.isArray(e))return Ow(e)}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FZ=function(t){return t},u4={},f4=function(t){return t===u4},AR=function(t){return function n(){return arguments.length===0||arguments.length===1&&f4(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},HZ=function e(t,n){return t===1?n:AR(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.filter(function(u){return u!==u4}).length;return l>=t?n.apply(void 0,a):e(t-l,AR(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=a.map(function(g){return f4(g)?d.shift():g});return n.apply(void 0,LZ(m).concat(d))}))})},Sm=function(t){return HZ(t.length,t)},Ew=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},VZ=Sm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),GZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return FZ;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},Nw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},d4=function(t){var n=null,r=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return n&&s.every(function(u,d){return u===n[d]})||(n=s,r=t.apply(void 0,s)),r}};function KZ(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function YZ(e,t,n){for(var r=new At(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var XZ=Sm(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),WZ=Sm(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),ZZ=Sm(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const jm={rangeStep:YZ,getDigitCount:KZ,interpolateNumber:XZ,uninterpolateNumber:WZ,uninterpolateTruncation:ZZ};function Cw(e){return eQ(e)||JZ(e)||h4(e)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eQ(e){if(Array.isArray(e))return Tw(e)}function Fu(e,t){return rQ(e)||nQ(e,t)||h4(e,t)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4(e,t){if(e){if(typeof e=="string")return Tw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(e,t)}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nQ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,s=void 0;try{for(var l=e[Symbol.iterator](),u;!(r=(u=l.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(d){a=!0,s=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(a)throw s}}return n}}function rQ(e){if(Array.isArray(e))return e}function p4(e){var t=Fu(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function m4(e,t,n){if(e.lte(0))return new At(0);var r=jm.getDigitCount(e.toNumber()),a=new At(10).pow(r),s=e.div(a),l=r!==1?.05:.1,u=new At(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(a);return t?d:new At(Math.ceil(d))}function iQ(e,t,n){var r=1,a=new At(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new At(10).pow(jm.getDigitCount(e)-1),a=new At(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):n||(a=new At(Math.floor(e)));var l=Math.floor((t-1)/2),u=GZ(VZ(function(d){return a.add(new At(d-l).mul(r)).toNumber()}),Ew);return u(0,t)}function v4(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var s=m4(new At(t).sub(e).div(n-1),r,a),l;e<=0&&t>=0?l=new At(0):(l=new At(e).add(t).div(2),l=l.sub(new At(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new At(t).sub(l).div(s).toNumber()),f=u+d+1;return f>n?v4(e,t,n,r,a+1):(f<n&&(d=t>0?d+(n-f):d,u=t>0?u:u+(n-f)),{step:s,tickMin:l.sub(new At(u).mul(s)),tickMax:l.add(new At(d).mul(s))})}function aQ(e){var t=Fu(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),u=p4([n,r]),d=Fu(u,2),f=d[0],m=d[1];if(f===-1/0||m===1/0){var g=m===1/0?[f].concat(Cw(Ew(0,a-1).map(function(){return 1/0}))):[].concat(Cw(Ew(0,a-1).map(function(){return-1/0})),[m]);return n>r?Nw(g):g}if(f===m)return iQ(f,a,s);var y=v4(f,m,l,s),x=y.step,S=y.tickMin,_=y.tickMax,b=jm.rangeStep(S,_.add(new At(.1).mul(x)),x);return n>r?Nw(b):b}function oQ(e,t){var n=Fu(e,2),r=n[0],a=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=p4([r,a]),u=Fu(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[r,a];if(d===f)return[d];var m=Math.max(t,2),g=m4(new At(f).sub(d).div(m-1),s,0),y=[].concat(Cw(jm.rangeStep(new At(d),new At(f).sub(new At(.99).mul(g)),g)),[f]);return r>a?Nw(y):y}var sQ=d4(aQ),lQ=d4(oQ),cQ="Invariant failed";function ko(e,t){throw new Error(cQ)}var uQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(this,arguments)}function fQ(e,t){return mQ(e)||pQ(e,t)||hQ(e,t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(e,t){if(e){if(typeof e=="string")return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function mQ(e){if(Array.isArray(e))return e}function vQ(e,t){if(e==null)return{};var n=gQ(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gQ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x4(r.key),r)}}function bQ(e,t,n){return t&&xQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wQ(e,t,n){return t=rp(t),_Q(e,g4()?Reflect.construct(t,n||[],rp(e).constructor):t.apply(e,n))}function _Q(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(e)}function SQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Mw(e,t)}function y4(e,t,n){return t=x4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x4(e){var t=AQ(e,"string");return hl(t)=="symbol"?t:t+""}function AQ(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xl=(function(e){function t(){return yQ(this,t),wQ(this,t,arguments)}return jQ(t,e),bQ(t,[{key:"render",value:function(){var r=this.props,a=r.offset,s=r.layout,l=r.width,u=r.dataKey,d=r.data,f=r.dataPointFormatter,m=r.xAxis,g=r.yAxis,y=vQ(r,uQ),x=Be(y,!1);this.props.direction==="x"&&m.type!=="number"&&ko();var S=d.map(function(_){var b=f(_,u),j=b.x,O=b.y,T=b.value,E=b.errorVal;if(!E)return null;var N=[],C,R;if(Array.isArray(E)){var M=fQ(E,2);C=M[0],R=M[1]}else C=R=E;if(s==="vertical"){var P=m.scale,B=O+a,D=B+l,I=B-l,z=P(T-C),L=P(T+R);N.push({x1:L,y1:D,x2:L,y2:I}),N.push({x1:z,y1:B,x2:L,y2:B}),N.push({x1:z,y1:D,x2:z,y2:I})}else if(s==="horizontal"){var H=g.scale,k=j+a,U=k-l,G=k+l,V=H(T-C),F=H(T+R);N.push({x1:U,y1:F,x2:G,y2:F}),N.push({x1:k,y1:V,x2:k,y2:F}),N.push({x1:U,y1:V,x2:G,y2:V})}return Z.createElement(ot,np({className:"recharts-errorBar",key:"bar-".concat(N.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},x),N.map(function(X){return Z.createElement("line",np({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return Z.createElement(ot,{className:"recharts-errorBars"},S)}}])})(Z.Component);y4(Xl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});y4(Xl,"displayName","ErrorBar");function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){OQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OQ(e,t,n){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=NQ(e,"string");return Hu(t)=="symbol"?t:t+""}function NQ(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b4=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,l=rr(n,Ws);if(!l)return null;var u=Ws.defaultProps,d=u!==void 0?ho(ho({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(r||[]).reduce(function(m,g){var y=g.item,x=g.props,S=x.sectors||x.data||[];return m.concat(S.map(function(_){return{type:l.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):f=(r||[]).map(function(m){var g=m.item,y=g.type.defaultProps,x=y!==void 0?ho(ho({},y),g.props):{},S=x.dataKey,_=x.name,b=x.legendType,j=x.hide;return{inactive:j,dataKey:S,type:d.iconType||b||"square",color:$S(g),value:_||S,payload:x}}),ho(ho(ho({},d),Ws.getWithHeight(l,a)),{},{payload:f,item:l})};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function NR(e){return RQ(e)||MQ(e)||TQ(e)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(e,t){if(e){if(typeof e=="string")return Rw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(e,t)}}function MQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RQ(e){if(Array.isArray(e))return Rw(e)}function Rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){el(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function el(e,t,n){return t=PQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=kQ(e,"string");return Vu(t)=="symbol"?t:t+""}function kQ(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,n){return He(e)||He(t)?n:rn(t)?lr(e,t,n):Ke(t)?t(e):n}function bu(e,t,n,r){var a=RZ(e,function(u){return qt(u,t)});if(n==="number"){var s=a.filter(function(u){return Ee(u)||parseFloat(u)});return s.length?[_m(s),wm(s)]:[1/0,-1/0]}var l=r?a.filter(function(u){return!He(u)}):a;return l.map(function(u){return rn(u)||u instanceof Date?u:""})}var DQ=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<u;f++){var m=f>0?a[f-1].coordinate:a[u-1].coordinate,g=a[f].coordinate,y=f>=u-1?a[0].coordinate:a[f+1].coordinate,x=void 0;if(Mn(g-m)!==Mn(y-g)){var S=[];if(Mn(y-g)===Mn(d[1]-d[0])){x=y;var _=g+d[1]-d[0];S[0]=Math.min(_,(_+m)/2),S[1]=Math.max(_,(_+m)/2)}else{x=m;var b=y+d[1]-d[0];S[0]=Math.min(g,(b+g)/2),S[1]=Math.max(g,(b+g)/2)}var j=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(t>j[0]&&t<=j[1]||t>=S[0]&&t<=S[1]){l=a[f].index;break}}else{var O=Math.min(m,y),T=Math.max(m,y);if(t>(O+g)/2&&t<=(T+g)/2){l=a[f].index;break}}}else for(var E=0;E<u;E++)if(E===0&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<u-1&&t>(r[E].coordinate+r[E-1].coordinate)/2&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E===u-1&&t>(r[E].coordinate+r[E-1].coordinate)/2){l=r[E].index;break}return l},$S=function(t){var n,r=t,a=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,l=s.stroke,u=s.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},$Q=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var l={},u=Object.keys(s),d=0,f=u.length;d<f;d++)for(var m=s[u[d]].stackGroups,g=Object.keys(m),y=0,x=g.length;y<x;y++){var S=m[g[y]],_=S.items,b=S.cateAxisId,j=_.filter(function(R){return Ui(R.type).indexOf("Bar")>=0});if(j&&j.length){var O=j[0].type.defaultProps,T=O!==void 0?Ht(Ht({},O),j[0].props):j[0].props,E=T.barSize,N=T[b];l[N]||(l[N]=[]);var C=He(E)?n:E;l[N].push({item:j[0],stackList:j.slice(1),barSize:He(C)?void 0:Rn(C,r,0)})}}return l},IQ=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Rn(n,a,0,!0),m,g=[];if(l[0].barSize===+l[0].barSize){var y=!1,x=a/d,S=l.reduce(function(E,N){return E+N.barSize||0},0);S+=(d-1)*f,S>=a&&(S-=(d-1)*f,f=0),S>=a&&x>0&&(y=!0,x*=.9,S=d*x);var _=(a-S)/2>>0,b={offset:_-f,size:0};m=l.reduce(function(E,N){var C={item:N.item,position:{offset:b.offset+b.size+f,size:y?x:N.barSize}},R=[].concat(NR(E),[C]);return b=R[R.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(M){R.push({item:M,position:b})}),R},g)}else{var j=Rn(r,a,0,!0);a-2*j-(d-1)*f<=0&&(f=0);var O=(a-2*j-(d-1)*f)/d;O>1&&(O>>=0);var T=u===+u?Math.min(O,u):O;m=l.reduce(function(E,N,C){var R=[].concat(NR(E),[{item:N.item,position:{offset:j+(O+f)*C+(O-T)/2,size:T}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(M){R.push({item:M,position:R[R.length-1].position})}),R},g)}return m},LQ=function(t,n,r,a){var s=r.children,l=r.width,u=r.margin,d=l-(u.left||0)-(u.right||0),f=b4({children:s,legendWidth:d});if(f){var m=a||{},g=m.width,y=m.height,x=f.align,S=f.verticalAlign,_=f.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&x!=="center"&&Ee(t[x]))return Ht(Ht({},t),{},el({},x,t[x]+(g||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&S!=="middle"&&Ee(t[S]))return Ht(Ht({},t),{},el({},S,t[S]+(y||0)))}return t},zQ=function(t,n,r){return He(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},w4=function(t,n,r,a,s){var l=n.props.children,u=kn(l,Xl).filter(function(f){return zQ(a,s,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,m){var g=qt(m,r);if(He(g))return f;var y=Array.isArray(g)?[_m(g),wm(g)]:[g,g],x=d.reduce(function(S,_){var b=qt(m,_,0),j=y[0]-Math.abs(Array.isArray(b)?b[0]:b),O=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(j,S[0]),Math.max(O,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},BQ=function(t,n,r,a,s){var l=n.map(function(u){return w4(t,u,r,s,a)}).filter(function(u){return!He(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},_4=function(t,n,r,a,s){var l=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&w4(t,d,f,a)||bu(t,f,r,s)});if(r==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var m=0,g=f.length;m<g;m++)u[f[m]]||(u[f[m]]=!0,d.push(f[m]));return d},[])},S4=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},j4=function(t,n,r,a){if(a)return t.map(function(d){return d.coordinate});var s,l,u=t.map(function(d){return d.coordinate===n&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate});return s||u.push(n),l||u.push(r),u},Bi=function(t,n,r){if(!t)return null;var a=t.scale,s=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(n||r)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Mn(u[0]-u[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(g){var y=s?s.indexOf(g):g;return{coordinate:a(y)+f,value:g,offset:f}});return m.filter(function(g){return!wf(g.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(g,y){return{coordinate:a(g)+f,value:g,index:y,offset:f}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(g){return{coordinate:a(g)+f,value:g,offset:f}}):a.domain().map(function(g,y){return{coordinate:a(g)+f,value:s?s[g]:g,index:y,offset:f}})},Gb=new WeakMap,oh=function(t,n){if(typeof n!="function")return t;Gb.has(t)||Gb.set(t,new WeakMap);var r=Gb.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},A4=function(t,n,r){var a=t.scale,s=t.type,l=t.layout,u=t.axisType;if(a==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Lu(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:jr(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xu(),realScaleType:"point"}:s==="category"?{scale:Lu(),realScaleType:"band"}:{scale:jr(),realScaleType:"linear"};if(To(a)){var d="scale".concat(om(a));return{scale:(pR[d]||xu)(),realScaleType:pR[d]?d:"point"}}return Ke(a)?{scale:a}:{scale:xu(),realScaleType:"point"}},TR=1e-4,O4=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),s=Math.min(a[0],a[1])-TR,l=Math.max(a[0],a[1])+TR,u=t(n[0]),d=t(n[r-1]);(u<s||u>l||d<s||d>l)&&t.domain([n[0],n[r-1]])}},qQ=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},UQ=function(t,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),s=[t[0],t[1]];return(!Ee(t[0])||t[0]<r)&&(s[0]=r),(!Ee(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},FQ=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var s=0,l=0,u=0;u<n;++u){var d=wf(t[u][r][1])?t[u][r][0]:t[u][r][1];d>=0?(t[u][r][0]=s,t[u][r][1]=s+d,s=t[u][r][1]):(t[u][r][0]=l,t[u][r][1]=l+d,l=t[u][r][1])}},HQ=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var s=0,l=0;l<n;++l){var u=wf(t[l][r][1])?t[l][r][0]:t[l][r][1];u>=0?(t[l][r][0]=s,t[l][r][1]=s+u,s=t[l][r][1]):(t[l][r][0]=0,t[l][r][1]=0)}},VQ={sign:FQ,expand:yV,none:il,silhouette:xV,wiggle:bV,positive:HQ},GQ=function(t,n,r){var a=n.map(function(u){return u.props.dataKey}),s=VQ[r],l=BI().keys(a).value(function(u,d){return+qt(u,d,0)}).order(sw).offset(s);return l(t)},KQ=function(t,n,r,a,s,l){if(!t)return null;var u=l?n.reverse():n,d={},f=u.reduce(function(g,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Ht(Ht({},y.type.defaultProps),y.props):y.props,_=S.stackId,b=S.hide;if(b)return g;var j=S[r],O=g[j]||{hasStack:!1,stackGroups:{}};if(rn(_)){var T=O.stackGroups[_]||{numericAxisId:r,cateAxisId:a,items:[]};T.items.push(y),O.hasStack=!0,O.stackGroups[_]=T}else O.stackGroups[qo("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Ht(Ht({},g),{},el({},j,O))},d),m={};return Object.keys(f).reduce(function(g,y){var x=f[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var j=x.stackGroups[b];return Ht(Ht({},_),{},el({},b,{numericAxisId:r,cateAxisId:a,items:j.items,stackedData:GQ(t,j.items,s)}))},S)}return Ht(Ht({},g),{},el({},y,x))},m)},E4=function(t,n){var r=n.realScaleType,a=n.type,s=n.tickCount,l=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var m=sQ(f,s,u);return t.domain([_m(m),wm(m)]),{niceTicks:m}}if(s&&a==="number"){var g=t.domain(),y=lQ(g,s,u);return{niceTicks:y}}return null};function ip(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,s=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(a[t.dataKey])){var u=Ph(n,"value",a[t.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=qt(a,He(l)?t.dataKey:l);return He(d)?null:t.scale(d)}var MR=function(t){var n=t.axis,r=t.ticks,a=t.offset,s=t.bandSize,l=t.entry,u=t.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var d=qt(l,n.dataKey,n.domain[u]);return He(d)?null:n.scale(d)-s/2+a},YQ=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},XQ=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(rn(s)){var l=n[s];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},WQ=function(t){return t.reduce(function(n,r){return[_m(r.concat([n[0]]).filter(Ee)),wm(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},N4=function(t,n,r){return Object.keys(t).reduce(function(a,s){var l=t[s],u=l.stackedData,d=u.reduce(function(f,m){var g=WQ(m.slice(n,r+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},RR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pw=function(t,n,r){if(Ke(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ee(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(RR.test(t[0])){var s=+RR.exec(t[0])[1];a[0]=n[0]-s}else Ke(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ee(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(PR.test(t[1])){var l=+PR.exec(t[1])[1];a[1]=n[1]+l}else Ke(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},ap=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var s=fS(n,function(g){return g.coordinate}),l=1/0,u=1,d=s.length;u<d;u++){var f=s[u],m=s[u-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},kR=function(t,n,r){return!t||!t.length||Gl(t,lr(r,"type.defaultProps.domain"))?n:t},C4=function(t,n){var r=t.type.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,a=r.dataKey,s=r.name,l=r.unit,u=r.formatter,d=r.tooltipType,f=r.chartType,m=r.hide;return Ht(Ht({},Be(t,!1)),{},{dataKey:a,unit:l,formatter:u,name:s||a,color:$S(t),value:qt(n,a),type:d,payload:n,chartType:f,hide:m})};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){T4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T4(e,t,n){return t=ZQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZQ(e){var t=QQ(e,"string");return Gu(t)=="symbol"?t:t+""}function QQ(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JQ(e,t){return rJ(e)||nJ(e,t)||tJ(e,t)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(e,t){if(e){if(typeof e=="string")return $R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(e,t)}}function $R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function rJ(e){if(Array.isArray(e))return e}var op=Math.PI/180,iJ=function(t){return t*180/Math.PI},Pt=function(t,n,r,a){return{x:t+Math.cos(-op*a)*r,y:n+Math.sin(-op*a)*r}},M4=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aJ=function(t,n,r,a,s){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,m=Rn(t.cx,l,l/2),g=Rn(t.cy,u,u/2),y=M4(l,u,r),x=Rn(t.innerRadius,y,0),S=Rn(t.outerRadius,y,y*.8),_=Object.keys(n);return _.reduce(function(b,j){var O=n[j],T=O.domain,E=O.reversed,N;if(He(O.range))a==="angleAxis"?N=[d,f]:a==="radiusAxis"&&(N=[x,S]),E&&(N=[N[1],N[0]]);else{N=O.range;var C=N,R=JQ(C,2);d=R[0],f=R[1]}var M=A4(O,s),P=M.realScaleType,B=M.scale;B.domain(T).range(N),O4(B);var D=E4(B,$i($i({},O),{},{realScaleType:P})),I=$i($i($i({},O),D),{},{range:N,radius:S,realScaleType:P,scale:B,cx:m,cy:g,innerRadius:x,outerRadius:S,startAngle:d,endAngle:f});return $i($i({},b),{},T4({},j,I))},{})},oJ=function(t,n){var r=t.x,a=t.y,s=n.x,l=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(a-l,2))},sJ=function(t,n){var r=t.x,a=t.y,s=n.cx,l=n.cy,u=oJ({x:r,y:a},{x:s,y:l});if(u<=0)return{radius:u};var d=(r-s)/u,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:u,angle:iJ(f),angleInRadian:f}},lJ=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return{startAngle:n-l*360,endAngle:r-l*360}},cJ=function(t,n){var r=n.startAngle,a=n.endAngle,s=Math.floor(r/360),l=Math.floor(a/360),u=Math.min(s,l);return t+u*360},IR=function(t,n){var r=t.x,a=t.y,s=sJ({x:r,y:a},n),l=s.radius,u=s.angle,d=n.innerRadius,f=n.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var m=lJ(n),g=m.startAngle,y=m.endAngle,x=u,S;if(g<=y){for(;x>y;)x-=360;for(;x<g;)x+=360;S=x>=g&&x<=y}else{for(;x>g;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=g}return S?$i($i({},n),{},{radius:l,angle:cJ(x,n)}):null},R4=function(t){return!$.isValidElement(t)&&!Ke(t)&&typeof t!="boolean"?t.className:""};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var uJ=["offset"];function fJ(e){return mJ(e)||pJ(e)||hJ(e)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(e,t){if(e){if(typeof e=="string")return kw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(e,t)}}function pJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mJ(e){if(Array.isArray(e))return kw(e)}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vJ(e,t){if(e==null)return{};var n=gJ(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){yJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t,n){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xJ(e){var t=bJ(e,"string");return Ku(t)=="symbol"?t:t+""}function bJ(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}var wJ=function(t){var n=t.value,r=t.formatter,a=He(t.children)?n:t.children;return Ke(r)?r(a):a},_J=function(t,n){var r=Mn(n-t),a=Math.min(Math.abs(n-t),360);return r*a},SJ=function(t,n,r){var a=t.position,s=t.viewBox,l=t.offset,u=t.className,d=s,f=d.cx,m=d.cy,g=d.innerRadius,y=d.outerRadius,x=d.startAngle,S=d.endAngle,_=d.clockWise,b=(g+y)/2,j=_J(x,S),O=j>=0?1:-1,T,E;a==="insideStart"?(T=x+O*l,E=_):a==="insideEnd"?(T=S-O*l,E=!_):a==="end"&&(T=S+O*l,E=_),E=j<=0?E:!E;var N=Pt(f,m,b,T),C=Pt(f,m,b,T+(E?1:-1)*359),R="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),M=He(t.id)?qo("recharts-radial-line-"):t.id;return Z.createElement("text",Yu({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),Z.createElement("defs",null,Z.createElement("path",{id:M,d:R})),Z.createElement("textPath",{xlinkHref:"#".concat(M)},n))},jJ=function(t){var n=t.viewBox,r=t.offset,a=t.position,s=n,l=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,m=s.startAngle,g=s.endAngle,y=(m+g)/2;if(a==="outside"){var x=Pt(l,u,f+r,y),S=x.x,_=x.y;return{x:S,y:_,textAnchor:S>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,j=Pt(l,u,b,y),O=j.x,T=j.y;return{x:O,y:T,textAnchor:"middle",verticalAnchor:"middle"}},AJ=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,s=t.position,l=n,u=l.x,d=l.y,f=l.width,m=l.height,g=m>=0?1:-1,y=g*a,x=g>0?"end":"start",S=g>0?"start":"end",_=f>=0?1:-1,b=_*a,j=_>0?"end":"start",O=_>0?"start":"end";if(s==="top"){var T={x:u+f/2,y:d-g*a,textAnchor:"middle",verticalAnchor:x};return tn(tn({},T),r?{height:Math.max(d-r.y,0),width:f}:{})}if(s==="bottom"){var E={x:u+f/2,y:d+m+y,textAnchor:"middle",verticalAnchor:S};return tn(tn({},E),r?{height:Math.max(r.y+r.height-(d+m),0),width:f}:{})}if(s==="left"){var N={x:u-b,y:d+m/2,textAnchor:j,verticalAnchor:"middle"};return tn(tn({},N),r?{width:Math.max(N.x-r.x,0),height:m}:{})}if(s==="right"){var C={x:u+f+b,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return tn(tn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:m}:{})}var R=r?{width:f,height:m}:{};return s==="insideLeft"?tn({x:u+b,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},R):s==="insideRight"?tn({x:u+f-b,y:d+m/2,textAnchor:j,verticalAnchor:"middle"},R):s==="insideTop"?tn({x:u+f/2,y:d+y,textAnchor:"middle",verticalAnchor:S},R):s==="insideBottom"?tn({x:u+f/2,y:d+m-y,textAnchor:"middle",verticalAnchor:x},R):s==="insideTopLeft"?tn({x:u+b,y:d+y,textAnchor:O,verticalAnchor:S},R):s==="insideTopRight"?tn({x:u+f-b,y:d+y,textAnchor:j,verticalAnchor:S},R):s==="insideBottomLeft"?tn({x:u+b,y:d+m-y,textAnchor:O,verticalAnchor:x},R):s==="insideBottomRight"?tn({x:u+f-b,y:d+m-y,textAnchor:j,verticalAnchor:x},R):Ul(s)&&(Ee(s.x)||xo(s.x))&&(Ee(s.y)||xo(s.y))?tn({x:u+Rn(s.x,f),y:d+Rn(s.y,m),textAnchor:"end",verticalAnchor:"end"},R):tn({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},OJ=function(t){return"cx"in t&&Ee(t.cx)};function fn(e){var t=e.offset,n=t===void 0?5:t,r=vJ(e,uJ),a=tn({offset:n},r),s=a.viewBox,l=a.position,u=a.value,d=a.children,f=a.content,m=a.className,g=m===void 0?"":m,y=a.textBreakAll;if(!s||He(u)&&He(d)&&!$.isValidElement(f)&&!Ke(f))return null;if($.isValidElement(f))return $.cloneElement(f,a);var x;if(Ke(f)){if(x=$.createElement(f,a),$.isValidElement(x))return x}else x=wJ(a);var S=OJ(s),_=Be(a,!0);if(S&&(l==="insideStart"||l==="insideEnd"||l==="end"))return SJ(a,x,_);var b=S?jJ(a):AJ(a);return Z.createElement(Mo,Yu({className:Xe("recharts-label",g)},_,b,{breakAll:y}),x)}fn.displayName="Label";var P4=function(t){var n=t.cx,r=t.cy,a=t.angle,s=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,m=t.outerRadius,g=t.x,y=t.y,x=t.top,S=t.left,_=t.width,b=t.height,j=t.clockWise,O=t.labelViewBox;if(O)return O;if(Ee(_)&&Ee(b)){if(Ee(g)&&Ee(y))return{x:g,y,width:_,height:b};if(Ee(x)&&Ee(S))return{x,y:S,width:_,height:b}}return Ee(g)&&Ee(y)?{x:g,y,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:s||a||0,endAngle:l||a||0,innerRadius:f||0,outerRadius:m||d||u||0,clockWise:j}:t.viewBox?t.viewBox:{}},EJ=function(t,n){return t?t===!0?Z.createElement(fn,{key:"label-implicit",viewBox:n}):rn(t)?Z.createElement(fn,{key:"label-implicit",viewBox:n,value:t}):$.isValidElement(t)?t.type===fn?$.cloneElement(t,{key:"label-implicit",viewBox:n}):Z.createElement(fn,{key:"label-implicit",content:t,viewBox:n}):Ke(t)?Z.createElement(fn,{key:"label-implicit",content:t,viewBox:n}):Ul(t)?Z.createElement(fn,Yu({viewBox:n},t,{key:"label-implicit"})):null:null},NJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,s=P4(t),l=kn(a,fn).map(function(d,f){return $.cloneElement(d,{viewBox:n||s,key:"label-".concat(f)})});if(!r)return l;var u=EJ(t.label,n||s);return[u].concat(fJ(l))};fn.parseViewBox=P4;fn.renderCallByParent=NJ;var Kb,zR;function CJ(){if(zR)return Kb;zR=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Kb=e,Kb}var TJ=CJ();const MJ=vt(TJ);function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var RJ=["valueAccessor"],PJ=["data","dataKey","clockWise","id","textBreakAll"];function kJ(e){return LJ(e)||IJ(e)||$J(e)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $J(e,t){if(e){if(typeof e=="string")return Dw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(e,t)}}function IJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LJ(e){if(Array.isArray(e))return Dw(e)}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sp.apply(this,arguments)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return t=BJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e){var t=qJ(e,"string");return Xu(t)=="symbol"?t:t+""}function qJ(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UR(e,t){if(e==null)return{};var n=UJ(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var FJ=function(t){return Array.isArray(t.value)?MJ(t.value):t.value};function oi(e){var t=e.valueAccessor,n=t===void 0?FJ:t,r=UR(e,RJ),a=r.data,s=r.dataKey,l=r.clockWise,u=r.id,d=r.textBreakAll,f=UR(r,PJ);return!a||!a.length?null:Z.createElement(ot,{className:"recharts-label-list"},a.map(function(m,g){var y=He(s)?n(m,g):qt(m&&m.payload,s),x=He(u)?{}:{id:"".concat(u,"-").concat(g)};return Z.createElement(fn,sp({},Be(m,!0),f,x,{parentViewBox:m.parentViewBox,value:y,textBreakAll:d,viewBox:fn.parseViewBox(He(l)?m:qR(qR({},m),{},{clockWise:l})),key:"label-".concat(g),index:g}))}))}oi.displayName="LabelList";function HJ(e,t){return e?e===!0?Z.createElement(oi,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||Ke(e)?Z.createElement(oi,{key:"labelList-implicit",data:t,content:e}):Ul(e)?Z.createElement(oi,sp({data:t},e,{key:"labelList-implicit"})):null:null}function VJ(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=kn(r,oi).map(function(l,u){return $.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!n)return a;var s=HJ(e.label,t);return[s].concat(kJ(a))}oi.renderCallByParent=VJ;function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return t=KJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=YJ(e,"string");return Wu(t)=="symbol"?t:t+""}function YJ(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XJ=function(t,n){var r=Mn(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},sh=function(t){var n=t.cx,r=t.cy,a=t.radius,s=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,m=d*(u?1:-1)+a,g=Math.asin(d/m)/op,y=f?s:s+l*g,x=Pt(n,r,m,y),S=Pt(n,r,a,y),_=f?s-l*g:s,b=Pt(n,r,m*Math.cos(g*op),_);return{center:x,circleTangency:S,lineTangency:b,theta:g}},k4=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,s=t.outerRadius,l=t.startAngle,u=t.endAngle,d=XJ(l,u),f=l+d,m=Pt(n,r,s,l),g=Pt(n,r,s,f),y="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(a>0){var x=Pt(n,r,a,l),S=Pt(n,r,a,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},WJ=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,m=t.endAngle,g=Mn(m-f),y=sh({cx:n,cy:r,radius:s,angle:f,sign:g,cornerRadius:l,cornerIsExternal:d}),x=y.circleTangency,S=y.lineTangency,_=y.theta,b=sh({cx:n,cy:r,radius:s,angle:m,sign:-g,cornerRadius:l,cornerIsExternal:d}),j=b.circleTangency,O=b.lineTangency,T=b.theta,E=d?Math.abs(f-m):Math.abs(f-m)-_-T;if(E<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):k4({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var N="M ".concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(O.x,",").concat(O.y,`
  `);if(a>0){var C=sh({cx:n,cy:r,radius:a,angle:f,sign:g,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=C.circleTangency,M=C.lineTangency,P=C.theta,B=sh({cx:n,cy:r,radius:a,angle:m,sign:-g,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),D=B.circleTangency,I=B.lineTangency,z=B.theta,L=d?Math.abs(f-m):Math.abs(f-m)-P-z;if(L<0&&l===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(g>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(g<0),",").concat(M.x,",").concat(M.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},ZJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D4=function(t){var n=HR(HR({},ZJ),t),r=n.cx,a=n.cy,s=n.innerRadius,l=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,m=n.startAngle,g=n.endAngle,y=n.className;if(l<s||m===g)return null;var x=Xe("recharts-sector",y),S=l-s,_=Rn(u,S,0,!0),b;return _>0&&Math.abs(m-g)<360?b=WJ({cx:r,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(_,S/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g}):b=k4({cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:g}),Z.createElement("path",$w({},Be(n,!0),{className:x,d:b,role:"img"}))};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(this,arguments)}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(r){QJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QJ(e,t,n){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JJ(e){var t=eee(e,"string");return Zu(t)=="symbol"?t:t+""}function eee(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR={curveBasisClosed:sV,curveBasisOpen:lV,curveBasis:oV,curveBumpX:G9,curveBumpY:K9,curveLinearClosed:cV,curveLinear:lm,curveMonotoneX:uV,curveMonotoneY:fV,curveNatural:dV,curveStep:hV,curveStepAfter:mV,curveStepBefore:pV},lh=function(t){return t.x===+t.x&&t.y===+t.y},tu=function(t){return t.x},nu=function(t){return t.y},tee=function(t,n){if(Ke(t))return t;var r="curve".concat(om(t));return(r==="curveMonotone"||r==="curveBump")&&n?KR["".concat(r).concat(n==="vertical"?"Y":"X")]:KR[r]||lm},nee=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,s=a===void 0?[]:a,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,m=tee(r,u),g=f?s.filter(function(_){return lh(_)}):s,y;if(Array.isArray(l)){var x=f?l.filter(function(_){return lh(_)}):l,S=g.map(function(_,b){return GR(GR({},_),{},{base:x[b]})});return u==="vertical"?y=Qd().y(nu).x1(tu).x0(function(_){return _.base.x}):y=Qd().x(tu).y1(nu).y0(function(_){return _.base.y}),y.defined(lh).curve(m),y(S)}return u==="vertical"&&Ee(l)?y=Qd().y(nu).x1(tu).x0(l):Ee(l)?y=Qd().x(tu).y1(nu).y0(l):y=CI().x(tu).y(nu),y.defined(lh).curve(m),y(g)},Qu=function(t){var n=t.className,r=t.points,a=t.path,s=t.pathRef;if((!r||!r.length)&&!a)return null;var l=r&&r.length?nee(t):a;return $.createElement("path",Iw({},Be(t,!1),kh(t),{className:Xe("recharts-curve",n),d:l,ref:s}))},Yb={exports:{}},Xb,YR;function ree(){if(YR)return Xb;YR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xb=e,Xb}var Wb,XR;function iee(){if(XR)return Wb;XR=1;var e=ree();function t(){}function n(){}return n.resetWarningCache=t,Wb=function(){function r(l,u,d,f,m,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Wb}var WR;function aee(){return WR||(WR=1,Yb.exports=iee()()),Yb.exports}var oee=aee();const yt=vt(oee);var see=Object.getOwnPropertyNames,lee=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty;function ZR(e,t){return function(r,a,s){return e(r,a,s)&&t(r,a,s)}}function ch(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var s=a.cache,l=s.get(n),u=s.get(r);if(l&&u)return l===r&&u===n;s.set(n,r),s.set(r,n);var d=e(n,r,a);return s.delete(n),s.delete(r),d}}function uee(e){return e!=null?e[Symbol.toStringTag]:void 0}function QR(e){return see(e).concat(lee(e))}var fee=Object.hasOwn||(function(e,t){return cee.call(e,t)});function Ho(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dee="__v",hee="__o",pee="_owner",JR=Object.getOwnPropertyDescriptor,eP=Object.keys;function mee(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function vee(e,t){return Ho(e.getTime(),t.getTime())}function gee(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yee(e,t){return e===t}function tP(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),s=e.entries(),l,u,d=0;(l=s.next())&&!l.done;){for(var f=t.entries(),m=!1,g=0;(u=f.next())&&!u.done;){if(a[g]){g++;continue}var y=l.value,x=u.value;if(n.equals(y[0],x[0],d,g,e,t,n)&&n.equals(y[1],x[1],y[0],x[0],e,t,n)){m=a[g]=!0;break}g++}if(!m)return!1;d++}return!0}var xee=Ho;function bee(e,t,n){var r=eP(e),a=r.length;if(eP(t).length!==a)return!1;for(;a-- >0;)if(!$4(e,t,n,r[a]))return!1;return!0}function ru(e,t,n){var r=QR(e),a=r.length;if(QR(t).length!==a)return!1;for(var s,l,u;a-- >0;)if(s=r[a],!$4(e,t,n,s)||(l=JR(e,s),u=JR(t,s),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function wee(e,t){return Ho(e.valueOf(),t.valueOf())}function _ee(e,t){return e.source===t.source&&e.flags===t.flags}function nP(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),s=e.values(),l,u;(l=s.next())&&!l.done;){for(var d=t.values(),f=!1,m=0;(u=d.next())&&!u.done;){if(!a[m]&&n.equals(l.value,u.value,l.value,u.value,e,t,n)){f=a[m]=!0;break}m++}if(!f)return!1}return!0}function See(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function jee(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $4(e,t,n,r){return(r===pee||r===hee||r===dee)&&(e.$$typeof||t.$$typeof)?!0:fee(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Aee="[object Arguments]",Oee="[object Boolean]",Eee="[object Date]",Nee="[object Error]",Cee="[object Map]",Tee="[object Number]",Mee="[object Object]",Ree="[object RegExp]",Pee="[object Set]",kee="[object String]",Dee="[object URL]",$ee=Array.isArray,rP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iP=Object.assign,Iee=Object.prototype.toString.call.bind(Object.prototype.toString);function Lee(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,g=e.areTypedArraysEqual,y=e.areUrlsEqual,x=e.unknownTagComparators;return function(_,b,j){if(_===b)return!0;if(_==null||b==null)return!1;var O=typeof _;if(O!==typeof b)return!1;if(O!=="object")return O==="number"?l(_,b,j):O==="function"?a(_,b,j):!1;var T=_.constructor;if(T!==b.constructor)return!1;if(T===Object)return u(_,b,j);if($ee(_))return t(_,b,j);if(rP!=null&&rP(_))return g(_,b,j);if(T===Date)return n(_,b,j);if(T===RegExp)return f(_,b,j);if(T===Map)return s(_,b,j);if(T===Set)return m(_,b,j);var E=Iee(_);if(E===Eee)return n(_,b,j);if(E===Ree)return f(_,b,j);if(E===Cee)return s(_,b,j);if(E===Pee)return m(_,b,j);if(E===Mee)return typeof _.then!="function"&&typeof b.then!="function"&&u(_,b,j);if(E===Dee)return y(_,b,j);if(E===Nee)return r(_,b,j);if(E===Aee)return u(_,b,j);if(E===Oee||E===Tee||E===kee)return d(_,b,j);if(x){var N=x[E];if(!N){var C=uee(_);C&&(N=x[C])}if(N)return N(_,b,j)}return!1}}function zee(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?ru:mee,areDatesEqual:vee,areErrorsEqual:gee,areFunctionsEqual:yee,areMapsEqual:r?ZR(tP,ru):tP,areNumbersEqual:xee,areObjectsEqual:r?ru:bee,arePrimitiveWrappersEqual:wee,areRegExpsEqual:_ee,areSetsEqual:r?ZR(nP,ru):nP,areTypedArraysEqual:r?ru:See,areUrlsEqual:jee,unknownTagComparators:void 0};if(n&&(a=iP({},a,n(a))),t){var s=ch(a.areArraysEqual),l=ch(a.areMapsEqual),u=ch(a.areObjectsEqual),d=ch(a.areSetsEqual);a=iP({},a,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return a}function Bee(e){return function(t,n,r,a,s,l,u){return e(t,n,u)}}function qee(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(d,f){var m=r(),g=m.cache,y=g===void 0?t?new WeakMap:void 0:g,x=m.meta;return n(d,f,{cache:y,equals:a,meta:x,strict:s})};if(t)return function(d,f){return n(d,f,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var l={cache:void 0,equals:a,meta:void 0,strict:s};return function(d,f){return n(d,f,l)}}var Uee=Va();Va({strict:!0});Va({circular:!0});Va({circular:!0,strict:!0});Va({createInternalComparator:function(){return Ho}});Va({strict:!0,createInternalComparator:function(){return Ho}});Va({circular:!0,createInternalComparator:function(){return Ho}});Va({circular:!0,createInternalComparator:function(){return Ho},strict:!0});function Va(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,s=e.strict,l=s===void 0?!1:s,u=zee(e),d=Lee(u),f=r?r(d):Bee(d);return qee({circular:n,comparator:d,createState:a,equals:f,strict:l})}function Fee(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(s){n<0&&(n=s),s-n>t?(e(s),n=-1):Fee(a)};requestAnimationFrame(r)}function Lw(e){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lw(e)}function Hee(e){return Yee(e)||Kee(e)||Gee(e)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(e,t){if(e){if(typeof e=="string")return oP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(e,t)}}function oP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yee(e){if(Array.isArray(e))return e}function Xee(){var e={},t=function(){return null},n=!1,r=function a(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,u=Hee(l),d=u[0],f=u.slice(1);if(typeof d=="number"){aP(a.bind(null,f),d);return}a(d),aP(a.bind(null,f));return}Lw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){I4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I4(e,t,n){return t=Wee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=Zee(e,"string");return Ju(t)==="symbol"?t:String(t)}function Zee(e,t){if(Ju(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(s){return a.includes(s)})})},Jee=function(t){return t},ete=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wu=function(t,n){return Object.keys(n).reduce(function(r,a){return lP(lP({},r),{},I4({},a,t(a,n[a])))},{})},cP=function(t,n,r){return t.map(function(a){return"".concat(ete(a)," ").concat(n,"ms ").concat(r)}).join(",")};function tte(e,t){return ite(e)||rte(e,t)||L4(e,t)||nte()}function nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function ite(e){if(Array.isArray(e))return e}function ate(e){return lte(e)||ste(e)||L4(e)||ote()}function ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4(e,t){if(e){if(typeof e=="string")return zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(e,t)}}function ste(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lte(e){if(Array.isArray(e))return zw(e)}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lp=1e-4,z4=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},B4=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},uP=function(t,n){return function(r){var a=z4(t,n);return B4(a,r)}},cte=function(t,n){return function(r){var a=z4(t,n),s=[].concat(ate(a.map(function(l,u){return l*u}).slice(1)),[0]);return B4(s,r)}},fP=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],s=n[1],l=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,s=0,l=1,u=1;break;case"ease":a=.25,s=.1,l=.25,u=1;break;case"ease-in":a=.42,s=0,l=1,u=1;break;case"ease-out":a=.42,s=0,l=.58,u=1;break;case"ease-in-out":a=0,s=0,l=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),m=tte(f,4);a=m[0],s=m[1],l=m[2],u=m[3]}}}var g=uP(a,l),y=uP(s,u),x=cte(a,l),S=function(j){return j>1?1:j<0?0:j},_=function(j){for(var O=j>1?1:j,T=O,E=0;E<8;++E){var N=g(T)-O,C=x(T);if(Math.abs(N-O)<lp||C<lp)return y(T);T=S(T-N/C)}return y(T)};return _.isStepper=!1,_},ute=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,s=a===void 0?8:a,l=t.dt,u=l===void 0?17:l,d=function(m,g,y){var x=-(m-g)*r,S=y*s,_=y+(x-S)*u/1e3,b=y*u/1e3+m;return Math.abs(b-g)<lp&&Math.abs(_)<lp?[g,0]:[b,_]};return d.isStepper=!0,d.dt=u,d},fte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fP(a);case"spring":return ute();default:if(a.split("(")[0]==="cubic-bezier")return fP(a)}return typeof a=="function"?a:null};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function dP(e){return pte(e)||hte(e)||q4(e)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pte(e){if(Array.isArray(e))return qw(e)}function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){Bw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bw(e,t,n){return t=mte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=vte(e,"string");return ef(t)==="symbol"?t:String(t)}function vte(e,t){if(ef(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){return bte(e)||xte(e,t)||q4(e,t)||yte()}function yte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(e,t){if(e){if(typeof e=="string")return qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(e,t)}}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function bte(e){if(Array.isArray(e))return e}var cp=function(t,n,r){return t+(n-t)*r},Uw=function(t){var n=t.from,r=t.to;return n!==r},wte=function e(t,n,r){var a=wu(function(s,l){if(Uw(l)){var u=t(l.from,l.to,l.velocity),d=gte(u,2),f=d[0],m=d[1];return gn(gn({},l),{},{from:f,velocity:m})}return l},n);return r<1?wu(function(s,l){return Uw(l)?gn(gn({},l),{},{velocity:cp(l.velocity,a[s].velocity,r),from:cp(l.from,a[s].from,r)}):l},n):e(t,a,r-1)};const _te=(function(e,t,n,r,a){var s=Qee(e,t),l=s.reduce(function(b,j){return gn(gn({},b),{},Bw({},j,[e[j],t[j]]))},{}),u=s.reduce(function(b,j){return gn(gn({},b),{},Bw({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,f,m,g=function(){return null},y=function(){return wu(function(j,O){return O.from},u)},x=function(){return!Object.values(u).filter(Uw).length},S=function(j){f||(f=j);var O=j-f,T=O/n.dt;u=wte(n,u,T),a(gn(gn(gn({},e),t),y())),f=j,x()||(d=requestAnimationFrame(g))},_=function(j){m||(m=j);var O=(j-m)/r,T=wu(function(N,C){return cp.apply(void 0,dP(C).concat([n(O)]))},l);if(a(gn(gn(gn({},e),t),T)),O<1)d=requestAnimationFrame(g);else{var E=wu(function(N,C){return cp.apply(void 0,dP(C).concat([n(1)]))},l);a(gn(gn(gn({},e),t),E))}};return g=n.isStepper?S:_,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(d)}}});function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}var Ste=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jte(e,t){if(e==null)return{};var n=Ate(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ate(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Zb(e){return Cte(e)||Nte(e)||Ete(e)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(e,t){if(e){if(typeof e=="string")return Fw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(e,t)}}function Nte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cte(e){if(Array.isArray(e))return Fw(e)}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){uu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uu(e,t,n){return t=U4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U4(r.key),r)}}function Rte(e,t,n){return t&&Mte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U4(e){var t=Pte(e,"string");return pl(t)==="symbol"?t:String(t)}function Pte(e,t){if(pl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hw(e,t)}function Dte(e){var t=$te();return function(){var r=up(e),a;if(t){var s=up(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return Vw(this,a)}}function Vw(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gw(e)}function Gw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(e)}var Ur=(function(e){kte(n,e);var t=Dte(n);function n(r,a){var s;Tte(this,n),s=t.call(this,r,a);var l=s.props,u=l.isActive,d=l.attributeName,f=l.from,m=l.to,g=l.steps,y=l.children,x=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Gw(s)),s.changeStyle=s.changeStyle.bind(Gw(s)),!u||x<=0)return s.state={style:{}},typeof y=="function"&&(s.state={style:m}),Vw(s);if(g&&g.length)s.state={style:g[0].style};else if(f){if(typeof y=="function")return s.state={style:f},Vw(s);s.state={style:d?uu({},d,f):f}}else s.state={style:{}};return s}return Rte(n,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,l=a.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,l=s.isActive,u=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,m=s.to,g=s.from,y=this.state.style;if(u){if(!l){var x={style:d?uu({},d,m):m};this.state&&y&&(d&&y[d]!==m||!d&&y!==m)&&this.setState(x);return}if(!(Uee(a.to,m)&&a.canBegin&&a.isActive)){var S=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||f?g:a.to;if(this.state&&y){var b={style:d?uu({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(b)}this.runAnimation(Pr(Pr({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,l=a.from,u=a.to,d=a.duration,f=a.easing,m=a.begin,g=a.onAnimationEnd,y=a.onAnimationStart,x=_te(l,u,fte(f),d,this.changeStyle),S=function(){s.stopJSAnimation=x()};this.manager.start([y,m,S,d,g])}},{key:"runStepAnimation",value:function(a){var s=this,l=a.steps,u=a.begin,d=a.onAnimationStart,f=l[0],m=f.style,g=f.duration,y=g===void 0?0:g,x=function(_,b,j){if(j===0)return _;var O=b.duration,T=b.easing,E=T===void 0?"ease":T,N=b.style,C=b.properties,R=b.onAnimationEnd,M=j>0?l[j-1]:b,P=C||Object.keys(N);if(typeof E=="function"||E==="spring")return[].concat(Zb(_),[s.runJSAnimation.bind(s,{from:M.style,to:N,duration:O,easing:E}),O]);var B=cP(P,O,E),D=Pr(Pr(Pr({},M.style),N),{},{transition:B});return[].concat(Zb(_),[D,O,R]).filter(Jee)};return this.manager.start([d].concat(Zb(l.reduce(x,[m,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Xee());var s=a.begin,l=a.duration,u=a.attributeName,d=a.to,f=a.easing,m=a.onAnimationStart,g=a.onAnimationEnd,y=a.steps,x=a.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var _=u?uu({},u,d):d,b=cP(Object.keys(_),l,f);S.start([m,s,Pr(Pr({},_),{},{transition:b}),l,g])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=jte(a,Ste),f=$.Children.count(s),m=this.state.style;if(typeof s=="function")return s(m);if(!u||f===0||l<=0)return s;var g=function(x){var S=x.props,_=S.style,b=_===void 0?{}:_,j=S.className,O=$.cloneElement(x,Pr(Pr({},d),{},{style:Pr(Pr({},b),m),className:j}));return O};return f===1?g($.Children.only(s)):Z.createElement("div",null,$.Children.map(s,function(y){return g(y)}))}}]),n})($.PureComponent);Ur.displayName="Animate";Ur.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ur.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}function Ite(e,t){return qte(e)||Bte(e,t)||zte(e,t)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(e,t){if(e){if(typeof e=="string")return mP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function qte(e){if(Array.isArray(e))return e}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){Ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ute(e,t,n){return t=Fte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fte(e){var t=Hte(e,"string");return tf(t)=="symbol"?t:t+""}function Hte(e,t){if(tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yP=function(t,n,r,a,s){var l=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,d=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var g=[0,0,0,0],y=0,x=4;y<x;y++)g[y]=s[y]>l?l:s[y];m="M".concat(t,",").concat(n+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(t+d*g[0],",").concat(n)),m+="L ".concat(t+r-d*g[1],",").concat(n),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+u*g[1])),m+="L ".concat(t+r,",").concat(n+a-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(t+r-d*g[2],",").concat(n+a)),m+="L ".concat(t+d*g[3],",").concat(n+a),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+a-u*g[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var S=Math.min(l,s);m="M ".concat(t,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+d*S,",").concat(n,`
            L `).concat(t+r-d*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+r,",").concat(n+u*S,`
            L `).concat(t+r,",").concat(n+a-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+r-d*S,",").concat(n+a,`
            L `).concat(t+d*S,",").concat(n+a,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t,",").concat(n+a-u*S," Z")}else m="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},Vte=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,s=n.x,l=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(s,s+u),m=Math.max(s,s+u),g=Math.min(l,l+d),y=Math.max(l,l+d);return r>=f&&r<=m&&a>=g&&a<=y}return!1},Gte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IS=function(t){var n=gP(gP({},Gte),t),r=$.useRef(),a=$.useState(-1),s=Ite(a,2),l=s[0],u=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&u(E)}catch{}},[]);var d=n.x,f=n.y,m=n.width,g=n.height,y=n.radius,x=n.className,S=n.animationEasing,_=n.animationDuration,b=n.animationBegin,j=n.isAnimationActive,O=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||g!==+g||m===0||g===0)return null;var T=Xe("recharts-rectangle",x);return O?Z.createElement(Ur,{canBegin:l>0,from:{width:m,height:g,x:d,y:f},to:{width:m,height:g,x:d,y:f},duration:_,animationEasing:S,isActive:O},function(E){var N=E.width,C=E.height,R=E.x,M=E.y;return Z.createElement(Ur,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:j,easing:S},Z.createElement("path",fp({},Be(n,!0),{className:T,d:yP(R,M,N,C,y),ref:r})))}):Z.createElement("path",fp({},Be(n,!0),{className:T,d:yP(d,f,m,g,y)}))},Kte=["points","className","baseLinePoints","connectNulls"];function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(this,arguments)}function Yte(e,t){if(e==null)return{};var n=Xte(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xP(e){return Jte(e)||Qte(e)||Zte(e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(e,t){if(e){if(typeof e=="string")return Kw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kw(e,t)}}function Qte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jte(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bP=function(t){return t&&t.x===+t.x&&t.y===+t.y},ene=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){bP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),bP(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},_u=function(t,n){var r=ene(t);n&&(r=[r.reduce(function(s,l){return[].concat(xP(s),xP(l))},[])]);var a=r.map(function(s){return s.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},tne=function(t,n,r){var a=_u(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(_u(n.reverse(),r).slice(1))},nne=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,s=t.connectNulls,l=Yte(t,Kte);if(!n||!n.length)return null;var u=Xe("recharts-polygon",r);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",f=tne(n,a,s);return Z.createElement("g",{className:u},Z.createElement("path",Us({},Be(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?Z.createElement("path",Us({},Be(l,!0),{fill:"none",d:_u(n,s)})):null,d?Z.createElement("path",Us({},Be(l,!0),{fill:"none",d:_u(a,s)})):null)}var m=_u(n,s);return Z.createElement("path",Us({},Be(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:u,d:m}))};function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(this,arguments)}var Am=function(t){var n=t.cx,r=t.cy,a=t.r,s=t.className,l=Xe("recharts-dot",s);return n===+n&&r===+r&&a===+a?$.createElement("circle",Yw({},Be(t,!1),kh(t),{className:l,cx:n,cy:r,r:a})):null};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}var rne=["x","y","top","left","width","height","className"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(this,arguments)}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ane(e,t,n){return t=one(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function one(e){var t=sne(e,"string");return nf(t)=="symbol"?t:t+""}function sne(e,t){if(nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lne(e,t){if(e==null)return{};var n=cne(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var une=function(t,n,r,a,s,l){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(l,",").concat(n,"h").concat(r)},fne=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,s=a===void 0?0:a,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,m=t.width,g=m===void 0?0:m,y=t.height,x=y===void 0?0:y,S=t.className,_=lne(t,rne),b=ine({x:r,y:s,top:u,left:f,width:g,height:x},_);return!Ee(r)||!Ee(s)||!Ee(g)||!Ee(x)||!Ee(u)||!Ee(f)?null:Z.createElement("path",Xw({},Be(b,!0),{className:Xe("recharts-cross",S),d:une(r,s,g,x,u,f)}))},Qb,_P;function dne(){if(_P)return Qb;_P=1;var e=bm(),t=r4(),n=mi();function r(a,s){return a&&a.length?e(a,n(s,2),t):void 0}return Qb=r,Qb}var hne=dne();const pne=vt(hne);var Jb,SP;function mne(){if(SP)return Jb;SP=1;var e=bm(),t=mi(),n=i4();function r(a,s){return a&&a.length?e(a,t(s,2),n):void 0}return Jb=r,Jb}var vne=mne();const gne=vt(vne);var yne=["cx","cy","angle","ticks","axisLine"],xne=["ticks","tick","angle","tickFormatter","stroke"];function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(this,arguments)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Om(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AP(e,t){if(e==null)return{};var n=bne(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H4(r.key),r)}}function _ne(e,t,n){return t&&OP(e.prototype,t),n&&OP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sne(e,t,n){return t=dp(t),jne(e,F4()?Reflect.construct(t,n||[],dp(e).constructor):t.apply(e,n))}function jne(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(e)}function Ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(e)}function One(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ww(e,t)}function Om(e,t,n){return t=H4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H4(e){var t=Ene(e,"string");return ml(t)=="symbol"?t:t+""}function Ene(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Em=(function(e){function t(){return wne(this,t),Sne(this,t,arguments)}return One(t,e),_ne(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,s=this.props,l=s.angle,u=s.cx,d=s.cy;return Pt(u,d,a,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,s=r.cy,l=r.angle,u=r.ticks,d=pne(u,function(m){return m.coordinate||0}),f=gne(u,function(m){return m.coordinate||0});return{cx:a,cy:s,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,l=r.angle,u=r.ticks,d=r.axisLine,f=AP(r,yne),m=u.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),g=Pt(a,s,m[0],l),y=Pt(a,s,m[1],l),x=po(po(po({},Be(f,!1)),{},{fill:"none"},Be(d,!1)),{},{x1:g.x,y1:g.y,x2:y.x,y2:y.y});return Z.createElement("line",Su({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,l=a.tick,u=a.angle,d=a.tickFormatter,f=a.stroke,m=AP(a,xne),g=this.getTickTextAnchor(),y=Be(m,!1),x=Be(l,!1),S=s.map(function(_,b){var j=r.getTickValueCoord(_),O=po(po(po(po({textAnchor:g,transform:"rotate(".concat(90-u,", ").concat(j.x,", ").concat(j.y,")")},y),{},{stroke:"none",fill:f},x),{},{index:b},j),{},{payload:_});return Z.createElement(ot,Su({className:Xe("recharts-polar-radius-axis-tick",R4(l)),key:"tick-".concat(_.coordinate)},La(r.props,_,b)),t.renderTickItem(l,O,d?d(_.value,b):_.value))});return Z.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.axisLine,l=r.tick;return!a||!a.length?null:Z.createElement(ot,{className:Xe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,s){var l;return Z.isValidElement(r)?l=Z.cloneElement(r,a):Ke(r)?l=r(a):l=Z.createElement(Mo,Su({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})($.PureComponent);Om(Em,"displayName","PolarRadiusAxis");Om(Em,"axisType","radiusAxis");Om(Em,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){Nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G4(r.key),r)}}function Cne(e,t,n){return t&&NP(e.prototype,t),n&&NP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tne(e,t,n){return t=hp(t),Mne(e,V4()?Reflect.construct(t,n||[],hp(e).constructor):t.apply(e,n))}function Mne(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(e)}function Rne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(e)}function Pne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zw(e,t)}function Nm(e,t,n){return t=G4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G4(e){var t=kne(e,"string");return vl(t)=="symbol"?t:t+""}function kne(e,t){if(vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dne=Math.PI/180,CP=1e-5,Cm=(function(e){function t(){return Nne(this,t),Tne(this,t,arguments)}return Pne(t,e),Cne(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,s=a.cx,l=a.cy,u=a.radius,d=a.orientation,f=a.tickSize,m=f||8,g=Pt(s,l,u,r.coordinate),y=Pt(s,l,u+(d==="inner"?-1:1)*m,r.coordinate);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,s=Math.cos(-r.coordinate*Dne),l;return s>CP?l=a==="outer"?"start":"end":s<-CP?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,l=r.radius,u=r.axisLine,d=r.axisLineType,f=mo(mo({},Be(this.props,!1)),{},{fill:"none"},Be(u,!1));if(d==="circle")return Z.createElement(Am,yo({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:s,r:l}));var m=this.props.ticks,g=m.map(function(y){return Pt(a,s,l,y.coordinate)});return Z.createElement(nne,yo({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,l=a.tick,u=a.tickLine,d=a.tickFormatter,f=a.stroke,m=Be(this.props,!1),g=Be(l,!1),y=mo(mo({},m),{},{fill:"none"},Be(u,!1)),x=s.map(function(S,_){var b=r.getTickLineCoord(S),j=r.getTickTextAnchor(S),O=mo(mo(mo({textAnchor:j},m),{},{stroke:"none",fill:f},g),{},{index:_,payload:S,x:b.x2,y:b.y2});return Z.createElement(ot,yo({className:Xe("recharts-polar-angle-axis-tick",R4(l)),key:"tick-".concat(S.coordinate)},La(r.props,S,_)),u&&Z.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},y,b)),l&&t.renderTickItem(l,O,d?d(S.value,_):S.value))});return Z.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!a||!a.length?null:Z.createElement(ot,{className:Xe("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,s){var l;return Z.isValidElement(r)?l=Z.cloneElement(r,a):Ke(r)?l=r(a):l=Z.createElement(Mo,yo({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})($.PureComponent);Nm(Cm,"displayName","PolarAngleAxis");Nm(Cm,"axisType","angleAxis");Nm(Cm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var e1,TP;function $ne(){if(TP)return e1;TP=1;var e=JI(),t=e(Object.getPrototypeOf,Object);return e1=t,e1}var t1,MP;function Ine(){if(MP)return t1;MP=1;var e=Zi(),t=$ne(),n=Qi(),r="[object Object]",a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,d=l.call(Object);function f(m){if(!n(m)||e(m)!=r)return!1;var g=t(m);if(g===null)return!0;var y=u.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return t1=f,t1}var Lne=Ine();const zne=vt(Lne);var n1,RP;function Bne(){if(RP)return n1;RP=1;var e=Zi(),t=Qi(),n="[object Boolean]";function r(a){return a===!0||a===!1||t(a)&&e(a)==n}return n1=r,n1}var qne=Bne();const Une=vt(qne);function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pp.apply(this,arguments)}function Fne(e,t){return Kne(e)||Gne(e,t)||Vne(e,t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vne(e,t){if(e){if(typeof e=="string")return PP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(e,t)}}function PP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Kne(e){if(Array.isArray(e))return e}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){Yne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yne(e,t,n){return t=Xne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xne(e){var t=Wne(e,"string");return rf(t)=="symbol"?t:t+""}function Wne(e,t){if(rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $P=function(t,n,r,a,s){var l=r-a,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+r,",").concat(n),u+="L ".concat(t+r-l/2,",").concat(n+s),u+="L ".concat(t+r-l/2-a,",").concat(n+s),u+="L ".concat(t,",").concat(n," Z"),u},Zne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qne=function(t){var n=DP(DP({},Zne),t),r=$.useRef(),a=$.useState(-1),s=Fne(a,2),l=s[0],u=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&u(T)}catch{}},[]);var d=n.x,f=n.y,m=n.upperWidth,g=n.lowerWidth,y=n.height,x=n.className,S=n.animationEasing,_=n.animationDuration,b=n.animationBegin,j=n.isUpdateAnimationActive;if(d!==+d||f!==+f||m!==+m||g!==+g||y!==+y||m===0&&g===0||y===0)return null;var O=Xe("recharts-trapezoid",x);return j?Z.createElement(Ur,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:m,lowerWidth:g,height:y,x:d,y:f},duration:_,animationEasing:S,isActive:j},function(T){var E=T.upperWidth,N=T.lowerWidth,C=T.height,R=T.x,M=T.y;return Z.createElement(Ur,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:S},Z.createElement("path",pp({},Be(n,!0),{className:O,d:$P(R,M,E,N,C),ref:r})))}):Z.createElement("g",null,Z.createElement("path",pp({},Be(n,!0),{className:O,d:$P(d,f,m,g,y)})))},Jne=["option","shapeType","propTransformer","activeClassName","isActive"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function ere(e,t){if(e==null)return{};var n=tre(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){nre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nre(e,t,n){return t=rre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rre(e){var t=ire(e,"string");return af(t)=="symbol"?t:t+""}function ire(e,t){if(af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e,t){return mp(mp({},t),e)}function ore(e,t){return e==="symbols"}function LP(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(IS,n);case"trapezoid":return Z.createElement(Qne,n);case"sector":return Z.createElement(D4,n);case"symbols":if(ore(t))return Z.createElement(um,n);break;default:return null}}function sre(e){return $.isValidElement(e)?e.props:e}function vp(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?are:r,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,u=e.isActive,d=ere(e,Jne),f;if($.isValidElement(t))f=$.cloneElement(t,mp(mp({},d),sre(t)));else if(Ke(t))f=t(d);else if(zne(t)&&!Une(t)){var m=a(t,d);f=Z.createElement(LP,{shapeType:n,elementProps:m})}else{var g=d;f=Z.createElement(LP,{shapeType:n,elementProps:g})}return u?Z.createElement(ot,{className:l},f):f}function Tm(e,t){return t!=null&&"trapezoids"in e.props}function Mm(e,t){return t!=null&&"sectors"in e.props}function of(e,t){return t!=null&&"points"in e.props}function lre(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&s}function cre(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function ure(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function fre(e,t){var n;return Tm(e,t)?n=lre:Mm(e,t)?n=cre:of(e,t)&&(n=ure),n}function dre(e,t){var n;return Tm(e,t)?n="trapezoids":Mm(e,t)?n="sectors":of(e,t)&&(n="points"),n}function hre(e,t){if(Tm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Mm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return of(e,t)?t.payload:{}}function pre(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=dre(n,t),s=hre(n,t),l=r.filter(function(d,f){var m=Gl(s,d),g=n.props[a].filter(function(S){var _=fre(n,t);return _(S,t)}),y=n.props[a].indexOf(g[g.length-1]),x=f===y;return m&&x}),u=r.indexOf(l[l.length-1]);return u}var bh;function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y4(r.key),r)}}function vre(e,t,n){return t&&BP(e.prototype,t),n&&BP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gre(e,t,n){return t=gp(t),yre(e,K4()?Reflect.construct(t,n||[],gp(e).constructor):t.apply(e,n))}function yre(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(e)}function xre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!e})()}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(e)}function bre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Qw(e,t)}function Ar(e,t,n){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y4(e){var t=wre(e,"string");return gl(t)=="symbol"?t:t+""}function wre(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ea=(function(e){function t(n){var r;return mre(this,t),r=gre(this,t,[n]),Ar(r,"pieRef",null),Ar(r,"sectorRefs",[]),Ar(r,"id",qo("recharts-pie-")),Ar(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(a)&&a()}),Ar(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return bre(t,e),vre(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,u=s.labelLine,d=s.dataKey,f=s.valueKey,m=Be(this.props,!1),g=Be(l,!1),y=Be(u,!1),x=l&&l.offsetRadius||20,S=r.map(function(_,b){var j=(_.startAngle+_.endAngle)/2,O=Pt(_.cx,_.cy,_.outerRadius+x,j),T=Mt(Mt(Mt(Mt({},m),_),{},{stroke:"none"},g),{},{index:b,textAnchor:t.getTextAnchor(O.x,_.cx)},O),E=Mt(Mt(Mt(Mt({},m),_),{},{fill:"none",stroke:_.fill},y),{},{index:b,points:[Pt(_.cx,_.cy,_.outerRadius,j),O]}),N=d;return He(d)&&He(f)?N="value":He(d)&&(N=f),Z.createElement(ot,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},u&&t.renderLabelLineItem(u,E,"line"),t.renderLabelItem(l,T,qt(_,N)))});return Z.createElement(ot,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var a=this,s=this.props,l=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return r.map(function(f,m){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var g=a.isActiveIndex(m),y=d&&a.hasActiveIndex()?d:null,x=g?l:y,S=Mt(Mt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return Z.createElement(ot,Fs({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},La(a.props,f,m),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(m)}),Z.createElement(vp,Fs({option:x,isActive:g,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,s=a.sectors,l=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,g=this.state,y=g.prevSectors,x=g.prevIsAnimationActive;return Z.createElement(Ur,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var _=S.t,b=[],j=s&&s[0],O=j.startAngle;return s.forEach(function(T,E){var N=y&&y[E],C=E>0?lr(T,"paddingAngle",0):0;if(N){var R=yn(N.endAngle-N.startAngle,T.endAngle-T.startAngle),M=Mt(Mt({},T),{},{startAngle:O+C,endAngle:O+R(_)+C});b.push(M),O=M.endAngle}else{var P=T.endAngle,B=T.startAngle,D=yn(0,P-B),I=D(_),z=Mt(Mt({},T),{},{startAngle:O+C,endAngle:O+I+C});b.push(z),O=z.endAngle}}),Z.createElement(ot,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&a&&a.length&&(!l||!Gl(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,s=a.hide,l=a.sectors,u=a.className,d=a.label,f=a.cx,m=a.cy,g=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,S=this.state.isAnimationFinished;if(s||!l||!l.length||!Ee(f)||!Ee(m)||!Ee(g)||!Ee(y))return null;var _=Xe("recharts-pie",u);return Z.createElement(ot,{tabIndex:this.props.rootTabIndex,className:_,ref:function(j){r.pieRef=j}},this.renderSectors(),d&&this.renderLabels(l),fn.renderCallByParent(this.props,null,!1),(!x||S)&&oi.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,s){if(Z.isValidElement(r))return Z.cloneElement(r,a);if(Ke(r))return r(a);var l=Xe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(Qu,Fs({},a,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,a,s){if(Z.isValidElement(r))return Z.cloneElement(r,a);var l=s;if(Ke(r)&&(l=r(a),Z.isValidElement(l)))return l;var u=Xe("recharts-pie-label-text",typeof r!="boolean"&&!Ke(r)?r.className:"");return Z.createElement(Mo,Fs({},a,{alignmentBaseline:"middle",className:u}),l)}}])})($.PureComponent);bh=ea;Ar(ea,"displayName","Pie");Ar(ea,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ua.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ar(ea,"parseDeltaAngle",function(e,t){var n=Mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ar(ea,"getRealPieData",function(e){var t=e.data,n=e.children,r=Be(e,!1),a=kn(n,Sf);return t&&t.length?t.map(function(s,l){return Mt(Mt(Mt({payload:s},r),s),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(s){return Mt(Mt({},r),s.props)}):[]});Ar(ea,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,s=t.height,l=M4(a,s),u=r+Rn(e.cx,a,a/2),d=n+Rn(e.cy,s,s/2),f=Rn(e.innerRadius,l,0),m=Rn(e.outerRadius,l,l*.8),g=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:m,maxRadius:g}});Ar(ea,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Mt(Mt({},t.type.defaultProps),t.props):t.props,a=bh.getRealPieData(r);if(!a||!a.length)return null;var s=r.cornerRadius,l=r.startAngle,u=r.endAngle,d=r.paddingAngle,f=r.dataKey,m=r.nameKey,g=r.valueKey,y=r.tooltipType,x=Math.abs(r.minAngle),S=bh.parseCoordinateOfPie(r,n),_=bh.parseDeltaAngle(l,u),b=Math.abs(_),j=f;He(f)&&He(g)?(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):He(f)&&(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=g);var O=a.filter(function(M){return qt(M,j,0)!==0}).length,T=(b>=360?O:O-1)*d,E=b-O*x-T,N=a.reduce(function(M,P){var B=qt(P,j,0);return M+(Ee(B)?B:0)},0),C;if(N>0){var R;C=a.map(function(M,P){var B=qt(M,j,0),D=qt(M,m,P),I=(Ee(B)?B:0)/N,z;P?z=R.endAngle+Mn(_)*d*(B!==0?1:0):z=l;var L=z+Mn(_)*((B!==0?x:0)+I*E),H=(z+L)/2,k=(S.innerRadius+S.outerRadius)/2,U=[{name:D,value:B,payload:M,dataKey:j,type:y}],G=Pt(S.cx,S.cy,k,H);return R=Mt(Mt(Mt({percent:I,cornerRadius:s,name:D,tooltipPayload:U,midAngle:H,middleRadius:k,tooltipPosition:G},M),S),{},{value:qt(M,j),startAngle:z,endAngle:L,payload:M,paddingAngle:Mn(_)*d}),R})}return Mt(Mt({},S),{},{sectors:C,data:a})});var r1,qP;function _re(){if(qP)return r1;qP=1;var e=Math.ceil,t=Math.max;function n(r,a,s,l){for(var u=-1,d=t(e((a-r)/(s||1)),0),f=Array(d);d--;)f[l?d:++u]=r,r+=s;return f}return r1=n,r1}var i1,UP;function X4(){if(UP)return i1;UP=1;var e=m3(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*n}return a===a?a:0}return i1=r,i1}var a1,FP;function Sre(){if(FP)return a1;FP=1;var e=_re(),t=hm(),n=X4();function r(a){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),u=u===void 0?s<l?1:-1:n(u),e(s,l,u,a)}}return a1=r,a1}var o1,HP;function jre(){if(HP)return o1;HP=1;var e=Sre(),t=e();return o1=t,o1}var Are=jre();const yp=vt(Are);function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){W4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W4(e,t,n){return t=Ore(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ore(e){var t=Ere(e,"string");return sf(t)=="symbol"?t:t+""}function Ere(e,t){if(sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nre=["Webkit","Moz","O","ms"],Cre=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Nre.reduce(function(s,l){return GP(GP({},s),{},W4({},l+r,n))},{});return a[t]=n,a};function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q4(r.key),r)}}function Mre(e,t,n){return t&&YP(e.prototype,t),n&&YP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rre(e,t,n){return t=bp(t),Pre(e,Z4()?Reflect.construct(t,n||[],bp(e).constructor):t.apply(e,n))}function Pre(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(e)}function kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(e)}function Dre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Jw(e,t)}function nr(e,t,n){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q4(e){var t=$re(e,"string");return yl(t)=="symbol"?t:t+""}function $re(e,t){if(yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ire=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,s=t.x,l=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=xu().domain(yp(0,d)).range([s,s+l-u]),m=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(a),scale:f,scaleValues:m}},XP=function(t){return t.changedTouches&&!!t.changedTouches.length},xl=(function(e){function t(n){var r;return Tre(this,t),r=Rre(this,t,[n]),nr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),nr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),nr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,s=a.endIndex,l=a.onDragEnd,u=a.startIndex;l==null||l({endIndex:s,startIndex:u})}),r.detachDragEndListener()}),nr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),nr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),nr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),nr(r,"handleSlideDragStart",function(a){var s=XP(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dre(t,e),Mre(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,s=r.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,m=f.length-1,g=Math.min(a,s),y=Math.max(a,s),x=t.getIndexInRange(l,g),S=t.getIndexInRange(l,y);return{startIndex:x-x%d,endIndex:S===m?m:S-S%d}}},{key:"getTextOfTick",value:function(r){var a=this.props,s=a.data,l=a.tickFormatter,u=a.dataKey,d=qt(s[r],u,r);return Ke(l)?l(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,s=a.slideMoveStartX,l=a.startX,u=a.endX,d=this.props,f=d.x,m=d.width,g=d.travellerWidth,y=d.startIndex,x=d.endIndex,S=d.onChange,_=r.pageX-s;_>0?_=Math.min(_,f+m-g-u,f+m-g-l):_<0&&(_=Math.max(_,f-l,f-u));var b=this.getIndex({startX:l+_,endX:u+_});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:l+_,endX:u+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var s=XP(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,s=a.brushMoveStartX,l=a.movingTravellerId,u=a.endX,d=a.startX,f=this.state[l],m=this.props,g=m.x,y=m.width,x=m.travellerWidth,S=m.onChange,_=m.gap,b=m.data,j={startX:this.state.startX,endX:this.state.endX},O=r.pageX-s;O>0?O=Math.min(O,g+y-x-f):O<0&&(O=Math.max(O,g-f)),j[l]=f+O;var T=this.getIndex(j),E=T.startIndex,N=T.endIndex,C=function(){var M=b.length-1;return l==="startX"&&(u>d?E%_===0:N%_===0)||u<d&&N===M||l==="endX"&&(u>d?N%_===0:E%_===0)||u>d&&N===M};this.setState(nr(nr({},l,f+O),"brushMoveStartX",r.pageX),function(){S&&C()&&S(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var s=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,m=this.state[a],g=u.indexOf(m);if(g!==-1){var y=g+r;if(!(y===-1||y>=u.length)){var x=u[y];a==="startX"&&x>=f||a==="endX"&&x<=d||this.setState(nr({},a,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,s=r.y,l=r.width,u=r.height,d=r.fill,f=r.stroke;return Z.createElement("rect",{stroke:f,fill:d,x:a,y:s,width:l,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,s=r.y,l=r.width,u=r.height,d=r.data,f=r.children,m=r.padding,g=$.Children.only(f);return g?Z.cloneElement(g,{x:a,y:s,width:l,height:u,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,a){var s,l,u=this,d=this.props,f=d.y,m=d.travellerWidth,g=d.height,y=d.traveller,x=d.ariaLabel,S=d.data,_=d.startIndex,b=d.endIndex,j=Math.max(r,this.props.x),O=s1(s1({},Be(this.props,!1)),{},{x:j,y:f,width:m,height:g}),T=x||"Min value: ".concat((s=S[_])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=S[b])===null||l===void 0?void 0:l.name);return Z.createElement(ot,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,O))}},{key:"renderSlide",value:function(r,a){var s=this.props,l=s.y,u=s.height,d=s.stroke,f=s.travellerWidth,m=Math.min(r,a)+f,g=Math.max(Math.abs(a-r)-f,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:g,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,s=r.endIndex,l=r.y,u=r.height,d=r.travellerWidth,f=r.stroke,m=this.state,g=m.startX,y=m.endX,x=5,S={pointerEvents:"none",fill:f};return Z.createElement(ot,{className:"recharts-brush-texts"},Z.createElement(Mo,xp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-x,y:l+u/2},S),this.getTextOfTick(a)),Z.createElement(Mo,xp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+d+x,y:l+u/2},S),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,a=r.data,s=r.className,l=r.children,u=r.x,d=r.y,f=r.width,m=r.height,g=r.alwaysShowText,y=this.state,x=y.startX,S=y.endX,_=y.isTextActive,b=y.isSlideMoving,j=y.isTravellerMoving,O=y.isTravellerFocused;if(!a||!a.length||!Ee(u)||!Ee(d)||!Ee(f)||!Ee(m)||f<=0||m<=0)return null;var T=Xe("recharts-brush",s),E=Z.Children.count(l)===1,N=Cre("userSelect","none");return Z.createElement(ot,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(_||b||j||O||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,s=r.y,l=r.width,u=r.height,d=r.stroke,f=Math.floor(s+u/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:s,width:l,height:u,fill:d,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:f,x2:a+l-1,y2:f,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:f+2,x2:a+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,a):Ke(r)?s=r(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(r,a){var s=r.data,l=r.width,u=r.x,d=r.travellerWidth,f=r.updateId,m=r.startIndex,g=r.endIndex;if(s!==a.prevData||f!==a.prevUpdateId)return s1({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},s&&s.length?Ire({data:s,width:l,x:u,travellerWidth:d,startIndex:m,endIndex:g}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+l-d]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var s=r.length,l=0,u=s-1;u-l>1;){var d=Math.floor((l+u)/2);r[d]>a?u=d:l=d}return a>=r[u]?u:l}}])})($.PureComponent);nr(xl,"displayName","Brush");nr(xl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var l1,WP;function Lre(){if(WP)return l1;WP=1;var e=uS();function t(n,r){var a;return e(n,function(s,l,u){return a=r(s,l,u),!a}),!!a}return l1=t,l1}var c1,ZP;function zre(){if(ZP)return c1;ZP=1;var e=GI(),t=mi(),n=Lre(),r=Kn(),a=hm();function s(l,u,d){var f=r(l)?e:n;return d&&a(l,u,d)&&(u=void 0),f(l,t(u,3))}return c1=s,c1}var Bre=zre();const qre=vt(Bre);var si=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},u1,QP;function Ure(){if(QP)return u1;QP=1;var e=u3();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return u1=t,u1}var f1,JP;function Fre(){if(JP)return f1;JP=1;var e=Ure(),t=l3(),n=mi();function r(a,s){var l={};return s=n(s,3),t(a,function(u,d,f){e(l,d,s(u,d,f))}),l}return f1=r,f1}var Hre=Fre();const Vre=vt(Hre);var d1,ek;function Gre(){if(ek)return d1;ek=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(!n(t[r],r,t))return!1;return!0}return d1=e,d1}var h1,tk;function Kre(){if(tk)return h1;tk=1;var e=uS();function t(n,r){var a=!0;return e(n,function(s,l,u){return a=!!r(s,l,u),a}),a}return h1=t,h1}var p1,nk;function Yre(){if(nk)return p1;nk=1;var e=Gre(),t=Kre(),n=mi(),r=Kn(),a=hm();function s(l,u,d){var f=r(l)?e:t;return d&&a(l,u,d)&&(u=void 0),f(l,n(u,3))}return p1=s,p1}var Xre=Yre();const J4=vt(Xre);var Wre=["x","y"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e_.apply(this,arguments)}function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return t=Qre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qre(e){var t=Jre(e,"string");return lf(t)=="symbol"?t:t+""}function Jre(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eie(e,t){if(e==null)return{};var n=tie(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nie(e,t){var n=e.x,r=e.y,a=eie(e,Wre),s="".concat(n),l=parseInt(s,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||a.height),m=parseInt(f,10),g="".concat(t.width||a.width),y=parseInt(g,10);return iu(iu(iu(iu(iu({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:y,name:t.name,radius:t.radius})}function ik(e){return Z.createElement(vp,e_({shapeType:"rectangle",propTransformer:nie,activeClassName:"recharts-active-bar"},e))}var rie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var s=Ee(r)||d9(r);return s?t(r,a):(s||ko(),n)}},iie=["value","background"],eL;function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function aie(e,t){if(e==null)return{};var n=oie(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(this,arguments)}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(r){Ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nL(r.key),r)}}function lie(e,t,n){return t&&ok(e.prototype,t),n&&ok(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,n){return t=_p(t),uie(e,tL()?Reflect.construct(t,n||[],_p(e).constructor):t.apply(e,n))}function uie(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(e)}function fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!e})()}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(e)}function die(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},t_(e,t)}function Ca(e,t,n){return t=nL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nL(e){var t=hie(e,"string");return bl(t)=="symbol"?t:t+""}function hie(e,t){if(bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var li=(function(e){function t(){var n;sie(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=cie(this,t,[].concat(a)),Ca(n,"state",{isAnimationFinished:!1}),Ca(n,"id",qo("recharts-bar-")),Ca(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Ca(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return die(t,e),lie(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,s=this.props,l=s.shape,u=s.dataKey,d=s.activeIndex,f=s.activeBar,m=Be(this.props,!1);return r&&r.map(function(g,y){var x=y===d,S=x?f:l,_=Xt(Xt(Xt({},m),g),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(ot,wp({className:"recharts-bar-rectangle"},La(a.props,g,y),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),Z.createElement(ik,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,s=a.data,l=a.layout,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,m=a.animationEasing,g=a.animationId,y=this.state.prevData;return Z.createElement(Ur,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,_=s.map(function(b,j){var O=y&&y[j];if(O){var T=yn(O.x,b.x),E=yn(O.y,b.y),N=yn(O.width,b.width),C=yn(O.height,b.height);return Xt(Xt({},b),{},{x:T(S),y:E(S),width:N(S),height:C(S)})}if(l==="horizontal"){var R=yn(0,b.height),M=R(S);return Xt(Xt({},b),{},{y:b.y+b.height-M,height:M})}var P=yn(0,b.width),B=P(S);return Xt(Xt({},b),{},{width:B})});return Z.createElement(ot,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,s=r.isAnimationActive,l=this.state.prevData;return s&&a&&a.length&&(!l||!Gl(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,s=a.data,l=a.dataKey,u=a.activeIndex,d=Be(this.props.background,!1);return s.map(function(f,m){f.value;var g=f.background,y=aie(f,iie);if(!g)return null;var x=Xt(Xt(Xt(Xt(Xt({},y),{},{fill:"#eee"},g),d),La(r.props,f,m)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return Z.createElement(ik,wp({key:"background-bar-".concat(m),option:r.props.background,isActive:m===u},x))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,u=s.xAxis,d=s.yAxis,f=s.layout,m=s.children,g=kn(m,Xl);if(!g)return null;var y=f==="vertical"?l[0].height/2:l[0].width/2,x=function(b,j){var O=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:O,errorVal:qt(b,j)}},S={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(ot,S,g.map(function(_){return Z.cloneElement(_,{key:"error-bar-".concat(a,"-").concat(_.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.data,l=r.className,u=r.xAxis,d=r.yAxis,f=r.left,m=r.top,g=r.width,y=r.height,x=r.isAnimationActive,S=r.background,_=r.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,j=Xe("recharts-bar",l),O=u&&u.allowDataOverflow,T=d&&d.allowDataOverflow,E=O||T,N=He(_)?this.id:_;return Z.createElement(ot,{className:j},O||T?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(N)},Z.createElement("rect",{x:O?f:f-g/2,y:T?m:m-y/2,width:O?g:g*2,height:T?y:y*2}))):null,Z.createElement(ot,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(N,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,N),(!x||b)&&oi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})($.PureComponent);eL=li;Ca(li,"displayName","Bar");Ca(li,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ua.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ca(li,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,m=e.dataStartIndex,g=e.displayedData,y=e.offset,x=qQ(r,n);if(!x)return null;var S=t.layout,_=n.type.defaultProps,b=_!==void 0?Xt(Xt({},_),n.props):n.props,j=b.dataKey,O=b.children,T=b.minPointSize,E=S==="horizontal"?l:s,N=f?E.scale.domain():null,C=YQ({numericAxis:E}),R=kn(O,Sf),M=g.map(function(P,B){var D,I,z,L,H,k;f?D=UQ(f[m+B],N):(D=qt(P,j),Array.isArray(D)||(D=[C,D]));var U=rie(T,eL.defaultProps.minPointSize)(D[1],B);if(S==="horizontal"){var G,V=[l.scale(D[0]),l.scale(D[1])],F=V[0],X=V[1];I=MR({axis:s,ticks:u,bandSize:a,offset:x.offset,entry:P,index:B}),z=(G=X??F)!==null&&G!==void 0?G:void 0,L=x.size;var W=F-X;if(H=Number.isNaN(W)?0:W,k={x:I,y:l.y,width:L,height:l.height},Math.abs(U)>0&&Math.abs(H)<Math.abs(U)){var Y=Mn(H||U)*(Math.abs(U)-Math.abs(H));z-=Y,H+=Y}}else{var ee=[s.scale(D[0]),s.scale(D[1])],se=ee[0],re=ee[1];if(I=se,z=MR({axis:l,ticks:d,bandSize:a,offset:x.offset,entry:P,index:B}),L=re-se,H=x.size,k={x:s.x,y:z,width:s.width,height:H},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var de=Mn(L||U)*(Math.abs(U)-Math.abs(L));L+=de}}return Xt(Xt(Xt({},P),{},{x:I,y:z,width:L,height:H,value:f?D:D[1],payload:P,background:k},R&&R[B]&&R[B].props),{},{tooltipPayload:[C4(n,P)],tooltipPosition:{x:I+L/2,y:z+H/2}})});return Xt({data:M,layout:S},y)});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function pie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rL(r.key),r)}}function mie(e,t,n){return t&&sk(e.prototype,t),n&&sk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){Rm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rm(e,t,n){return t=rL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rL(e){var t=vie(e,"string");return cf(t)=="symbol"?t:t+""}function vie(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LS=function(t,n,r,a,s){var l=t.width,u=t.height,d=t.layout,f=t.children,m=Object.keys(n),g={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!rr(f,li);return m.reduce(function(x,S){var _=n[S],b=_.orientation,j=_.domain,O=_.padding,T=O===void 0?{}:O,E=_.mirror,N=_.reversed,C="".concat(b).concat(E?"Mirror":""),R,M,P,B,D;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var I=j[1]-j[0],z=1/0,L=_.categoricalDomain.sort(v9);if(L.forEach(function(ee,se){se>0&&(z=Math.min((ee||0)-(L[se-1]||0),z))}),Number.isFinite(z)){var H=z/I,k=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(R=H*k/2),_.padding==="no-gap"){var U=Rn(t.barCategoryGap,H*k),G=H*k/2;R=G-U-(G-U)/k*U}}}a==="xAxis"?M=[r.left+(T.left||0)+(R||0),r.left+r.width-(T.right||0)-(R||0)]:a==="yAxis"?M=d==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(R||0),r.top+r.height-(T.bottom||0)-(R||0)]:M=_.range,N&&(M=[M[1],M[0]]);var V=A4(_,s,y),F=V.scale,X=V.realScaleType;F.domain(j).range(M),O4(F);var W=E4(F,Dr(Dr({},_),{},{realScaleType:X}));a==="xAxis"?(D=b==="top"&&!E||b==="bottom"&&E,P=r.left,B=g[C]-D*_.height):a==="yAxis"&&(D=b==="left"&&!E||b==="right"&&E,P=g[C]-D*_.width,B=r.top);var Y=Dr(Dr(Dr({},_),W),{},{realScaleType:X,x:P,y:B,scale:F,width:a==="xAxis"?r.width:_.width,height:a==="yAxis"?r.height:_.height});return Y.bandSize=ap(Y,W),!_.hide&&a==="xAxis"?g[C]+=(D?-1:1)*Y.height:_.hide||(g[C]+=(D?-1:1)*Y.width),Dr(Dr({},x),{},Rm({},S,Y))},{})},iL=function(t,n){var r=t.x,a=t.y,s=n.x,l=n.y;return{x:Math.min(r,s),y:Math.min(a,l),width:Math.abs(s-r),height:Math.abs(l-a)}},gie=function(t){var n=t.x1,r=t.y1,a=t.x2,s=t.y2;return iL({x:n,y:r},{x:a,y:s})},aL=(function(){function e(t){pie(this,e),this.scale=t}return mie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?n>=a&&n<=s:n>=s&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])})();Rm(aL,"EPS",1e-4);var zS=function(t){var n=Object.keys(t).reduce(function(r,a){return Dr(Dr({},r),{},Rm({},a,aL.create(t[a])))},{});return Dr(Dr({},n),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,u=s.position;return Vre(a,function(d,f){return n[f].apply(d,{bandAware:l,position:u})})},isInRange:function(a){return J4(a,function(s,l){return n[l].isInRange(s)})}})};function yie(e){return(e%180+180)%180}var xie=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yie(a),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},m1,ck;function bie(){if(ck)return m1;ck=1;var e=mi(),t=_f(),n=fm();function r(a){return function(s,l,u){var d=Object(s);if(!t(s)){var f=e(l,3);s=n(s),l=function(g){return f(d[g],g,d)}}var m=a(s,l,u);return m>-1?d[f?s[m]:m]:void 0}}return m1=r,m1}var v1,uk;function wie(){if(uk)return v1;uk=1;var e=X4();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return v1=t,v1}var g1,fk;function _ie(){if(fk)return g1;fk=1;var e=r3(),t=mi(),n=wie(),r=Math.max;function a(s,l,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),e(s,t(l,3),f)}return g1=a,g1}var y1,dk;function Sie(){if(dk)return y1;dk=1;var e=bie(),t=_ie(),n=e(t);return y1=n,y1}var jie=Sie();const Aie=vt(jie);var Oie=yI();const Eie=vt(Oie);var Nie=Eie(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),BS=$.createContext(void 0),qS=$.createContext(void 0),oL=$.createContext(void 0),sL=$.createContext({}),lL=$.createContext(void 0),cL=$.createContext(0),uL=$.createContext(0),hk=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,s=n.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,m=Nie(s);return Z.createElement(BS.Provider,{value:r},Z.createElement(qS.Provider,{value:a},Z.createElement(sL.Provider,{value:s},Z.createElement(oL.Provider,{value:m},Z.createElement(lL.Provider,{value:l},Z.createElement(cL.Provider,{value:f},Z.createElement(uL.Provider,{value:d},u)))))))},Cie=function(){return $.useContext(lL)},fL=function(t){var n=$.useContext(BS);n==null&&ko();var r=n[t];return r==null&&ko(),r},Tie=function(){var t=$.useContext(BS);return Na(t)},Mie=function(){var t=$.useContext(qS),n=Aie(t,function(r){return J4(r.domain,Number.isFinite)});return n||Na(t)},dL=function(t){var n=$.useContext(qS);n==null&&ko();var r=n[t];return r==null&&ko(),r},Rie=function(){var t=$.useContext(oL);return t},Pie=function(){return $.useContext(sL)},US=function(){return $.useContext(uL)},FS=function(){return $.useContext(cL)};function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Die(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pL(r.key),r)}}function $ie(e,t,n){return t&&Die(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iie(e,t,n){return t=Sp(t),Lie(e,hL()?Reflect.construct(t,n||[],Sp(e).constructor):t.apply(e,n))}function Lie(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zie(e)}function zie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(e)}function Bie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},n_(e,t)}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){HS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HS(e,t,n){return t=pL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pL(e){var t=qie(e,"string");return wl(t)=="symbol"?t:t+""}function qie(e,t){if(wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uie(e,t){return Gie(e)||Vie(e,t)||Hie(e,t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(e,t){if(e){if(typeof e=="string")return vk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(e,t)}}function vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Gie(e){if(Array.isArray(e))return e}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(this,arguments)}var Kie=function(t,n){var r;return Z.isValidElement(t)?r=Z.cloneElement(t,n):Ke(t)?r=t(n):r=Z.createElement("line",r_({},n,{className:"recharts-reference-line-line"})),r},Yie=function(t,n,r,a,s,l,u,d,f){var m=s.x,g=s.y,y=s.width,x=s.height;if(r){var S=f.y,_=t.y.apply(S,{position:l});if(si(f,"discard")&&!t.y.isInRange(_))return null;var b=[{x:m+y,y:_},{x:m,y:_}];return d==="left"?b.reverse():b}if(n){var j=f.x,O=t.x.apply(j,{position:l});if(si(f,"discard")&&!t.x.isInRange(O))return null;var T=[{x:O,y:g+x},{x:O,y:g}];return u==="top"?T.reverse():T}if(a){var E=f.segment,N=E.map(function(C){return t.apply(C,{position:l})});return si(f,"discard")&&qre(N,function(C){return!t.isInRange(C)})?null:N}return null};function Xie(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,s=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=Cie(),m=fL(a),g=dL(s),y=Rie();if(!f||!y)return null;zr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=zS({x:m.scale,y:g.scale}),S=rn(t),_=rn(n),b=r&&r.length===2,j=Yie(x,S,_,b,y,e.position,m.orientation,g.orientation,e);if(!j)return null;var O=Uie(j,2),T=O[0],E=T.x,N=T.y,C=O[1],R=C.x,M=C.y,P=si(e,"hidden")?"url(#".concat(f,")"):void 0,B=mk(mk({clipPath:P},Be(e,!0)),{},{x1:E,y1:N,x2:R,y2:M});return Z.createElement(ot,{className:Xe("recharts-reference-line",u)},Kie(l,B),fn.renderCallByParent(e,gie({x1:E,y1:N,x2:R,y2:M})))}var VS=(function(e){function t(){return kie(this,t),Iie(this,t,arguments)}return Bie(t,e),$ie(t,[{key:"render",value:function(){return Z.createElement(Xie,this.props)}}])})(Z.Component);HS(VS,"displayName","ReferenceLine");HS(VS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i_.apply(this,arguments)}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){Pm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vL(r.key),r)}}function Qie(e,t,n){return t&&Zie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jie(e,t,n){return t=jp(t),eae(e,mL()?Reflect.construct(t,n||[],jp(e).constructor):t.apply(e,n))}function eae(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(e)}function tae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(e)}function nae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},a_(e,t)}function Pm(e,t,n){return t=vL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vL(e){var t=rae(e,"string");return _l(t)=="symbol"?t:t+""}function rae(e,t){if(_l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iae=function(t){var n=t.x,r=t.y,a=t.xAxis,s=t.yAxis,l=zS({x:a.scale,y:s.scale}),u=l.apply({x:n,y:r},{bandAware:!0});return si(t,"discard")&&!l.isInRange(u)?null:u},km=(function(e){function t(){return Wie(this,t),Jie(this,t,arguments)}return nae(t,e),Qie(t,[{key:"render",value:function(){var r=this.props,a=r.x,s=r.y,l=r.r,u=r.alwaysShow,d=r.clipPathId,f=rn(a),m=rn(s);if(zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var g=iae(this.props);if(!g)return null;var y=g.x,x=g.y,S=this.props,_=S.shape,b=S.className,j=si(this.props,"hidden")?"url(#".concat(d,")"):void 0,O=yk(yk({clipPath:j},Be(this.props,!0)),{},{cx:y,cy:x});return Z.createElement(ot,{className:Xe("recharts-reference-dot",b)},t.renderDot(_,O),fn.renderCallByParent(this.props,{x:y-l,y:x-l,width:2*l,height:2*l}))}}])})(Z.Component);Pm(km,"displayName","ReferenceDot");Pm(km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pm(km,"renderDot",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):Ke(e)?n=e(t):n=Z.createElement(Am,i_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){Dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yL(r.key),r)}}function sae(e,t,n){return t&&oae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lae(e,t,n){return t=Ap(t),cae(e,gL()?Reflect.construct(t,n||[],Ap(e).constructor):t.apply(e,n))}function cae(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uae(e)}function uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(e)}function fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},s_(e,t)}function Dm(e,t,n){return t=yL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yL(e){var t=dae(e,"string");return Sl(t)=="symbol"?t:t+""}function dae(e,t){if(Sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hae=function(t,n,r,a,s){var l=s.x1,u=s.x2,d=s.y1,f=s.y2,m=s.xAxis,g=s.yAxis;if(!m||!g)return null;var y=zS({x:m.scale,y:g.scale}),x={x:t?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(d,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(f,{position:"end"}):y.y.rangeMax};return si(s,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:iL(x,S)},$m=(function(e){function t(){return aae(this,t),lae(this,t,arguments)}return fae(t,e),sae(t,[{key:"render",value:function(){var r=this.props,a=r.x1,s=r.x2,l=r.y1,u=r.y2,d=r.className,f=r.alwaysShow,m=r.clipPathId;zr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=rn(a),y=rn(s),x=rn(l),S=rn(u),_=this.props.shape;if(!g&&!y&&!x&&!S&&!_)return null;var b=hae(g,y,x,S,this.props);if(!b&&!_)return null;var j=si(this.props,"hidden")?"url(#".concat(m,")"):void 0;return Z.createElement(ot,{className:Xe("recharts-reference-area",d)},t.renderRect(_,bk(bk({clipPath:j},Be(this.props,!0)),b)),fn.renderCallByParent(this.props,b))}}])})(Z.Component);Dm($m,"displayName","ReferenceArea");Dm($m,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dm($m,"renderRect",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):Ke(e)?n=e(t):n=Z.createElement(IS,o_({},t,{className:"recharts-reference-area-rect"})),n});function xL(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function pae(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return xie(r,n)}function mae(e,t,n){var r=n==="width",a=e.x,s=e.y,l=e.width,u=e.height;return t===1?{start:r?a:s,end:r?a+l:s+u}:{start:r?a+l:s+u,end:r?a:s}}function Op(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function vae(e,t){return xL(e,t+1)}function gae(e,t,n,r,a){for(var s=(r||[]).slice(),l=t.start,u=t.end,d=0,f=1,m=l,g=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:xL(r,f)};var _=d,b,j=function(){return b===void 0&&(b=n(S,_)),b},O=S.coordinate,T=d===0||Op(e,O,j,m,u);T||(d=0,m=l,f+=1),T&&(m=O+e*(j()/2+a),d+=f)},y;f<=s.length;)if(y=g(),y)return y.v;return[]}function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){yae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yae(e,t,n){return t=xae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xae(e){var t=bae(e,"string");return uf(t)=="symbol"?t:t+""}function bae(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wae(e,t,n,r,a){for(var s=(r||[]).slice(),l=s.length,u=t.start,d=t.end,f=function(y){var x=s[y],S,_=function(){return S===void 0&&(S=n(x,y)),S};if(y===l-1){var b=e*(x.coordinate+e*_()/2-d);s[y]=x=Sn(Sn({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else s[y]=x=Sn(Sn({},x),{},{tickCoord:x.coordinate});var j=Op(e,x.tickCoord,_,u,d);j&&(d=x.tickCoord-e*(_()/2+a),s[y]=Sn(Sn({},x),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return s}function _ae(e,t,n,r,a,s){var l=(r||[]).slice(),u=l.length,d=t.start,f=t.end;if(s){var m=r[u-1],g=n(m,u-1),y=e*(m.coordinate+e*g/2-f);l[u-1]=m=Sn(Sn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate});var x=Op(e,m.tickCoord,function(){return g},d,f);x&&(f=m.tickCoord-e*(g/2+a),l[u-1]=Sn(Sn({},m),{},{isShow:!0}))}for(var S=s?u-1:u,_=function(O){var T=l[O],E,N=function(){return E===void 0&&(E=n(T,O)),E};if(O===0){var C=e*(T.coordinate-e*N()/2-d);l[O]=T=Sn(Sn({},T),{},{tickCoord:C<0?T.coordinate-C*e:T.coordinate})}else l[O]=T=Sn(Sn({},T),{},{tickCoord:T.coordinate});var R=Op(e,T.tickCoord,N,d,f);R&&(d=T.tickCoord+e*(N()/2+a),l[O]=Sn(Sn({},T),{},{isShow:!0}))},b=0;b<S;b++)_(b);return l}function GS(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,m=e.unit,g=e.angle;if(!a||!a.length||!r)return[];if(Ee(d)||Ua.isSsr)return vae(a,typeof d=="number"&&Ee(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=m&&x==="width"?vu(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=function(T,E){var N=Ke(f)?f(T.value,E):T.value;return x==="width"?pae(vu(N,{fontSize:t,letterSpacing:n}),S,g):vu(N,{fontSize:t,letterSpacing:n})[x]},b=a.length>=2?Mn(a[1].coordinate-a[0].coordinate):1,j=mae(s,b,x);return d==="equidistantPreserveStart"?gae(b,j,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=_ae(b,j,_,a,l,d==="preserveStartEnd"):y=wae(b,j,_,a,l),y.filter(function(O){return O.isShow}))}var Sae=["viewBox"],jae=["viewBox"],Aae=["ticks"];function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){KS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x1(e,t){if(e==null)return{};var n=Oae(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wL(r.key),r)}}function Nae(e,t,n){return t&&Sk(e.prototype,t),n&&Sk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cae(e,t,n){return t=Ep(t),Tae(e,bL()?Reflect.construct(t,n||[],Ep(e).constructor):t.apply(e,n))}function Tae(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(e)}function Mae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(e)}function Rae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},l_(e,t)}function KS(e,t,n){return t=wL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wL(e){var t=Pae(e,"string");return jl(t)=="symbol"?t:t+""}function Pae(e,t){if(jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wl=(function(e){function t(n){var r;return Eae(this,t),r=Cae(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Rae(t,e),Nae(t,[{key:"shouldComponentUpdate",value:function(r,a){var s=r.viewBox,l=x1(r,Sae),u=this.props,d=u.viewBox,f=x1(u,jae);return!Xs(s,d)||!Xs(l,f)||!Xs(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,s=a.x,l=a.y,u=a.width,d=a.height,f=a.orientation,m=a.tickSize,g=a.mirror,y=a.tickMargin,x,S,_,b,j,O,T=g?-1:1,E=r.tickSize||m,N=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":x=S=r.coordinate,b=l+ +!g*d,_=b-T*E,O=_-T*y,j=N;break;case"left":_=b=r.coordinate,S=s+ +!g*u,x=S-T*E,j=x-T*y,O=N;break;case"right":_=b=r.coordinate,S=s+ +g*u,x=S+T*E,j=x+T*y,O=N;break;default:x=S=r.coordinate,b=l+ +g*d,_=b+T*E,O=_+T*y,j=N;break}return{line:{x1:x,y1:_,x2:S,y2:b},tick:{x:j,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,s=r.mirror,l;switch(a){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,s=r.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,s=r.y,l=r.width,u=r.height,d=r.orientation,f=r.mirror,m=r.axisLine,g=en(en(en({},Be(this.props,!1)),Be(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);g=en(en({},g),{},{x1:a,y1:s+y*u,x2:a+l,y2:s+y*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);g=en(en({},g),{},{x1:a+x*l,y1:s,x2:a+x*l,y2:s+u})}return Z.createElement("line",Hs({},g,{className:Xe("recharts-cartesian-axis-line",lr(m,"className"))}))}},{key:"renderTicks",value:function(r,a,s){var l=this,u=this.props,d=u.tickLine,f=u.stroke,m=u.tick,g=u.tickFormatter,y=u.unit,x=GS(en(en({},this.props),{},{ticks:r}),a,s),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=Be(this.props,!1),j=Be(m,!1),O=en(en({},b),{},{fill:"none"},Be(d,!1)),T=x.map(function(E,N){var C=l.getTickLineCoord(E),R=C.line,M=C.tick,P=en(en(en(en({textAnchor:S,verticalAnchor:_},b),{},{stroke:"none",fill:f},j),M),{},{index:N,payload:E,visibleTicksCount:x.length,tickFormatter:g});return Z.createElement(ot,Hs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},La(l.props,E,N)),d&&Z.createElement("line",Hs({},O,R,{className:Xe("recharts-cartesian-axis-tick-line",lr(d,"className"))})),m&&t.renderTickItem(m,P,"".concat(Ke(g)?g(E.value,N):E.value).concat(y||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,a=this.props,s=a.axisLine,l=a.width,u=a.height,d=a.ticksGenerator,f=a.className,m=a.hide;if(m)return null;var g=this.props,y=g.ticks,x=x1(g,Aae),S=y;return Ke(d)&&(S=y&&y.length>0?d(this.props):d(x)),l<=0||u<=0||!S||!S.length?null:Z.createElement(ot,{className:Xe("recharts-cartesian-axis",f),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,s){var l,u=Xe(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(r)?l=Z.cloneElement(r,en(en({},a),{},{className:u})):Ke(r)?l=r(en(en({},a),{},{className:u})):l=Z.createElement(Mo,Hs({},a,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})($.Component);KS(Wl,"displayName","CartesianAxis");KS(Wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kae=["x1","y1","x2","y2","key"],Dae=["offset"];function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){$ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ae(e,t,n){return t=Iae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iae(e){var t=Lae(e,"string");return Do(t)=="symbol"?t:t+""}function Lae(e,t){if(Do(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Do(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function Ak(e,t){if(e==null)return{};var n=zae(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Bae=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,s=t.y,l=t.width,u=t.height,d=t.ry;return Z.createElement("rect",{x:a,y:s,ry:d,width:l,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _L(e,t){var n;if(Z.isValidElement(e))n=Z.cloneElement(e,t);else if(Ke(e))n=e(t);else{var r=t.x1,a=t.y1,s=t.x2,l=t.y2,u=t.key,d=Ak(t,kae),f=Be(d,!1);f.offset;var m=Ak(f,Dae);n=Z.createElement("line",_o({},m,{x1:r,y1:a,x2:s,y2:l,fill:"none",key:u}))}return n}function qae(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(u,d){var f=jn(jn({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return _L(a,f)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Uae(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,s=e.verticalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(u,d){var f=jn(jn({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return _L(a,f)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Fae(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,s=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var m=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==m[0]&&m.unshift(0);var g=m.map(function(y,x){var S=!m[x+1],_=S?a+l-y:m[x+1]-y;if(_<=0)return null;var b=x%t.length;return Z.createElement("rect",{key:"react-".concat(x),y,x:r,height:_,width:s,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function Hae(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,s=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var m=f.map(function(y){return Math.round(y+s-s)}).sort(function(y,x){return y-x});s!==m[0]&&m.unshift(0);var g=m.map(function(y,x){var S=!m[x+1],_=S?s+u-y:m[x+1]-y;if(_<=0)return null;var b=x%r.length;return Z.createElement("rect",{key:"react-".concat(x),x:y,y:l,width:_,height:d,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var Vae=function(t,n){var r=t.xAxis,a=t.width,s=t.height,l=t.offset;return j4(GS(jn(jn(jn({},Wl.defaultProps),r),{},{ticks:Bi(r,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,n)},Gae=function(t,n){var r=t.yAxis,a=t.width,s=t.height,l=t.offset;return j4(GS(jn(jn(jn({},Wl.defaultProps),r),{},{ticks:Bi(r,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,n)},Is={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tl(e){var t,n,r,a,s,l,u=US(),d=FS(),f=Pie(),m=jn(jn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Is.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Is.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Is.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Is.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Is.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Is.verticalFill,x:Ee(e.x)?e.x:f.left,y:Ee(e.y)?e.y:f.top,width:Ee(e.width)?e.width:f.width,height:Ee(e.height)?e.height:f.height}),g=m.x,y=m.y,x=m.width,S=m.height,_=m.syncWithTicks,b=m.horizontalValues,j=m.verticalValues,O=Tie(),T=Mie();if(!Ee(x)||x<=0||!Ee(S)||S<=0||!Ee(g)||g!==+g||!Ee(y)||y!==+y)return null;var E=m.verticalCoordinatesGenerator||Vae,N=m.horizontalCoordinatesGenerator||Gae,C=m.horizontalPoints,R=m.verticalPoints;if((!C||!C.length)&&Ke(N)){var M=b&&b.length,P=N({yAxis:T?jn(jn({},T),{},{ticks:M?b:T.ticks}):void 0,width:u,height:d,offset:f},M?!0:_);zr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Do(P),"]")),Array.isArray(P)&&(C=P)}if((!R||!R.length)&&Ke(E)){var B=j&&j.length,D=E({xAxis:O?jn(jn({},O),{},{ticks:B?j:O.ticks}):void 0,width:u,height:d,offset:f},B?!0:_);zr(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Do(D),"]")),Array.isArray(D)&&(R=D)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(Bae,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Z.createElement(qae,_o({},m,{offset:f,horizontalPoints:C,xAxis:O,yAxis:T})),Z.createElement(Uae,_o({},m,{offset:f,verticalPoints:R,xAxis:O,yAxis:T})),Z.createElement(Fae,_o({},m,{horizontalPoints:C})),Z.createElement(Hae,_o({},m,{verticalPoints:R})))}tl.displayName="CartesianGrid";var Kae=["type","layout","connectNulls","ref"],Yae=["key"];function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function Ok(e,t){if(e==null)return{};var n=Xae(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju.apply(this,arguments)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){$r(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ls(e){return Jae(e)||Qae(e)||Zae(e)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function Qae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jae(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jL(r.key),r)}}function toe(e,t,n){return t&&Nk(e.prototype,t),n&&Nk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function noe(e,t,n){return t=Np(t),roe(e,SL()?Reflect.construct(t,n||[],Np(e).constructor):t.apply(e,n))}function roe(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(e)}function ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(e)}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},u_(e,t)}function $r(e,t,n){return t=jL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jL(e){var t=ooe(e,"string");return Al(t)=="symbol"?t:t+""}function ooe(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ef=(function(e){function t(){var n;eoe(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=noe(this,t,[].concat(a)),$r(n,"state",{isAnimationFinished:!0,totalLength:0}),$r(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),$r(n,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(j,O){return j+O});if(!f)return n.generateSimpleStrokeDasharray(u,l);for(var m=Math.floor(l/f),g=l%f,y=u-l,x=[],S=0,_=0;S<d.length;_+=d[S],++S)if(_+d[S]>g){x=[].concat(Ls(d.slice(0,S)),[g-_]);break}var b=x.length%2===0?[0,y]:[y];return[].concat(Ls(t.repeat(d,m)),Ls(x),b).map(function(j){return"".concat(j,"px")}).join(", ")}),$r(n,"id",qo("recharts-line-")),$r(n,"pathRef",function(l){n.mainCurve=l}),$r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return aoe(t,e),toe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,d=s.yAxis,f=s.layout,m=s.children,g=kn(m,Xl);if(!g)return null;var y=function(_,b){return{x:_.x,y:_.y,value:_.value,errorVal:qt(_.payload,b)}},x={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(ot,x,g.map(function(S){return Z.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,a,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,m=u.dataKey,g=Be(this.props,!1),y=Be(d,!0),x=f.map(function(_,b){var j=tr(tr(tr({key:"dot-".concat(b),r:3},g),y),{},{index:b,cx:_.x,cy:_.y,value:_.value,dataKey:m,payload:_.payload,points:f});return t.renderDotItem(d,j)}),S={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Z.createElement(ot,ju({className:"recharts-line-dots",key:"dots"},S),x)}},{key:"renderCurveStatically",value:function(r,a,s,l){var u=this.props,d=u.type,f=u.layout,m=u.connectNulls;u.ref;var g=Ok(u,Kae),y=tr(tr(tr({},Be(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:r},l),{},{type:d,layout:f,connectNulls:m});return Z.createElement(Qu,ju({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var s=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,m=l.animationBegin,g=l.animationDuration,y=l.animationEasing,x=l.animationId,S=l.animateNewValues,_=l.width,b=l.height,j=this.state,O=j.prevPoints,T=j.totalLength;return Z.createElement(Ur,{begin:m,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var N=E.t;if(O){var C=O.length/u.length,R=u.map(function(I,z){var L=Math.floor(z*C);if(O[L]){var H=O[L],k=yn(H.x,I.x),U=yn(H.y,I.y);return tr(tr({},I),{},{x:k(N),y:U(N)})}if(S){var G=yn(_*2,I.x),V=yn(b/2,I.y);return tr(tr({},I),{},{x:G(N),y:V(N)})}return tr(tr({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(R,r,a)}var M=yn(0,T),P=M(N),B;if(d){var D="".concat(d).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});B=s.getStrokeDasharray(P,T,D)}else B=s.generateSimpleStrokeDasharray(T,P);return s.renderCurveStatically(u,r,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,a){var s=this.props,l=s.points,u=s.isAnimationActive,d=this.state,f=d.prevPoints,m=d.totalLength;return u&&l&&l.length&&(!f&&m>0||!Gl(f,l))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(l,r,a)}},{key:"render",value:function(){var r,a=this.props,s=a.hide,l=a.dot,u=a.points,d=a.className,f=a.xAxis,m=a.yAxis,g=a.top,y=a.left,x=a.width,S=a.height,_=a.isAnimationActive,b=a.id;if(s||!u||!u.length)return null;var j=this.state.isAnimationFinished,O=u.length===1,T=Xe("recharts-line",d),E=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,C=E||N,R=He(b)?this.id:b,M=(r=Be(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=M.r,B=P===void 0?3:P,D=M.strokeWidth,I=D===void 0?2:D,z=A9(l)?l:{},L=z.clipDot,H=L===void 0?!0:L,k=B*2+I;return Z.createElement(ot,{className:T},E||N?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(R)},Z.createElement("rect",{x:E?y:y-x/2,y:N?g:g-S/2,width:E?x:x*2,height:N?S:S*2})),!H&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(R)},Z.createElement("rect",{x:y-k/2,y:g-k/2,width:x+k,height:S+k}))):null,!O&&this.renderCurve(C,R),this.renderErrorBar(C,R),(O||l)&&this.renderDots(C,H,R),(!_||j)&&oi.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var s=r.length%2!==0?[].concat(Ls(r),[0]):r,l=[],u=0;u<a;++u)l=[].concat(Ls(l),Ls(s));return l}},{key:"renderDotItem",value:function(r,a){var s;if(Z.isValidElement(r))s=Z.cloneElement(r,a);else if(Ke(r))s=r(a);else{var l=a.key,u=Ok(a,Yae),d=Xe("recharts-line-dot",typeof r!="boolean"?r.className:"");s=Z.createElement(Am,ju({key:l},u,{className:d}))}return s}}])})($.PureComponent);$r(Ef,"displayName","Line");$r(Ef,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ua.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$r(Ef,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,m=t.layout,g=d.map(function(y,x){var S=qt(y,l);return m==="horizontal"?{x:ip({axis:n,ticks:a,bandSize:u,entry:y,index:x}),y:He(S)?null:r.scale(S),value:S,payload:y}:{x:He(S)?null:n.scale(S),y:ip({axis:r,ticks:s,bandSize:u,entry:y,index:x}),value:S,payload:y}});return tr({points:g,layout:m},f)});function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function loe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EL(r.key),r)}}function coe(e,t,n){return t&&loe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,n){return t=Cp(t),foe(e,AL()?Reflect.construct(t,n||[],Cp(e).constructor):t.apply(e,n))}function foe(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(e)}function doe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(e)}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},f_(e,t)}function OL(e,t,n){return t=EL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EL(e){var t=poe(e,"string");return Ol(t)=="symbol"?t:t+""}function poe(e,t){if(Ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Im=(function(e){function t(){return soe(this,t),uoe(this,t,arguments)}return hoe(t,e),coe(t,[{key:"render",value:function(){return null}}])})($.Component);OL(Im,"displayName","ZAxis");OL(Im,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var moe=["option","isActive"];function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}function voe(e,t){if(e==null)return{};var n=goe(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function goe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yoe(e){var t=e.option,n=e.isActive,r=voe(e,moe);return typeof t=="string"?$.createElement(vp,Au({option:$.createElement(um,Au({type:t},r)),isActive:n,shapeType:"symbols"},r)):$.createElement(vp,Au({option:t,isActive:n,shapeType:"symbols"},r))}function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){Ta(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CL(r.key),r)}}function boe(e,t,n){return t&&Tk(e.prototype,t),n&&Tk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function woe(e,t,n){return t=Tp(t),_oe(e,NL()?Reflect.construct(t,n||[],Tp(e).constructor):t.apply(e,n))}function _oe(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(e)}function Soe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(e)}function joe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d_(e,t)}function Ta(e,t,n){return t=CL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CL(e){var t=Aoe(e,"string");return El(t)=="symbol"?t:t+""}function Aoe(e,t){if(El(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nf=(function(e){function t(){var n;xoe(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=woe(this,t,[].concat(a)),Ta(n,"state",{isAnimationFinished:!1}),Ta(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Ta(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Ta(n,"id",qo("recharts-scatter-")),n}return joe(t,e),boe(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,s=this.props,l=s.shape,u=s.activeShape,d=s.activeIndex,f=Be(this.props,!1);return r.map(function(m,g){var y=d===g,x=y?u:l,S=_r(_r({},f),m);return Z.createElement(ot,Ou({className:"recharts-scatter-symbol",key:"symbol-".concat(m==null?void 0:m.cx,"-").concat(m==null?void 0:m.cy,"-").concat(m==null?void 0:m.size,"-").concat(g)},La(a.props,m,g),{role:"img"}),Z.createElement(yoe,Ou({option:x,isActive:y,key:"symbol-".concat(g)},S)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,s=a.points,l=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,g=this.state.prevPoints;return Z.createElement(Ur,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,S=s.map(function(_,b){var j=g&&g[b];if(j){var O=yn(j.cx,_.cx),T=yn(j.cy,_.cy),E=yn(j.size,_.size);return _r(_r({},_),{},{cx:O(x),cy:T(x),size:E(x)})}var N=yn(0,_.size);return _r(_r({},_),{},{size:N(x)})});return Z.createElement(ot,null,r.renderSymbolsStatically(S))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,s=r.isAnimationActive,l=this.state.prevPoints;return s&&a&&a.length&&(!l||!Gl(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,u=a.yAxis,d=a.children,f=kn(d,Xl);return f?f.map(function(m,g){var y=m.props,x=y.direction,S=y.dataKey;return Z.cloneElement(m,{key:"".concat(x,"-").concat(S,"-").concat(s[g]),data:s,xAxis:l,yAxis:u,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(b,j){return{x:b.cx,y:b.cy,value:x==="x"?+b.node.x:+b.node.y,errorVal:qt(b,j)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,s=r.line,l=r.lineType,u=r.lineJointType,d=Be(this.props,!1),f=Be(s,!1),m,g;if(l==="joint")m=a.map(function(T){return{x:T.cx,y:T.cy}});else if(l==="fitting"){var y=m9(a),x=y.xmin,S=y.xmax,_=y.a,b=y.b,j=function(E){return _*E+b};m=[{x,y:j(x)},{x:S,y:j(S)}]}var O=_r(_r(_r({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return Z.isValidElement(s)?g=Z.cloneElement(s,O):Ke(s)?g=s(O):g=Z.createElement(Qu,Ou({},O,{type:u})),Z.createElement(ot,{className:"recharts-scatter-line",key:"recharts-scatter-line"},g)}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.points,l=r.line,u=r.className,d=r.xAxis,f=r.yAxis,m=r.left,g=r.top,y=r.width,x=r.height,S=r.id,_=r.isAnimationActive;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,j=Xe("recharts-scatter",u),O=d&&d.allowDataOverflow,T=f&&f.allowDataOverflow,E=O||T,N=He(S)?this.id:S;return Z.createElement(ot,{className:j,clipPath:E?"url(#clipPath-".concat(N,")"):null},O||T?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(N)},Z.createElement("rect",{x:O?m:m-y/2,y:T?g:g-x/2,width:O?y:y*2,height:T?x:x*2}))):null,l&&this.renderLine(),this.renderErrorBar(),Z.createElement(ot,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!_||b)&&oi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])})($.PureComponent);Ta(Nf,"displayName","Scatter");Ta(Nf,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ua.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ta(Nf,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=a.props.tooltipType,m=kn(a.props.children,Sf),g=He(t.dataKey)?a.props.dataKey:t.dataKey,y=He(n.dataKey)?a.props.dataKey:n.dataKey,x=r&&r.dataKey,S=r?r.range:Im.defaultProps.range,_=S&&S[0],b=t.scale.bandwidth?t.scale.bandwidth():0,j=n.scale.bandwidth?n.scale.bandwidth():0,O=s.map(function(T,E){var N=qt(T,g),C=qt(T,y),R=!He(x)&&qt(T,x)||"-",M=[{name:He(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:N,payload:T,dataKey:g,type:f},{name:He(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:T,dataKey:y,type:f}];R!=="-"&&M.push({name:r.name||r.dataKey,unit:r.unit||"",value:R,payload:T,dataKey:x,type:f});var P=ip({axis:t,ticks:l,bandSize:b,entry:T,index:E,dataKey:g}),B=ip({axis:n,ticks:u,bandSize:j,entry:T,index:E,dataKey:y}),D=R!=="-"?r.scale(R):_,I=Math.sqrt(Math.max(D,0)/Math.PI);return _r(_r({},T),{},{cx:P,cy:B,x:P-I,y:B-I,xAxis:t,yAxis:n,zAxis:r,width:2*I,height:2*I,size:D,node:{x:N,y:C,z:R},tooltipPayload:M,tooltipPosition:{x:P,y:B},payload:T},m&&m[E]&&m[E].props)});return _r({points:O},d)});function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function Ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RL(r.key),r)}}function Noe(e,t,n){return t&&Eoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Coe(e,t,n){return t=Mp(t),Toe(e,TL()?Reflect.construct(t,n||[],Mp(e).constructor):t.apply(e,n))}function Toe(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Moe(e)}function Moe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(e)}function Roe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},h_(e,t)}function ML(e,t,n){return t=RL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RL(e){var t=Poe(e,"string");return Nl(t)=="symbol"?t:t+""}function Poe(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(this,arguments)}function koe(e){var t=e.xAxisId,n=US(),r=FS(),a=fL(t);return a==null?null:$.createElement(Wl,p_({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return Bi(l,!0)}}))}var ci=(function(e){function t(){return Ooe(this,t),Coe(this,t,arguments)}return Roe(t,e),Noe(t,[{key:"render",value:function(){return $.createElement(koe,this.props)}}])})($.Component);ML(ci,"displayName","XAxis");ML(ci,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Doe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DL(r.key),r)}}function Ioe(e,t,n){return t&&$oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Loe(e,t,n){return t=Rp(t),zoe(e,PL()?Reflect.construct(t,n||[],Rp(e).constructor):t.apply(e,n))}function zoe(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Boe(e)}function Boe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(e)}function qoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},m_(e,t)}function kL(e,t,n){return t=DL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DL(e){var t=Uoe(e,"string");return Cl(t)=="symbol"?t:t+""}function Uoe(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}var Foe=function(t){var n=t.yAxisId,r=US(),a=FS(),s=dL(n);return s==null?null:$.createElement(Wl,v_({},s,{className:Xe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Bi(u,!0)}}))},ui=(function(e){function t(){return Doe(this,t),Loe(this,t,arguments)}return qoe(t,e),Ioe(t,[{key:"render",value:function(){return $.createElement(Foe,this.props)}}])})($.Component);kL(ui,"displayName","YAxis");kL(ui,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Mk(e){return Koe(e)||Goe(e)||Voe(e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(e,t){if(e){if(typeof e=="string")return g_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,t)}}function Goe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Koe(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y_=function(t,n,r,a,s){var l=kn(t,VS),u=kn(t,km),d=[].concat(Mk(l),Mk(u)),f=kn(t,$m),m="".concat(a,"Id"),g=a[0],y=n;if(d.length&&(y=d.reduce(function(_,b){if(b.props[m]===r&&si(b.props,"extendDomain")&&Ee(b.props[g])){var j=b.props[g];return[Math.min(_[0],j),Math.max(_[1],j)]}return _},y)),f.length){var x="".concat(g,"1"),S="".concat(g,"2");y=f.reduce(function(_,b){if(b.props[m]===r&&si(b.props,"extendDomain")&&Ee(b.props[x])&&Ee(b.props[S])){var j=b.props[x],O=b.props[S];return[Math.min(_[0],j,O),Math.max(_[1],j,O)]}return _},y)}return s&&s.length&&(y=s.reduce(function(_,b){return Ee(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},b1={exports:{}},Rk;function Yoe(){return Rk||(Rk=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,g||d,y),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,S=new Array(x);y<x;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,y,x,S){var _=n?n+f:f;if(!this._events[_])return!1;var b=this._events[_],j=arguments.length,O,T;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,g),!0;case 4:return b.fn.call(b.context,m,g,y),!0;case 5:return b.fn.call(b.context,m,g,y,x),!0;case 6:return b.fn.call(b.context,m,g,y,x,S),!0}for(T=1,O=new Array(j-1);T<j;T++)O[T-1]=arguments[T];b.fn.apply(b.context,O)}else{var E=b.length,N;for(T=0;T<E;T++)switch(b[T].once&&this.removeListener(f,b[T].fn,void 0,!0),j){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,m);break;case 3:b[T].fn.call(b[T].context,m,g);break;case 4:b[T].fn.call(b[T].context,m,g,y);break;default:if(!O)for(N=1,O=new Array(j-1);N<j;N++)O[N-1]=arguments[N];b[T].fn.apply(b[T].context,O)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,y){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!y||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var _=0,b=[],j=S.length;_<j;_++)(S[_].fn!==m||y&&!S[_].once||g&&S[_].context!==g)&&b.push(S[_]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(b1)),b1.exports}var Xoe=Yoe();const Woe=vt(Xoe);var w1=new Woe,_1="recharts.syncMouseEvents";function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$L(r.key),r)}}function Joe(e,t,n){return t&&Qoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S1(e,t,n){return t=$L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e){var t=ese(e,"string");return ff(t)=="symbol"?t:t+""}function ese(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tse=(function(){function e(){Zoe(this,e),S1(this,"activeIndex",0),S1(this,"coordinateList",[]),S1(this,"layout","horizontal")}return Joe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,s=a===void 0?null:a,l=n.container,u=l===void 0?null:l,d=n.layout,f=d===void 0?null:d,m=n.offset,g=m===void 0?null:m,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,l=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=s+d+f,y=l+this.offset.top+u/2+m;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])})();function nse(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ee(r)&&Ee(a))return!0}return!1}function rse(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function IL(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle,l=Pt(t,n,r,a),u=Pt(t,n,r,s);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function ise(e,t,n){var r,a,s,l;if(e==="horizontal")r=t.x,s=r,a=n.top,l=n.top+n.height;else if(e==="vertical")a=t.y,l=a,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,m=t.outerRadius,g=t.angle,y=Pt(u,d,f,g),x=Pt(u,d,m,g);r=y.x,a=y.y,s=x.x,l=x.y}else return IL(t);return[{x:r,y:a},{x:s,y:l}]}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ase(e,t,n){return t=ose(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=sse(e,"string");return df(t)=="symbol"?t:t+""}function sse(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lse(e){var t,n,r=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,m=e.tooltipAxisBandSize,g=e.layout,y=e.chartName,x=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!s||!l||y!=="ScatterChart"&&a!=="axis")return null;var S,_=Qu;if(y==="ScatterChart")S=l,_=fne;else if(y==="BarChart")S=rse(g,l,d,m),_=IS;else if(g==="radial"){var b=IL(l),j=b.cx,O=b.cy,T=b.radius,E=b.startAngle,N=b.endAngle;S={cx:j,cy:O,startAngle:E,endAngle:N,innerRadius:T,outerRadius:T},_=D4}else S={points:ise(g,l,d)},_=Qu;var C=uh(uh(uh(uh({stroke:"#ccc",pointerEvents:"none"},d),S),Be(x,!1)),{},{payload:u,payloadIndex:f,className:Xe("recharts-tooltip-cursor",x.className)});return $.isValidElement(x)?$.cloneElement(x,C):$.createElement(_,C)}var cse=["item"],use=["children","className","width","height","style","compact","title","desc"];function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}function kk(e,t){return hse(e)||dse(e,t)||zL(e,t)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dse(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,u=[],d=!0,f=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function hse(e){if(Array.isArray(e))return e}function Dk(e,t){if(e==null)return{};var n=pse(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BL(r.key),r)}}function gse(e,t,n){return t&&vse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yse(e,t,n){return t=Pp(t),xse(e,LL()?Reflect.construct(t,n||[],Pp(e).constructor):t.apply(e,n))}function xse(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(e)}function bse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(e)}function wse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},x_(e,t)}function Ml(e){return jse(e)||Sse(e)||zL(e)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(e,t){if(e){if(typeof e=="string")return b_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(e,t)}}function Sse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jse(e){if(Array.isArray(e))return b_(e)}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fe(e,t,n){return t=BL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BL(e){var t=Ase(e,"string");return Tl(t)=="symbol"?t:t+""}function Ase(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ose={xAxis:["bottom","top"],yAxis:["left","right"]},Ese={width:"100%",height:"100%"},qL={x:0,y:0};function fh(e){return e}var Nse=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Cse=function(t,n,r,a){var s=n.find(function(m){return m&&m.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,u=a.radius;return xe(xe(xe({},a),Pt(a.cx,a.cy,u,l)),{},{angle:l,radius:u})}var d=s.coordinate,f=a.angle;return xe(xe(xe({},a),Pt(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return qL},Lm=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,s=n.dataEndIndex,l=(r??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Ml(u),Ml(f)):u},[]);return l.length>0?l:t&&t.length&&Ee(a)&&Ee(s)?t.slice(a,s+1):[]};function UL(e){return e==="number"?[0,"auto"]:void 0}var w_=function(t,n,r,a){var s=t.graphicalItems,l=t.tooltipAxis,u=Lm(n,t);return r<0||!s||!s.length||r>=u.length?null:s.reduce(function(d,f){var m,g=(m=f.props.data)!==null&&m!==void 0?m:n;g&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(g=g.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var x=g===void 0?u:g;y=Ph(x,l.dataKey,a)}else y=g&&g[r]||u[r];return y?[].concat(Ml(d),[C4(f,y)]):d},[])},Ik=function(t,n,r,a){var s=a||{x:t.chartX,y:t.chartY},l=Nse(s,r),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,m=DQ(l,u,f,d);if(m>=0&&f){var g=f[m]&&f[m].value,y=w_(t,n,m,g),x=Cse(r,u,m,s);return{activeTooltipIndex:m,activeLabel:g,activePayload:y,activeCoordinate:x}}return null},Tse=function(t,n){var r=n.axes,a=n.graphicalItems,s=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,g=t.children,y=t.stackOffset,x=S4(m,s);return r.reduce(function(S,_){var b,j=_.type.defaultProps!==void 0?xe(xe({},_.type.defaultProps),_.props):_.props,O=j.type,T=j.dataKey,E=j.allowDataOverflow,N=j.allowDuplicatedCategory,C=j.scale,R=j.ticks,M=j.includeHidden,P=j[l];if(S[P])return S;var B=Lm(t.data,{graphicalItems:a.filter(function(W){var Y,ee=l in W.props?W.props[l]:(Y=W.type.defaultProps)===null||Y===void 0?void 0:Y[l];return ee===P}),dataStartIndex:d,dataEndIndex:f}),D=B.length,I,z,L;nse(j.domain,E,O)&&(I=Pw(j.domain,null,E),x&&(O==="number"||C!=="auto")&&(L=bu(B,T,"category")));var H=UL(O);if(!I||I.length===0){var k,U=(k=j.domain)!==null&&k!==void 0?k:H;if(T){if(I=bu(B,T,O),O==="category"&&x){var G=p9(I);N&&G?(z=I,I=yp(0,D)):N||(I=kR(U,I,_).reduce(function(W,Y){return W.indexOf(Y)>=0?W:[].concat(Ml(W),[Y])},[]))}else if(O==="category")N?I=I.filter(function(W){return W!==""&&!He(W)}):I=kR(U,I,_).reduce(function(W,Y){return W.indexOf(Y)>=0||Y===""||He(Y)?W:[].concat(Ml(W),[Y])},[]);else if(O==="number"){var V=BQ(B,a.filter(function(W){var Y,ee,se=l in W.props?W.props[l]:(Y=W.type.defaultProps)===null||Y===void 0?void 0:Y[l],re="hide"in W.props?W.props.hide:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return se===P&&(M||!re)}),T,s,m);V&&(I=V)}x&&(O==="number"||C!=="auto")&&(L=bu(B,T,"category"))}else x?I=yp(0,D):u&&u[P]&&u[P].hasStack&&O==="number"?I=y==="expand"?[0,1]:N4(u[P].stackGroups,d,f):I=_4(B,a.filter(function(W){var Y=l in W.props?W.props[l]:W.type.defaultProps[l],ee="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Y===P&&(M||!ee)}),O,m,!0);if(O==="number")I=y_(g,I,P,s,R),U&&(I=Pw(U,I,E));else if(O==="category"&&U){var F=U,X=I.every(function(W){return F.indexOf(W)>=0});X&&(I=F)}}return xe(xe({},S),{},Fe({},P,xe(xe({},j),{},{axisType:s,domain:I,categoricalDomain:L,duplicateDomain:z,originalDomain:(b=j.domain)!==null&&b!==void 0?b:H,isCategorical:x,layout:m})))},{})},Mse=function(t,n){var r=n.graphicalItems,a=n.Axis,s=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.layout,g=t.children,y=Lm(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),x=y.length,S=S4(m,s),_=-1;return r.reduce(function(b,j){var O=j.type.defaultProps!==void 0?xe(xe({},j.type.defaultProps),j.props):j.props,T=O[l],E=UL("number");if(!b[T]){_++;var N;return S?N=yp(0,x):u&&u[T]&&u[T].hasStack?(N=N4(u[T].stackGroups,d,f),N=y_(g,N,T,s)):(N=Pw(E,_4(y,r.filter(function(C){var R,M,P=l in C.props?C.props[l]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[l],B="hide"in C.props?C.props.hide:(M=C.type.defaultProps)===null||M===void 0?void 0:M.hide;return P===T&&!B}),"number",m),a.defaultProps.allowDataOverflow),N=y_(g,N,T,s)),xe(xe({},b),{},Fe({},T,xe(xe({axisType:s},a.defaultProps),{},{hide:!0,orientation:lr(Ose,"".concat(s,".").concat(_%2),null),domain:N,originalDomain:E,isCategorical:S,layout:m})))}return b},{})},Rse=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,s=n.AxisComp,l=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,m=t.children,g="".concat(a,"Id"),y=kn(m,s),x={};return y&&y.length?x=Tse(t,{axes:y,graphicalItems:l,axisType:a,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(x=Mse(t,{Axis:s,graphicalItems:l,axisType:a,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},Pse=function(t){var n=Na(t),r=Bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fS(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ap(n,r)}},Lk=function(t){var n=t.children,r=t.defaultShowTooltip,a=rr(n,xl),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},kse=function(t){return!t||!t.length?!1:t.some(function(n){var r=Ui(n&&n.type);return r&&r.indexOf("Bar")>=0})},zk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dse=function(t,n){var r=t.props,a=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,u=t.yAxisMap,d=u===void 0?{}:u,f=r.width,m=r.height,g=r.children,y=r.margin||{},x=rr(g,xl),S=rr(g,Ws),_=Object.keys(d).reduce(function(N,C){var R=d[C],M=R.orientation;return!R.mirror&&!R.hide?xe(xe({},N),{},Fe({},M,N[M]+R.width)):N},{left:y.left||0,right:y.right||0}),b=Object.keys(l).reduce(function(N,C){var R=l[C],M=R.orientation;return!R.mirror&&!R.hide?xe(xe({},N),{},Fe({},M,lr(N,"".concat(M))+R.height)):N},{top:y.top||0,bottom:y.bottom||0}),j=xe(xe({},b),_),O=j.bottom;x&&(j.bottom+=x.props.height||xl.defaultProps.height),S&&n&&(j=LQ(j,a,r,n));var T=f-j.left-j.right,E=m-j.top-j.bottom;return xe(xe({brushBottom:O},j),{},{width:Math.max(T,0),height:Math.max(E,0)})},$se=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},zm=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,m=t.formatAxisMap,g=t.defaultProps,y=function(j,O){var T=O.graphicalItems,E=O.stackGroups,N=O.offset,C=O.updateId,R=O.dataStartIndex,M=O.dataEndIndex,P=j.barSize,B=j.layout,D=j.barGap,I=j.barCategoryGap,z=j.maxBarSize,L=zk(B),H=L.numericAxisName,k=L.cateAxisName,U=kse(T),G=[];return T.forEach(function(V,F){var X=Lm(j.data,{graphicalItems:[V],dataStartIndex:R,dataEndIndex:M}),W=V.type.defaultProps!==void 0?xe(xe({},V.type.defaultProps),V.props):V.props,Y=W.dataKey,ee=W.maxBarSize,se=W["".concat(H,"Id")],re=W["".concat(k,"Id")],de={},ge=d.reduce(function(Oe,je){var Ne=O["".concat(je.axisType,"Map")],$e=W["".concat(je.axisType,"Id")];Ne&&Ne[$e]||je.axisType==="zAxis"||ko();var et=Ne[$e];return xe(xe({},Oe),{},Fe(Fe({},je.axisType,et),"".concat(je.axisType,"Ticks"),Bi(et)))},de),oe=ge[k],le=ge["".concat(k,"Ticks")],fe=E&&E[se]&&E[se].hasStack&&XQ(V,E[se].stackGroups),ie=Ui(V.type).indexOf("Bar")>=0,Ce=ap(oe,le),Ae=[],Q=U&&$Q({barSize:P,stackGroups:E,totalSize:$se(ge,k)});if(ie){var ne,he,pe=He(ee)?z:ee,ye=(ne=(he=ap(oe,le,!0))!==null&&he!==void 0?he:pe)!==null&&ne!==void 0?ne:0;Ae=IQ({barGap:D,barCategoryGap:I,bandSize:ye!==Ce?ye:Ce,sizeList:Q[re],maxBarSize:pe}),ye!==Ce&&(Ae=Ae.map(function(Oe){return xe(xe({},Oe),{},{position:xe(xe({},Oe.position),{},{offset:Oe.position.offset-ye/2})})}))}var we=V&&V.type&&V.type.getComposedData;we&&G.push({props:xe(xe({},we(xe(xe({},ge),{},{displayedData:X,props:j,dataKey:Y,item:V,bandSize:Ce,barPosition:Ae,offset:N,stackedData:fe,layout:B,dataStartIndex:R,dataEndIndex:M}))),{},Fe(Fe(Fe({key:V.key||"item-".concat(F)},H,ge[H]),k,ge[k]),"animationId",C)),childIndex:N9(V,j.children),item:V})}),G},x=function(j,O){var T=j.props,E=j.dataStartIndex,N=j.dataEndIndex,C=j.updateId;if(!WC({props:T}))return null;var R=T.children,M=T.layout,P=T.stackOffset,B=T.data,D=T.reverseStackOrder,I=zk(M),z=I.numericAxisName,L=I.cateAxisName,H=kn(R,r),k=KQ(B,H,"".concat(z,"Id"),"".concat(L,"Id"),P,D),U=d.reduce(function(W,Y){var ee="".concat(Y.axisType,"Map");return xe(xe({},W),{},Fe({},ee,Rse(T,xe(xe({},Y),{},{graphicalItems:H,stackGroups:Y.axisType===z&&k,dataStartIndex:E,dataEndIndex:N}))))},{}),G=Dse(xe(xe({},U),{},{props:T,graphicalItems:H}),O==null?void 0:O.legendBBox);Object.keys(U).forEach(function(W){U[W]=m(T,U[W],G,W.replace("Map",""),n)});var V=U["".concat(L,"Map")],F=Pse(V),X=y(T,xe(xe({},U),{},{dataStartIndex:E,dataEndIndex:N,updateId:C,graphicalItems:H,stackGroups:k,offset:G}));return xe(xe({formattedGraphicalItems:X,graphicalItems:H,offset:G,stackGroups:k},F),U)},S=(function(b){function j(O){var T,E,N;return mse(this,j),N=yse(this,j,[O]),Fe(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(N,"accessibilityManager",new tse),Fe(N,"handleLegendBBoxUpdate",function(C){if(C){var R=N.state,M=R.dataStartIndex,P=R.dataEndIndex,B=R.updateId;N.setState(xe({legendBBox:C},x({props:N.props,dataStartIndex:M,dataEndIndex:P,updateId:B},xe(xe({},N.state),{},{legendBBox:C}))))}}),Fe(N,"handleReceiveSyncEvent",function(C,R,M){if(N.props.syncId===C){if(M===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(R)}}),Fe(N,"handleBrushChange",function(C){var R=C.startIndex,M=C.endIndex;if(R!==N.state.dataStartIndex||M!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return xe({dataStartIndex:R,dataEndIndex:M},x({props:N.props,dataStartIndex:R,dataEndIndex:M,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:R,dataEndIndex:M})}}),Fe(N,"handleMouseEnter",function(C){var R=N.getMouseInfo(C);if(R){var M=xe(xe({},R),{},{isTooltipActive:!0});N.setState(M),N.triggerSyncEvent(M);var P=N.props.onMouseEnter;Ke(P)&&P(M,C)}}),Fe(N,"triggeredAfterMouseMove",function(C){var R=N.getMouseInfo(C),M=R?xe(xe({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(M),N.triggerSyncEvent(M);var P=N.props.onMouseMove;Ke(P)&&P(M,C)}),Fe(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Fe(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Fe(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Fe(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var M=N.props.onMouseLeave;Ke(M)&&M(R,C)}),Fe(N,"handleOuterEvent",function(C){var R=E9(C),M=lr(N.props,"".concat(R));if(R&&Ke(M)){var P,B;/.*touch.*/i.test(R)?B=N.getMouseInfo(C.changedTouches[0]):B=N.getMouseInfo(C),M((P=B)!==null&&P!==void 0?P:{},C)}}),Fe(N,"handleClick",function(C){var R=N.getMouseInfo(C);if(R){var M=xe(xe({},R),{},{isTooltipActive:!0});N.setState(M),N.triggerSyncEvent(M);var P=N.props.onClick;Ke(P)&&P(M,C)}}),Fe(N,"handleMouseDown",function(C){var R=N.props.onMouseDown;if(Ke(R)){var M=N.getMouseInfo(C);R(M,C)}}),Fe(N,"handleMouseUp",function(C){var R=N.props.onMouseUp;if(Ke(R)){var M=N.getMouseInfo(C);R(M,C)}}),Fe(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Fe(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Fe(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Fe(N,"handleDoubleClick",function(C){var R=N.props.onDoubleClick;if(Ke(R)){var M=N.getMouseInfo(C);R(M,C)}}),Fe(N,"handleContextMenu",function(C){var R=N.props.onContextMenu;if(Ke(R)){var M=N.getMouseInfo(C);R(M,C)}}),Fe(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&w1.emit(_1,N.props.syncId,C,N.eventEmitterSymbol)}),Fe(N,"applySyncEvent",function(C){var R=N.props,M=R.layout,P=R.syncMethod,B=N.state.updateId,D=C.dataStartIndex,I=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(xe({dataStartIndex:D,dataEndIndex:I},x({props:N.props,dataStartIndex:D,dataEndIndex:I,updateId:B},N.state)));else if(C.activeTooltipIndex!==void 0){var z=C.chartX,L=C.chartY,H=C.activeTooltipIndex,k=N.state,U=k.offset,G=k.tooltipTicks;if(!U)return;if(typeof P=="function")H=P(G,C);else if(P==="value"){H=-1;for(var V=0;V<G.length;V++)if(G[V].value===C.activeLabel){H=V;break}}var F=xe(xe({},U),{},{x:U.left,y:U.top}),X=Math.min(z,F.x+F.width),W=Math.min(L,F.y+F.height),Y=G[H]&&G[H].value,ee=w_(N.state,N.props.data,H),se=G[H]?{x:M==="horizontal"?G[H].coordinate:X,y:M==="horizontal"?W:G[H].coordinate}:qL;N.setState(xe(xe({},C),{},{activeLabel:Y,activeCoordinate:se,activePayload:ee,activeTooltipIndex:H}))}else N.setState(C)}),Fe(N,"renderCursor",function(C){var R,M=N.state,P=M.isTooltipActive,B=M.activeCoordinate,D=M.activePayload,I=M.offset,z=M.activeTooltipIndex,L=M.tooltipAxisBandSize,H=N.getTooltipEventType(),k=(R=C.props.active)!==null&&R!==void 0?R:P,U=N.props.layout,G=C.key||"_recharts-cursor";return Z.createElement(lse,{key:G,activeCoordinate:B,activePayload:D,activeTooltipIndex:z,chartName:n,element:C,isActive:k,layout:U,offset:I,tooltipAxisBandSize:L,tooltipEventType:H})}),Fe(N,"renderPolarAxis",function(C,R,M){var P=lr(C,"type.axisType"),B=lr(N.state,"".concat(P,"Map")),D=C.type.defaultProps,I=D!==void 0?xe(xe({},D),C.props):C.props,z=B&&B[I["".concat(P,"Id")]];return $.cloneElement(C,xe(xe({},z),{},{className:Xe(P,z.className),key:C.key||"".concat(R,"-").concat(M),ticks:Bi(z,!0)}))}),Fe(N,"renderPolarGrid",function(C){var R=C.props,M=R.radialLines,P=R.polarAngles,B=R.polarRadius,D=N.state,I=D.radiusAxisMap,z=D.angleAxisMap,L=Na(I),H=Na(z),k=H.cx,U=H.cy,G=H.innerRadius,V=H.outerRadius;return $.cloneElement(C,{polarAngles:Array.isArray(P)?P:Bi(H,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(B)?B:Bi(L,!0).map(function(F){return F.coordinate}),cx:k,cy:U,innerRadius:G,outerRadius:V,key:C.key||"polar-grid",radialLines:M})}),Fe(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,R=N.props,M=R.children,P=R.width,B=R.height,D=N.props.margin||{},I=P-(D.left||0)-(D.right||0),z=b4({children:M,formattedGraphicalItems:C,legendWidth:I,legendContent:f});if(!z)return null;var L=z.item,H=Dk(z,cse);return $.cloneElement(L,xe(xe({},H),{},{chartWidth:P,chartHeight:B,margin:D,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Fe(N,"renderTooltip",function(){var C,R=N.props,M=R.children,P=R.accessibilityLayer,B=rr(M,Nn);if(!B)return null;var D=N.state,I=D.isTooltipActive,z=D.activeCoordinate,L=D.activePayload,H=D.activeLabel,k=D.offset,U=(C=B.props.active)!==null&&C!==void 0?C:I;return $.cloneElement(B,{viewBox:xe(xe({},k),{},{x:k.left,y:k.top}),active:U,label:H,payload:U?L:[],coordinate:z,accessibilityLayer:P})}),Fe(N,"renderBrush",function(C){var R=N.props,M=R.margin,P=R.data,B=N.state,D=B.offset,I=B.dataStartIndex,z=B.dataEndIndex,L=B.updateId;return $.cloneElement(C,{key:C.key||"_recharts-brush",onChange:oh(N.handleBrushChange,C.props.onChange),data:P,x:Ee(C.props.x)?C.props.x:D.left,y:Ee(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(M.bottom||0),width:Ee(C.props.width)?C.props.width:D.width,startIndex:I,endIndex:z,updateId:"brush-".concat(L)})}),Fe(N,"renderReferenceElement",function(C,R,M){if(!C)return null;var P=N,B=P.clipPathId,D=N.state,I=D.xAxisMap,z=D.yAxisMap,L=D.offset,H=C.type.defaultProps||{},k=C.props,U=k.xAxisId,G=U===void 0?H.xAxisId:U,V=k.yAxisId,F=V===void 0?H.yAxisId:V;return $.cloneElement(C,{key:C.key||"".concat(R,"-").concat(M),xAxis:I[G],yAxis:z[F],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:B})}),Fe(N,"renderActivePoints",function(C){var R=C.item,M=C.activePoint,P=C.basePoint,B=C.childIndex,D=C.isRange,I=[],z=R.props.key,L=R.item.type.defaultProps!==void 0?xe(xe({},R.item.type.defaultProps),R.item.props):R.item.props,H=L.activeDot,k=L.dataKey,U=xe(xe({index:B,dataKey:k,cx:M.x,cy:M.y,r:4,fill:$S(R.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Be(H,!1)),kh(H));return I.push(j.renderActiveDot(H,U,"".concat(z,"-activePoint-").concat(B))),P?I.push(j.renderActiveDot(H,xe(xe({},U),{},{cx:P.x,cy:P.y}),"".concat(z,"-basePoint-").concat(B))):D&&I.push(null),I}),Fe(N,"renderGraphicChild",function(C,R,M){var P=N.filterFormatItem(C,R,M);if(!P)return null;var B=N.getTooltipEventType(),D=N.state,I=D.isTooltipActive,z=D.tooltipAxis,L=D.activeTooltipIndex,H=D.activeLabel,k=N.props.children,U=rr(k,Nn),G=P.props,V=G.points,F=G.isRange,X=G.baseLine,W=P.item.type.defaultProps!==void 0?xe(xe({},P.item.type.defaultProps),P.item.props):P.item.props,Y=W.activeDot,ee=W.hide,se=W.activeBar,re=W.activeShape,de=!!(!ee&&I&&U&&(Y||se||re)),ge={};B!=="axis"&&U&&U.props.trigger==="click"?ge={onClick:oh(N.handleItemMouseEnter,C.props.onClick)}:B!=="axis"&&(ge={onMouseLeave:oh(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:oh(N.handleItemMouseEnter,C.props.onMouseEnter)});var oe=$.cloneElement(C,xe(xe({},P.props),ge));function le(je){return typeof z.dataKey=="function"?z.dataKey(je.payload):null}if(de)if(L>=0){var fe,ie;if(z.dataKey&&!z.allowDuplicatedCategory){var Ce=typeof z.dataKey=="function"?le:"payload.".concat(z.dataKey.toString());fe=Ph(V,Ce,H),ie=F&&X&&Ph(X,Ce,H)}else fe=V==null?void 0:V[L],ie=F&&X&&X[L];if(re||se){var Ae=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[$.cloneElement(C,xe(xe(xe({},P.props),ge),{},{activeIndex:Ae})),null,null]}if(!He(fe))return[oe].concat(Ml(N.renderActivePoints({item:P,activePoint:fe,basePoint:ie,childIndex:L,isRange:F})))}else{var Q,ne=(Q=N.getItemByXY(N.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:oe},he=ne.graphicalItem,pe=he.item,ye=pe===void 0?C:pe,we=he.childIndex,Oe=xe(xe(xe({},P.props),ge),{},{activeIndex:we});return[$.cloneElement(ye,Oe),null,null]}return F?[oe,null,null]:[oe,null]}),Fe(N,"renderCustomized",function(C,R,M){return $.cloneElement(C,xe(xe({key:"recharts-customized-".concat(M)},N.props),N.state))}),Fe(N,"renderMap",{CartesianGrid:{handler:fh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:fh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:fh},YAxis:{handler:fh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((T=O.id)!==null&&T!==void 0?T:qo("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=v3(N.triggeredAfterMouseMove,(E=O.throttleDelay)!==null&&E!==void 0?E:1e3/60),N.state={},N}return wse(j,b),gse(j,[{key:"componentDidMount",value:function(){var T,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,E=T.children,N=T.data,C=T.height,R=T.layout,M=rr(E,Nn);if(M){var P=M.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,D=w_(this.state,N,P,B),I=this.state.tooltipTicks[P].coordinate,z=(this.state.offset.top+C)/2,L=R==="horizontal",H=L?{x:I,y:z}:{y:I,x:z},k=this.state.formattedGraphicalItems.find(function(G){var V=G.item;return V.type.name==="Scatter"});k&&(H=xe(xe({},H),k.props.points[P].tooltipPosition),D=k.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:B,activePayload:D,activeCoordinate:H};this.setState(U),this.renderCursor(M),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(T){ew([rr(T.children,Nn)],[rr(this.props.children,Nn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=rr(this.props.children,Nn);if(T&&typeof T.props.shared=="boolean"){var E=T.props.shared?"axis":"item";return u.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var E=this.container,N=E.getBoundingClientRect(),C=hY(N),R={chartX:Math.round(T.pageX-C.left),chartY:Math.round(T.pageY-C.top)},M=N.width/E.offsetWidth||1,P=this.inRange(R.chartX,R.chartY,M);if(!P)return null;var B=this.state,D=B.xAxisMap,I=B.yAxisMap,z=this.getTooltipEventType(),L=Ik(this.state,this.props.data,this.props.layout,P);if(z!=="axis"&&D&&I){var H=Na(D).scale,k=Na(I).scale,U=H&&H.invert?H.invert(R.chartX):null,G=k&&k.invert?k.invert(R.chartY):null;return xe(xe({},R),{},{xValue:U,yValue:G},L)}return L?xe(xe({},R),L):null}},{key:"inRange",value:function(T,E){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,R=T/N,M=E/N;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,B=R>=P.left&&R<=P.left+P.width&&M>=P.top&&M<=P.top+P.height;return B?{x:R,y:M}:null}var D=this.state,I=D.angleAxisMap,z=D.radiusAxisMap;if(I&&z){var L=Na(I);return IR({x:R,y:M},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,E=this.getTooltipEventType(),N=rr(T,Nn),C={};N&&E==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=kh(this.props,this.handleOuterEvent);return xe(xe({},R),C)}},{key:"addListener",value:function(){w1.on(_1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w1.removeListener(_1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,E,N){for(var C=this.state.formattedGraphicalItems,R=0,M=C.length;R<M;R++){var P=C[R];if(P.item===T||P.props.key===T.key||E===Ui(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,E=this.state.offset,N=E.left,C=E.top,R=E.height,M=E.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:T},Z.createElement("rect",{x:N,y:C,height:R,width:M})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(E,N){var C=kk(N,2),R=C[0],M=C[1];return xe(xe({},E),{},Fe({},R,M.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(E,N){var C=kk(N,2),R=C[0],M=C[1];return xe(xe({},E),{},Fe({},R,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[T])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(T){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[T])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(T){var E=this.state,N=E.formattedGraphicalItems,C=E.activeItem;if(N&&N.length)for(var R=0,M=N.length;R<M;R++){var P=N[R],B=P.props,D=P.item,I=D.type.defaultProps!==void 0?xe(xe({},D.type.defaultProps),D.props):D.props,z=Ui(D.type);if(z==="Bar"){var L=(B.data||[]).find(function(G){return Vte(T,G)});if(L)return{graphicalItem:P,payload:L}}else if(z==="RadialBar"){var H=(B.data||[]).find(function(G){return IR(T,G)});if(H)return{graphicalItem:P,payload:H}}else if(Tm(P,C)||Mm(P,C)||of(P,C)){var k=pre({graphicalItem:P,activeTooltipItem:C,itemData:I.data}),U=I.activeIndex===void 0?k:I.activeIndex;return{graphicalItem:xe(xe({},P),{},{childIndex:U}),payload:of(P,C)?I.data[k]:P.props.data[k]}}}return null}},{key:"render",value:function(){var T=this;if(!WC(this))return null;var E=this.props,N=E.children,C=E.className,R=E.width,M=E.height,P=E.style,B=E.compact,D=E.title,I=E.desc,z=Dk(E,use),L=Be(z,!1);if(B)return Z.createElement(hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(nw,Vs({},L,{width:R,height:M,title:D,desc:I}),this.renderClipPath(),QC(N,this.renderMap)));if(this.props.accessibilityLayer){var H,k;L.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,L.role=(k=this.props.role)!==null&&k!==void 0?k:"application",L.onKeyDown=function(G){T.accessibilityManager.keyboardEvent(G)},L.onFocus=function(){T.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return Z.createElement(hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",Vs({className:Xe("recharts-wrapper",C),style:xe({position:"relative",cursor:"default",width:R,height:M},P)},U,{ref:function(V){T.container=V}}),Z.createElement(nw,Vs({},L,{width:R,height:M,title:D,desc:I,style:Ese}),this.renderClipPath(),QC(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})($.Component);Fe(S,"displayName",n),Fe(S,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Fe(S,"getDerivedStateFromProps",function(b,j){var O=b.dataKey,T=b.data,E=b.children,N=b.width,C=b.height,R=b.layout,M=b.stackOffset,P=b.margin,B=j.dataStartIndex,D=j.dataEndIndex;if(j.updateId===void 0){var I=Lk(b);return xe(xe(xe({},I),{},{updateId:0},x(xe(xe({props:b},I),{},{updateId:0}),j)),{},{prevDataKey:O,prevData:T,prevWidth:N,prevHeight:C,prevLayout:R,prevStackOffset:M,prevMargin:P,prevChildren:E})}if(O!==j.prevDataKey||T!==j.prevData||N!==j.prevWidth||C!==j.prevHeight||R!==j.prevLayout||M!==j.prevStackOffset||!Xs(P,j.prevMargin)){var z=Lk(b),L={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},H=xe(xe({},Ik(j,T,R)),{},{updateId:j.updateId+1}),k=xe(xe(xe({},z),L),H);return xe(xe(xe({},k),x(xe({props:b},k),j)),{},{prevDataKey:O,prevData:T,prevWidth:N,prevHeight:C,prevLayout:R,prevStackOffset:M,prevMargin:P,prevChildren:E})}if(!ew(E,j.prevChildren)){var U,G,V,F,X=rr(E,xl),W=X&&(U=(G=X.props)===null||G===void 0?void 0:G.startIndex)!==null&&U!==void 0?U:B,Y=X&&(V=(F=X.props)===null||F===void 0?void 0:F.endIndex)!==null&&V!==void 0?V:D,ee=W!==B||Y!==D,se=!He(T),re=se&&!ee?j.updateId:j.updateId+1;return xe(xe({updateId:re},x(xe(xe({props:b},j),{},{updateId:re,dataStartIndex:W,dataEndIndex:Y}),j)),{},{prevChildren:E,dataStartIndex:W,dataEndIndex:Y})}return null}),Fe(S,"renderActiveDot",function(b,j,O){var T;return $.isValidElement(b)?T=$.cloneElement(b,j):Ke(b)?T=b(j):T=Z.createElement(Am,j),Z.createElement(ot,{className:"recharts-active-dot",key:O},T)});var _=$.forwardRef(function(j,O){return Z.createElement(S,Vs({},j,{ref:O}))});return _.displayName=S.displayName,_},Ise=zm({chartName:"LineChart",GraphicalChild:Ef,axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:LS}),__=zm({chartName:"BarChart",GraphicalChild:li,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:LS}),Lse=zm({chartName:"PieChart",GraphicalChild:ea,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Cm},{axisType:"radiusAxis",AxisComp:Em}],formatAxisMap:aJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zse=zm({chartName:"ScatterChart",GraphicalChild:Nf,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:ui},{axisType:"zAxis",AxisComp:Im}],formatAxisMap:LS});const Bse=({simulationParams:e,onParamsChange:t,rawSimulationData:n,onSaveClusterHistory:r})=>{var E,N;const[a,s]=$.useState([]),[l,u]=$.useState({numClusters:e.numClusters,recalculateAfter:e.recalculateClustersAfter,method:"kmeans"}),[d,f]=$.useState(null),[m,g]=$.useState(null),y=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"];$.useEffect(()=>{n&&x()},[n]);const x=()=>{if(!n||!n.agents)return;const{agents:C,connections:R}=n,M={};for(let P=0;P<e.numClusters;P++)M[P]={id:P,agents:[],internalConnections:0,externalConnections:0,density:0,hubs:[],avgConnectionStrength:0};C.forEach(P=>{M[P.cluster]&&M[P.cluster].agents.push(P)}),R.forEach((P,B)=>{const D=C[B];D&&P.forEach((I,z)=>{if(B!==z&&I>0){const L=C[z];if(!L)return;D.cluster===L.cluster?M[D.cluster].internalConnections++:M[D.cluster].externalConnections++}})}),Object.values(M).forEach(P=>{var I,z;const B=P.agents.length;if(B>1){const L=B*(B-1);P.density=P.internalConnections/L}P.agents.forEach(L=>{const H=R[L.id].reduce((k,U)=>k+(U>0?1:0),0);H>B*.3&&P.hubs.push({id:L.id,connections:H})});const D=((z=R[(I=P.agents[0])==null?void 0:I.id])==null?void 0:z.reduce((L,H)=>L+H,0))||0;P.avgConnectionStrength=D/B}),f(M)},S=(C,R)=>{const M={...l,[C]:R};u(M),C==="numClusters"?t({numClusters:parseInt(R)}):C==="recalculateAfter"&&t({recalculateClustersAfter:parseInt(R)})},_=()=>{if(!n)return;const C=new Date().toISOString(),R={id:`${Date.now()}`,timestamp:C,config:{...l},stats:{...d},note:`Конфигурация ${l.numClusters} кластеров`,agents:n.agents.map(P=>({id:P.id,cluster:P.cluster}))},M=[...a,R];s(M),r&&r(R)},b=C=>{u(C.config),g(C),t({numClusters:C.config.numClusters,recalculateClustersAfter:C.config.recalculateAfter})},j=()=>d?Object.values(d).map((C,R)=>({name:`Кластер ${C.id+1}`,value:C.agents.length,color:y[R%y.length]})):[],O=()=>d?Object.values(d).map(C=>({cluster:`К${C.id+1}`,density:(C.density*100).toFixed(1),internal:C.internalConnections,external:C.externalConnections,hubs:C.hubs.length})):[],T=()=>{if(!d)return[];const C=[];return Object.values(d).forEach(R=>{C.push({cluster:`Кластер ${R.id+1}`,internal:R.internalConnections,external:R.externalConnections})}),C};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(gH,{className:"h-5 w-5"}),"Управление кластерами"]})}),p.jsx(kt,{children:p.jsxs(Lo,{defaultValue:"config",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-4",children:[p.jsx(Et,{value:"config",children:"Настройка"}),p.jsx(Et,{value:"stats",children:"Статистика"}),p.jsx(Et,{value:"visualization",children:"Визуализация"}),p.jsx(Et,{value:"history",children:"История"})]}),p.jsxs(Nt,{value:"config",className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{htmlFor:"num-clusters",children:"Количество кластеров"}),p.jsxs(Un,{value:l.numClusters.toString(),onValueChange:C=>S("numClusters",C),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:Array.from({length:9},(C,R)=>R+2).map(C=>p.jsxs(ut,{value:C.toString(),children:[C," кластеров"]},C))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{htmlFor:"recalculate-after",children:"Пересчет кластеров каждые (циклы)"}),p.jsx(ti,{id:"recalculate-after",type:"number",min:"0",max:"50",value:l.recalculateAfter,onChange:C=>S("recalculateAfter",C.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ge,{htmlFor:"cluster-method",children:"Метод кластеризации"}),p.jsxs(Un,{value:l.method,onValueChange:C=>S("method",C),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"kmeans",children:"K-means"}),p.jsx(ut,{value:"hierarchical",children:"Иерархическая"}),p.jsx(ut,{value:"dbscan",children:"DBSCAN"})]})]})]}),p.jsx("div",{className:"flex items-end",children:p.jsxs(Je,{onClick:_,className:"w-full",disabled:!n,children:[p.jsx(K$,{className:"h-4 w-4 mr-2"}),"Сохранить состояние"]})})]}),p.jsx(ei,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"font-medium",children:"Текущая конфигурация"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[p.jsxs(ct,{variant:"outline",children:["Кластеров: ",l.numClusters]}),p.jsxs(ct,{variant:"outline",children:["Пересчет: ",l.recalculateAfter||"Никогда"]}),p.jsxs(ct,{variant:"outline",children:["Метод: ",l.method]}),p.jsxs(ct,{variant:"outline",children:["Агентов: ",((E=n==null?void 0:n.agents)==null?void 0:E.length)||0]})]})]})]}),p.jsx(Nt,{value:"stats",className:"space-y-4",children:d?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.values(d).map((C,R)=>p.jsxs(Ie,{className:"p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y[R%y.length]}}),p.jsxs("h4",{className:"font-medium",children:["Кластер ",C.id+1]})]}),p.jsxs("div",{className:"space-y-1 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Агентов:"}),p.jsx("span",{className:"font-medium",children:C.agents.length})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Плотность:"}),p.jsxs("span",{className:"font-medium",children:[(C.density*100).toFixed(1),"%"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Хабов:"}),p.jsx("span",{className:"font-medium",children:C.hubs.length})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Внутр. связи:"}),p.jsx("span",{className:"font-medium",children:C.internalConnections})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Внеш. связи:"}),p.jsx("span",{className:"font-medium",children:C.externalConnections})]})]})]},C.id))}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(Qp,{className:"h-4 w-4"}),"Плотность кластеров"]}),p.jsx(Zs,{width:"100%",height:200,children:p.jsxs(__,{data:O(),children:[p.jsx(tl,{strokeDasharray:"3 3"}),p.jsx(ci,{dataKey:"cluster"}),p.jsx(ui,{}),p.jsx(Nn,{}),p.jsx(li,{dataKey:"density",fill:"#3B82F6"})]})})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(H_,{className:"h-4 w-4"}),"Межкластерные связи"]}),p.jsx(Zs,{width:"100%",height:200,children:p.jsxs(__,{data:T(),children:[p.jsx(tl,{strokeDasharray:"3 3"}),p.jsx(ci,{dataKey:"cluster"}),p.jsx(ui,{}),p.jsx(Nn,{}),p.jsx(li,{dataKey:"internal",fill:"#10B981",name:"Внутренние"}),p.jsx(li,{dataKey:"external",fill:"#EF4444",name:"Внешние"})]})})]})]})]}):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Запустите симуляцию для получения статистики кластеров"})}),p.jsx(Nt,{value:"visualization",className:"space-y-4",children:d?p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(Rh,{className:"h-4 w-4"}),"Распределение агентов по кластерам"]}),p.jsx(Zs,{width:"100%",height:300,children:p.jsxs(Lse,{children:[p.jsx(ea,{data:j(),cx:"50%",cy:"50%",labelLine:!1,label:({name:C,value:R,percent:M})=>`${C}: ${R} (${(M*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:j().map((C,R)=>p.jsx(Sf,{fill:C.color},`cell-${R}`))}),p.jsx(Nn,{})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs(Ie,{className:"p-4 text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Object.values(d).reduce((C,R)=>C+R.internalConnections,0)}),p.jsx("div",{className:"text-sm text-gray-600",children:"Внутрикластерные связи"})]}),p.jsxs(Ie,{className:"p-4 text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:Object.values(d).reduce((C,R)=>C+R.externalConnections,0)}),p.jsx("div",{className:"text-sm text-gray-600",children:"Межкластерные связи"})]}),p.jsxs(Ie,{className:"p-4 text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(d).reduce((C,R)=>C+R.hubs.length,0)}),p.jsx("div",{className:"text-sm text-gray-600",children:"Всего хабов"})]})]})]}):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Запустите симуляцию для визуализации кластеров"})}),p.jsxs(Nt,{value:"history",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[p.jsx(pH,{className:"h-4 w-4"}),"История кластеризации"]}),p.jsxs(ct,{variant:"outline",children:[a.length," записей"]})]}),a.length>0?p.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(C=>p.jsx(Ie,{className:`p-3 cursor-pointer transition-colors ${(m==null?void 0:m.id)===C.id?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>g(C),children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:C.note}),p.jsx("div",{className:"text-sm text-gray-600",children:new Date(C.timestamp).toLocaleString()}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsxs(ct,{variant:"outline",size:"sm",children:[C.config.numClusters," кластеров"]}),p.jsx(ct,{variant:"outline",size:"sm",children:C.config.method})]})]}),p.jsx(Je,{onClick:R=>{R.stopPropagation(),b(C)},variant:"outline",size:"sm",children:"Загрузить"})]})},C.id))}):p.jsx("div",{className:"text-center py-8 text-gray-500",children:"История кластеризации пуста. Сохраните текущее состояние для начала."}),m&&p.jsxs(Ie,{className:"p-4 bg-blue-50",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Детали записи"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Конфигурация:"}),p.jsxs("ul",{className:"mt-1 space-y-1",children:[p.jsxs("li",{children:["Кластеров: ",m.config.numClusters]}),p.jsxs("li",{children:["Пересчет: ",m.config.recalculateAfter||"Никогда"]}),p.jsxs("li",{children:["Метод: ",m.config.method]})]})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Статистика:"}),p.jsxs("ul",{className:"mt-1 space-y-1",children:[p.jsxs("li",{children:["Агентов: ",((N=m.agents)==null?void 0:N.length)||0]}),p.jsxs("li",{children:["Время: ",new Date(m.timestamp).toLocaleString()]})]})]})]})]})]})]})})]})};var Bm="Checkbox",[qse]=Wi(Bm),[Use,YS]=qse(Bm);function Fse(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:s,form:l,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:g}=e,[y,x]=Oo({prop:n,defaultProp:a??!1,onChange:d,caller:Bm}),[S,_]=$.useState(null),[b,j]=$.useState(null),O=$.useRef(!1),T=S?!!l||!!S.closest("form"):!0,E={checked:y,disabled:s,setChecked:x,control:S,setControl:_,name:u,form:l,value:m,hasConsumerStoppedPropagationRef:O,required:f,defaultChecked:ka(a)?!1:a,isFormControl:T,bubbleInput:b,setBubbleInput:j};return p.jsx(Use,{scope:t,...E,children:Hse(g)?g(E):r})}var FL="CheckboxTrigger",HL=$.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:s,value:l,disabled:u,checked:d,required:f,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:y,isFormControl:x,bubbleInput:S}=YS(FL,e),_=st(a,m),b=$.useRef(d);return $.useEffect(()=>{const j=s==null?void 0:s.form;if(j){const O=()=>g(b.current);return j.addEventListener("reset",O),()=>j.removeEventListener("reset",O)}},[s,g]),p.jsx(We.button,{type:"button",role:"checkbox","aria-checked":ka(d)?"mixed":d,"aria-required":f,"data-state":WL(d),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:_,onKeyDown:Ye(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ye(n,j=>{g(O=>ka(O)?!0:!O),S&&x&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})})});HL.displayName=FL;var VL=$.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:l,disabled:u,value:d,onCheckedChange:f,form:m,...g}=e;return p.jsx(Fse,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:u,required:l,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:y})=>p.jsxs(p.Fragment,{children:[p.jsx(HL,{...g,ref:t,__scopeCheckbox:n}),y&&p.jsx(XL,{__scopeCheckbox:n})]})})});VL.displayName=Bm;var GL="CheckboxIndicator",KL=$.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,s=YS(GL,n);return p.jsx(Io,{present:r||ka(s.checked)||s.checked===!0,children:p.jsx(We.span,{"data-state":WL(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});KL.displayName=GL;var YL="CheckboxBubbleInput",XL=$.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:l,required:u,disabled:d,name:f,value:m,form:g,bubbleInput:y,setBubbleInput:x}=YS(YL,e),S=st(n,x),_=Kp(s),b=Gp(r);$.useEffect(()=>{const O=y;if(!O)return;const T=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(T,"checked").set,C=!a.current;if(_!==s&&N){const R=new Event("click",{bubbles:C});O.indeterminate=ka(s),N.call(O,ka(s)?!1:s),O.dispatchEvent(R)}},[y,_,s,a]);const j=$.useRef(ka(s)?!1:s);return p.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:u,disabled:d,name:f,value:m,form:g,...t,tabIndex:-1,ref:S,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XL.displayName=YL;function Hse(e){return typeof e=="function"}function ka(e){return e==="indeterminate"}function WL(e){return ka(e)?"indeterminate":e?"checked":"unchecked"}function Bk({className:e,...t}){return p.jsx(VL,{"data-slot":"checkbox",className:wt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(KL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(V$,{className:"size-3.5"})})})}function Vse(e){return e}var j1=1,A1=2,S_=3,fu=4,qk=1e-6;function Gse(e){return"translate("+e+",0)"}function Kse(e){return"translate(0,"+e+")"}function Yse(e){return t=>+e(t)}function Xse(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Wse(){return!this.__axis}function ZL(e,t){var n=[],r=null,a=null,s=6,l=6,u=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===j1||e===fu?-1:1,m=e===fu||e===A1?"x":"y",g=e===j1||e===S_?Gse:Kse;function y(x){var S=r??(t.ticks?t.ticks.apply(t,n):t.domain()),_=a??(t.tickFormat?t.tickFormat.apply(t,n):Vse),b=Math.max(s,0)+u,j=t.range(),O=+j[0]+d,T=+j[j.length-1]+d,E=(t.bandwidth?Xse:Yse)(t.copy(),d),N=x.selection?x.selection():x,C=N.selectAll(".domain").data([null]),R=N.selectAll(".tick").data(S,t).order(),M=R.exit(),P=R.enter().append("g").attr("class","tick"),B=R.select("line"),D=R.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(P),B=B.merge(P.append("line").attr("stroke","currentColor").attr(m+"2",f*s)),D=D.merge(P.append("text").attr("fill","currentColor").attr(m,f*b).attr("dy",e===j1?"0em":e===S_?"0.71em":"0.32em")),x!==N&&(C=C.transition(x),R=R.transition(x),B=B.transition(x),D=D.transition(x),M=M.transition(x).attr("opacity",qk).attr("transform",function(I){return isFinite(I=E(I))?g(I+d):this.getAttribute("transform")}),P.attr("opacity",qk).attr("transform",function(I){var z=this.parentNode.__axis;return g((z&&isFinite(z=z(I))?z:E(I))+d)})),M.remove(),C.attr("d",e===fu||e===A1?l?"M"+f*l+","+O+"H"+d+"V"+T+"H"+f*l:"M"+d+","+O+"V"+T:l?"M"+O+","+f*l+"V"+d+"H"+T+"V"+f*l:"M"+O+","+d+"H"+T),R.attr("opacity",1).attr("transform",function(I){return g(E(I)+d)}),B.attr(m+"2",f*s),D.attr(m,f*b).text(_),N.filter(Wse).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===A1?"start":e===fu?"end":"middle"),N.each(function(){this.__axis=E})}return y.scale=function(x){return arguments.length?(t=x,y):t},y.ticks=function(){return n=Array.from(arguments),y},y.tickArguments=function(x){return arguments.length?(n=x==null?[]:Array.from(x),y):n.slice()},y.tickValues=function(x){return arguments.length?(r=x==null?null:Array.from(x),y):r&&r.slice()},y.tickFormat=function(x){return arguments.length?(a=x,y):a},y.tickSize=function(x){return arguments.length?(s=l=+x,y):s},y.tickSizeInner=function(x){return arguments.length?(s=+x,y):s},y.tickSizeOuter=function(x){return arguments.length?(l=+x,y):l},y.tickPadding=function(x){return arguments.length?(u=+x,y):u},y.offset=function(x){return arguments.length?(d=+x,y):d},y}function O1(e){return ZL(S_,e)}function E1(e){return ZL(fu,e)}var Zse={value:()=>{}};function Cf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wh(n)}function wh(e){this._=e}function Qse(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wh.prototype=Cf.prototype={constructor:wh,on:function(e,t){var n=this._,r=Qse(e+"",n),a,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((a=(e=r[s]).type)&&(a=Jse(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(a=(e=r[s]).type)n[a]=Uk(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Uk(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wh(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function Jse(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Uk(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Zse,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var j_="http://www.w3.org/1999/xhtml";const Fk={svg:"http://www.w3.org/2000/svg",xhtml:j_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fk.hasOwnProperty(t)?{space:Fk[t],local:e}:e}function ele(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===j_&&t.documentElement.namespaceURI===j_?t.createElement(e):t.createElementNS(n,e)}}function tle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function XS(e){var t=qm(e);return(t.local?tle:ele)(t)}function nle(){}function WS(e){return e==null?nle:function(){return this.querySelector(e)}}function rle(e){typeof e!="function"&&(e=WS(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,u=r[a]=new Array(l),d,f,m=0;m<l;++m)(d=s[m])&&(f=e.call(d,d.__data__,m,s))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f);return new Dn(r,this._parents)}function QL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ile(){return[]}function JL(e){return e==null?ile:function(){return this.querySelectorAll(e)}}function ale(e){return function(){return QL(e.apply(this,arguments))}}function ole(e){typeof e=="function"?e=ale(e):e=JL(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var l=t[s],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),a.push(d));return new Dn(r,a)}function ez(e){return function(){return this.matches(e)}}function tz(e){return function(t){return t.matches(e)}}var sle=Array.prototype.find;function lle(e){return function(){return sle.call(this.children,e)}}function cle(){return this.firstElementChild}function ule(e){return this.select(e==null?cle:lle(typeof e=="function"?e:tz(e)))}var fle=Array.prototype.filter;function dle(){return Array.from(this.children)}function hle(e){return function(){return fle.call(this.children,e)}}function ple(e){return this.selectAll(e==null?dle:hle(typeof e=="function"?e:tz(e)))}function mle(e){typeof e!="function"&&(e=ez(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,u=r[a]=[],d,f=0;f<l;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&u.push(d);return new Dn(r,this._parents)}function nz(e){return new Array(e.length)}function vle(){return new Dn(this._enter||this._groups.map(nz),this._parents)}function kp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kp.prototype={constructor:kp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gle(e){return function(){return e}}function yle(e,t,n,r,a,s){for(var l=0,u,d=t.length,f=s.length;l<f;++l)(u=t[l])?(u.__data__=s[l],r[l]=u):n[l]=new kp(e,s[l]);for(;l<d;++l)(u=t[l])&&(a[l]=u)}function xle(e,t,n,r,a,s,l){var u,d,f=new Map,m=t.length,g=s.length,y=new Array(m),x;for(u=0;u<m;++u)(d=t[u])&&(y[u]=x=l.call(d,d.__data__,u,t)+"",f.has(x)?a[u]=d:f.set(x,d));for(u=0;u<g;++u)x=l.call(e,s[u],u,s)+"",(d=f.get(x))?(r[u]=d,d.__data__=s[u],f.delete(x)):n[u]=new kp(e,s[u]);for(u=0;u<m;++u)(d=t[u])&&f.get(y[u])===d&&(a[u]=d)}function ble(e){return e.__data__}function wle(e,t){if(!arguments.length)return Array.from(this,ble);var n=t?xle:yle,r=this._parents,a=this._groups;typeof e!="function"&&(e=gle(e));for(var s=a.length,l=new Array(s),u=new Array(s),d=new Array(s),f=0;f<s;++f){var m=r[f],g=a[f],y=g.length,x=_le(e.call(m,m&&m.__data__,f,r)),S=x.length,_=u[f]=new Array(S),b=l[f]=new Array(S),j=d[f]=new Array(y);n(m,g,_,b,j,x,t);for(var O=0,T=0,E,N;O<S;++O)if(E=_[O]){for(O>=T&&(T=O+1);!(N=b[T])&&++T<S;);E._next=N||null}}return l=new Dn(l,r),l._enter=u,l._exit=d,l}function _le(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sle(){return new Dn(this._exit||this._groups.map(nz),this._parents)}function jle(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function Ale(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,l=Math.min(a,s),u=new Array(a),d=0;d<l;++d)for(var f=n[d],m=r[d],g=f.length,y=u[d]=new Array(g),x,S=0;S<g;++S)(x=f[S]||m[S])&&(y[S]=x);for(;d<a;++d)u[d]=n[d];return new Dn(u,this._parents)}function Ole(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],l;--a>=0;)(l=r[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Ele(e){e||(e=Nle);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var l=n[s],u=l.length,d=a[s]=new Array(u),f,m=0;m<u;++m)(f=l[m])&&(d[m]=f);d.sort(t)}return new Dn(a,this._parents).order()}function Nle(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Cle(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Tle(){return Array.from(this)}function Mle(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var l=r[a];if(l)return l}return null}function Rle(){let e=0;for(const t of this)++e;return e}function Ple(){return!this.node()}function kle(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,l=a.length,u;s<l;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}function Dle(e){return function(){this.removeAttribute(e)}}function $le(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ile(e,t){return function(){this.setAttribute(e,t)}}function Lle(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zle(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ble(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qle(e,t){var n=qm(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$le:Dle:typeof t=="function"?n.local?Ble:zle:n.local?Lle:Ile)(n,t))}function rz(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ule(e){return function(){this.style.removeProperty(e)}}function Fle(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Hle(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Vle(e,t,n){return arguments.length>1?this.each((t==null?Ule:typeof t=="function"?Hle:Fle)(e,t,n??"")):Rl(this.node(),e)}function Rl(e,t){return e.style.getPropertyValue(t)||rz(e).getComputedStyle(e,null).getPropertyValue(t)}function Gle(e){return function(){delete this[e]}}function Kle(e,t){return function(){this[e]=t}}function Yle(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Xle(e,t){return arguments.length>1?this.each((t==null?Gle:typeof t=="function"?Yle:Kle)(e,t)):this.node()[e]}function iz(e){return e.trim().split(/^|\s+/)}function ZS(e){return e.classList||new az(e)}function az(e){this._node=e,this._names=iz(e.getAttribute("class")||"")}az.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oz(e,t){for(var n=ZS(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function sz(e,t){for(var n=ZS(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function Wle(e){return function(){oz(this,e)}}function Zle(e){return function(){sz(this,e)}}function Qle(e,t){return function(){(t.apply(this,arguments)?oz:sz)(this,e)}}function Jle(e,t){var n=iz(e+"");if(arguments.length<2){for(var r=ZS(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?Qle:t?Wle:Zle)(n,t))}function ece(){this.textContent=""}function tce(e){return function(){this.textContent=e}}function nce(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function rce(e){return arguments.length?this.each(e==null?ece:(typeof e=="function"?nce:tce)(e)):this.node().textContent}function ice(){this.innerHTML=""}function ace(e){return function(){this.innerHTML=e}}function oce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sce(e){return arguments.length?this.each(e==null?ice:(typeof e=="function"?oce:ace)(e)):this.node().innerHTML}function lce(){this.nextSibling&&this.parentNode.appendChild(this)}function cce(){return this.each(lce)}function uce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fce(){return this.each(uce)}function dce(e){var t=typeof e=="function"?e:XS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hce(){return null}function pce(e,t){var n=typeof e=="function"?e:XS(e),r=t==null?hce:typeof t=="function"?t:WS(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mce(){var e=this.parentNode;e&&e.removeChild(this)}function vce(){return this.each(mce)}function gce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yce(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xce(e){return this.select(e?yce:gce)}function bce(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wce(e){return function(t){e.call(this,t,this.__data__)}}function _ce(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Sce(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function jce(e,t,n){return function(){var r=this.__on,a,s=wce(t);if(r){for(var l=0,u=r.length;l<u;++l)if((a=r[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function Ace(e,t,n){var r=_ce(e+""),a,s=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,m;d<f;++d)for(a=0,m=u[d];a<s;++a)if((l=r[a]).type===m.type&&l.name===m.name)return m.value}return}for(u=t?jce:Sce,a=0;a<s;++a)this.each(u(r[a],t,n));return this}function lz(e,t,n){var r=rz(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Oce(e,t){return function(){return lz(this,e,t)}}function Ece(e,t){return function(){return lz(this,e,t.apply(this,arguments))}}function Nce(e,t){return this.each((typeof t=="function"?Ece:Oce)(e,t))}function*Cce(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,l;a<s;++a)(l=r[a])&&(yield l)}var QS=[null];function Dn(e,t){this._groups=e,this._parents=t}function Tf(){return new Dn([[document.documentElement]],QS)}function Tce(){return this}Dn.prototype=Tf.prototype={constructor:Dn,select:rle,selectAll:ole,selectChild:ule,selectChildren:ple,filter:mle,data:wle,enter:vle,exit:Sle,join:jle,merge:Ale,selection:Tce,order:Ole,sort:Ele,call:Cle,nodes:Tle,node:Mle,size:Rle,empty:Ple,each:kle,attr:qle,style:Vle,property:Xle,classed:Jle,text:rce,html:sce,raise:cce,lower:fce,append:dce,insert:pce,remove:vce,clone:xce,datum:bce,on:Ace,dispatch:Nce,[Symbol.iterator]:Cce};function nn(e){return typeof e=="string"?new Dn([[document.querySelector(e)]],[document.documentElement]):new Dn([[e]],QS)}function Mce(e){return nn(XS(e).call(document.documentElement))}function Rce(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ii(e,t){if(e=Rce(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function Pce(e){return typeof e=="string"?new Dn([document.querySelectorAll(e)],[document.documentElement]):new Dn([QL(e)],QS)}const kce={passive:!1},hf={capture:!0,passive:!1};function N1(e){e.stopImmediatePropagation()}function nl(e){e.preventDefault(),e.stopImmediatePropagation()}function cz(e){var t=e.document.documentElement,n=nn(e).on("dragstart.drag",nl,hf);"onselectstart"in t?n.on("selectstart.drag",nl,hf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function uz(e,t){var n=e.document.documentElement,r=nn(e).on("dragstart.drag",null);t&&(r.on("click.drag",nl,hf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const dh=e=>()=>e;function A_(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:s,x:l,y:u,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}A_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Dce(e){return!e.ctrlKey&&!e.button}function $ce(){return this.parentNode}function Ice(e,t){return t??{x:e.x,y:e.y}}function Lce(){return navigator.maxTouchPoints||"ontouchstart"in this}function zce(){var e=Dce,t=$ce,n=Ice,r=Lce,a={},s=Cf("start","drag","end"),l=0,u,d,f,m,g=0;function y(E){E.on("mousedown.drag",x).filter(r).on("touchstart.drag",b).on("touchmove.drag",j,kce).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(E,N){if(!(m||!e.call(this,E,N))){var C=T(this,t.call(this,E,N),E,N,"mouse");C&&(nn(E.view).on("mousemove.drag",S,hf).on("mouseup.drag",_,hf),cz(E.view),N1(E),f=!1,u=E.clientX,d=E.clientY,C("start",E))}}function S(E){if(nl(E),!f){var N=E.clientX-u,C=E.clientY-d;f=N*N+C*C>g}a.mouse("drag",E)}function _(E){nn(E.view).on("mousemove.drag mouseup.drag",null),uz(E.view,f),nl(E),a.mouse("end",E)}function b(E,N){if(e.call(this,E,N)){var C=E.changedTouches,R=t.call(this,E,N),M=C.length,P,B;for(P=0;P<M;++P)(B=T(this,R,E,N,C[P].identifier,C[P]))&&(N1(E),B("start",E,C[P]))}}function j(E){var N=E.changedTouches,C=N.length,R,M;for(R=0;R<C;++R)(M=a[N[R].identifier])&&(nl(E),M("drag",E,N[R]))}function O(E){var N=E.changedTouches,C=N.length,R,M;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<C;++R)(M=a[N[R].identifier])&&(N1(E),M("end",E,N[R]))}function T(E,N,C,R,M,P){var B=s.copy(),D=Ii(P||C,N),I,z,L;if((L=n.call(E,new A_("beforestart",{sourceEvent:C,target:y,identifier:M,active:l,x:D[0],y:D[1],dx:0,dy:0,dispatch:B}),R))!=null)return I=L.x-D[0]||0,z=L.y-D[1]||0,function H(k,U,G){var V=D,F;switch(k){case"start":a[M]=H,F=l++;break;case"end":delete a[M],--l;case"drag":D=Ii(G||U,N),F=l;break}B.call(k,E,new A_(k,{sourceEvent:U,subject:L,target:y,identifier:M,active:F,x:D[0]+I,y:D[1]+z,dx:D[0]-V[0],dy:D[1]-V[1],dispatch:B}),R)}}return y.filter=function(E){return arguments.length?(e=typeof E=="function"?E:dh(!!E),y):e},y.container=function(E){return arguments.length?(t=typeof E=="function"?E:dh(E),y):t},y.subject=function(E){return arguments.length?(n=typeof E=="function"?E:dh(E),y):n},y.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:dh(!!E),y):r},y.on=function(){var E=s.on.apply(s,arguments);return E===s?y:E},y.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,y):Math.sqrt(g)},y}var Pl=0,du=0,au=0,fz=1e3,Dp,hu,$p=0,$o=0,Um=0,pf=typeof performance=="object"&&performance.now?performance:Date,dz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function JS(){return $o||(dz(Bce),$o=pf.now()+Um)}function Bce(){$o=0}function Ip(){this._call=this._time=this._next=null}Ip.prototype=ej.prototype={constructor:Ip,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?JS():+n)+(t==null?0:+t),!this._next&&hu!==this&&(hu?hu._next=this:Dp=this,hu=this),this._call=e,this._time=n,O_()},stop:function(){this._call&&(this._call=null,this._time=1/0,O_())}};function ej(e,t,n){var r=new Ip;return r.restart(e,t,n),r}function qce(){JS(),++Pl;for(var e=Dp,t;e;)(t=$o-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Pl}function Hk(){$o=($p=pf.now())+Um,Pl=du=0;try{qce()}finally{Pl=0,Fce(),$o=0}}function Uce(){var e=pf.now(),t=e-$p;t>fz&&(Um-=t,$p=e)}function Fce(){for(var e,t=Dp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Dp=n);hu=e,O_(r)}function O_(e){if(!Pl){du&&(du=clearTimeout(du));var t=e-$o;t>24?(e<1/0&&(du=setTimeout(Hk,e-pf.now()-Um)),au&&(au=clearInterval(au))):(au||($p=pf.now(),au=setInterval(Uce,fz)),Pl=1,dz(Hk))}}function Vk(e,t,n){var r=new Ip;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Hce=Cf("start","end","cancel","interrupt"),Vce=[],hz=0,Gk=1,E_=2,_h=3,Kk=4,N_=5,Sh=6;function Fm(e,t,n,r,a,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Gce(e,n,{name:t,index:r,group:a,on:Hce,tween:Vce,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:hz})}function tj(e,t){var n=Hr(e,t);if(n.state>hz)throw new Error("too late; already scheduled");return n}function vi(e,t){var n=Hr(e,t);if(n.state>_h)throw new Error("too late; already running");return n}function Hr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Gce(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=ej(s,0,n.time);function s(f){n.state=Gk,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,g,y,x;if(n.state!==Gk)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===_h)return Vk(l);x.state===Kk?(x.state=Sh,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[m]):+m<t&&(x.state=Sh,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[m])}if(Vk(function(){n.state===_h&&(n.state=Kk,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=E_,n.on.call("start",e,e.__data__,n.index,n.group),n.state===E_){for(n.state=_h,a=new Array(y=n.tween.length),m=0,g=-1;m<y;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(a[++g]=x);a.length=g+1}}function u(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=N_,1),g=-1,y=a.length;++g<y;)a[g].call(e,m);n.state===N_&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Sh,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function jh(e,t){var n=e.__transition,r,a,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}a=r.state>E_&&r.state<N_,r.state=Sh,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function Kce(e){return this.each(function(){jh(this,e)})}function Yce(e,t){var n,r;return function(){var a=vi(this,e),s=a.tween;if(s!==n){r=n=s;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}a.tween=r}}function Xce(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=vi(this,e),l=s.tween;if(l!==r){a=(r=l).slice();for(var u={name:t,value:n},d=0,f=a.length;d<f;++d)if(a[d].name===t){a[d]=u;break}d===f&&a.push(u)}s.tween=a}}function Wce(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Hr(this.node(),n).tween,a=0,s=r.length,l;a<s;++a)if((l=r[a]).name===e)return l.value;return null}return this.each((t==null?Yce:Xce)(n,e,t))}function nj(e,t,n){var r=e._id;return e.each(function(){var a=vi(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Hr(a,r).value[t]}}function pz(e,t){var n;return(typeof t=="number"?Ir:t instanceof Ro?Xh:(n=Ro(t))?(t=n,Xh):N3)(e,t)}function Zce(e){return function(){this.removeAttribute(e)}}function Qce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jce(e,t,n){var r,a=n+"",s;return function(){var l=this.getAttribute(e);return l===a?null:l===r?s:s=t(r=l,n)}}function eue(e,t,n){var r,a=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===r?s:s=t(r=l,n)}}function tue(e,t,n){var r,a,s;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===r&&d===a?s:(a=d,s=t(r=l,u)))}}function nue(e,t,n){var r,a,s;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===r&&d===a?s:(a=d,s=t(r=l,u)))}}function rue(e,t){var n=qm(e),r=n==="transform"?TX:pz;return this.attrTween(e,typeof t=="function"?(n.local?nue:tue)(n,r,nj(this,"attr."+e,t)):t==null?(n.local?Qce:Zce)(n):(n.local?eue:Jce)(n,r,t))}function iue(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function aue(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oue(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&aue(e,s)),n}return a._value=t,a}function sue(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&iue(e,s)),n}return a._value=t,a}function lue(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=qm(e);return this.tween(n,(r.local?oue:sue)(r,t))}function cue(e,t){return function(){tj(this,e).delay=+t.apply(this,arguments)}}function uue(e,t){return t=+t,function(){tj(this,e).delay=t}}function fue(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cue:uue)(t,e)):Hr(this.node(),t).delay}function due(e,t){return function(){vi(this,e).duration=+t.apply(this,arguments)}}function hue(e,t){return t=+t,function(){vi(this,e).duration=t}}function pue(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?due:hue)(t,e)):Hr(this.node(),t).duration}function mue(e,t){if(typeof t!="function")throw new Error;return function(){vi(this,e).ease=t}}function vue(e){var t=this._id;return arguments.length?this.each(mue(t,e)):Hr(this.node(),t).ease}function gue(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;vi(this,e).ease=n}}function yue(e){if(typeof e!="function")throw new Error;return this.each(gue(this._id,e))}function xue(e){typeof e!="function"&&(e=ez(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,u=r[a]=[],d,f=0;f<l;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&u.push(d);return new Xi(r,this._parents,this._name,this._id)}function bue(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),l=new Array(r),u=0;u<s;++u)for(var d=t[u],f=n[u],m=d.length,g=l[u]=new Array(m),y,x=0;x<m;++x)(y=d[x]||f[x])&&(g[x]=y);for(;u<r;++u)l[u]=t[u];return new Xi(l,this._parents,this._name,this._id)}function wue(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _ue(e,t,n){var r,a,s=wue(t)?tj:vi;return function(){var l=s(this,e),u=l.on;u!==r&&(a=(r=u).copy()).on(t,n),l.on=a}}function Sue(e,t){var n=this._id;return arguments.length<2?Hr(this.node(),n).on.on(e):this.each(_ue(n,e,t))}function jue(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Aue(){return this.on("end.remove",jue(this._id))}function Oue(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WS(e));for(var r=this._groups,a=r.length,s=new Array(a),l=0;l<a;++l)for(var u=r[l],d=u.length,f=s[l]=new Array(d),m,g,y=0;y<d;++y)(m=u[y])&&(g=e.call(m,m.__data__,y,u))&&("__data__"in m&&(g.__data__=m.__data__),f[y]=g,Fm(f[y],t,n,y,f,Hr(m,n)));return new Xi(s,this._parents,t,n)}function Eue(e){var t=this._name,n=this._id;typeof e!="function"&&(e=JL(e));for(var r=this._groups,a=r.length,s=[],l=[],u=0;u<a;++u)for(var d=r[u],f=d.length,m,g=0;g<f;++g)if(m=d[g]){for(var y=e.call(m,m.__data__,g,d),x,S=Hr(m,n),_=0,b=y.length;_<b;++_)(x=y[_])&&Fm(x,t,n,_,y,S);s.push(y),l.push(m)}return new Xi(s,l,t,n)}var Nue=Tf.prototype.constructor;function Cue(){return new Nue(this._groups,this._parents)}function Tue(e,t){var n,r,a;return function(){var s=Rl(this,e),l=(this.style.removeProperty(e),Rl(this,e));return s===l?null:s===n&&l===r?a:a=t(n=s,r=l)}}function mz(e){return function(){this.style.removeProperty(e)}}function Mue(e,t,n){var r,a=n+"",s;return function(){var l=Rl(this,e);return l===a?null:l===r?s:s=t(r=l,n)}}function Rue(e,t,n){var r,a,s;return function(){var l=Rl(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),Rl(this,e))),l===d?null:l===r&&d===a?s:(a=d,s=t(r=l,u))}}function Pue(e,t){var n,r,a,s="style."+t,l="end."+s,u;return function(){var d=vi(this,e),f=d.on,m=d.value[s]==null?u||(u=mz(t)):void 0;(f!==n||a!==m)&&(r=(n=f).copy()).on(l,a=m),d.on=r}}function kue(e,t,n){var r=(e+="")=="transform"?CX:pz;return t==null?this.styleTween(e,Tue(e,r)).on("end.style."+e,mz(e)):typeof t=="function"?this.styleTween(e,Rue(e,r,nj(this,"style."+e,t))).each(Pue(this._id,e)):this.styleTween(e,Mue(e,r,t),n).on("end.style."+e,null)}function Due(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function $ue(e,t,n){var r,a;function s(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&Due(e,l,n)),r}return s._value=t,s}function Iue(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$ue(e,t,n??""))}function Lue(e){return function(){this.textContent=e}}function zue(e){return function(){var t=e(this);this.textContent=t??""}}function Bue(e){return this.tween("text",typeof e=="function"?zue(nj(this,"text",e)):Lue(e==null?"":e+""))}function que(e){return function(t){this.textContent=e.call(this,t)}}function Uue(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&que(a)),t}return r._value=e,r}function Fue(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Uue(e))}function Hue(){for(var e=this._name,t=this._id,n=vz(),r=this._groups,a=r.length,s=0;s<a;++s)for(var l=r[s],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var m=Hr(d,t);Fm(d,e,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Xi(r,this._parents,e,n)}function Vue(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,l){var u={value:l},d={value:function(){--a===0&&s()}};n.each(function(){var f=vi(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),a===0&&s()})}var Gue=0;function Xi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function vz(){return++Gue}var Di=Tf.prototype;Xi.prototype={constructor:Xi,select:Oue,selectAll:Eue,selectChild:Di.selectChild,selectChildren:Di.selectChildren,filter:xue,merge:bue,selection:Cue,transition:Hue,call:Di.call,nodes:Di.nodes,node:Di.node,size:Di.size,empty:Di.empty,each:Di.each,on:Sue,attr:rue,attrTween:lue,style:kue,styleTween:Iue,text:Bue,textTween:Fue,remove:Aue,tween:Wce,delay:fue,duration:pue,ease:vue,easeVarying:yue,end:Vue,[Symbol.iterator]:Di[Symbol.iterator]};function Kue(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Yue={time:null,delay:0,duration:250,ease:Kue};function Xue(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Wue(e){var t,n;e instanceof Xi?(t=e._id,e=e._name):(t=vz(),(n=Yue).time=JS(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var l=r[s],u=l.length,d,f=0;f<u;++f)(d=l[f])&&Fm(d,e,t,f,l,n||Xue(d,t));return new Xi(r,this._parents,e,t)}Tf.prototype.interrupt=Kce;Tf.prototype.transition=Wue;function gz(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function a(){var s,l=n.length,u,d=0,f=0;for(s=0;s<l;++s)u=n[s],d+=u.x,f+=u.y;for(d=(d/l-e)*r,f=(f/l-t)*r,s=0;s<l;++s)u=n[s],u.x-=d,u.y-=f}return a.initialize=function(s){n=s},a.x=function(s){return arguments.length?(e=+s,a):e},a.y=function(s){return arguments.length?(t=+s,a):t},a.strength=function(s){return arguments.length?(r=+s,a):r},a}function Zue(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return yz(this.cover(t,n),t,n,e)}function yz(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,s=e._root,l={data:r},u=e._x0,d=e._y0,f=e._x1,m=e._y1,g,y,x,S,_,b,j,O;if(!s)return e._root=l,e;for(;s.length;)if((_=t>=(g=(u+f)/2))?u=g:f=g,(b=n>=(y=(d+m)/2))?d=y:m=y,a=s,!(s=s[j=b<<1|_]))return a[j]=l,e;if(x=+e._x.call(null,s.data),S=+e._y.call(null,s.data),t===x&&n===S)return l.next=s,a?a[j]=l:e._root=l,e;do a=a?a[j]=new Array(4):e._root=new Array(4),(_=t>=(g=(u+f)/2))?u=g:f=g,(b=n>=(y=(d+m)/2))?d=y:m=y;while((j=b<<1|_)===(O=(S>=y)<<1|x>=g));return a[O]=s,a[j]=l,e}function Que(e){var t,n,r=e.length,a,s,l=new Array(r),u=new Array(r),d=1/0,f=1/0,m=-1/0,g=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(l[n]=a,u[n]=s,a<d&&(d=a),a>m&&(m=a),s<f&&(f=s),s>g&&(g=s));if(d>m||f>g)return this;for(this.cover(d,f).cover(m,g),n=0;n<r;++n)yz(this,l[n],u[n],e[n]);return this}function Jue(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,s=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var l=a-n||1,u=this._root,d,f;n>e||e>=a||r>t||t>=s;)switch(f=(t<r)<<1|e<n,d=new Array(4),d[f]=u,u=d,l*=2,f){case 0:a=n+l,s=r+l;break;case 1:n=a-l,s=r+l;break;case 2:a=n+l,r=s-l;break;case 3:n=a-l,r=s-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=a,this._y1=s,this}function efe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function tfe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Tn(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function nfe(e,t,n){var r,a=this._x0,s=this._y0,l,u,d,f,m=this._x1,g=this._y1,y=[],x=this._root,S,_;for(x&&y.push(new Tn(x,a,s,m,g)),n==null?n=1/0:(a=e-n,s=t-n,m=e+n,g=t+n,n*=n);S=y.pop();)if(!(!(x=S.node)||(l=S.x0)>m||(u=S.y0)>g||(d=S.x1)<a||(f=S.y1)<s))if(x.length){var b=(l+d)/2,j=(u+f)/2;y.push(new Tn(x[3],b,j,d,f),new Tn(x[2],l,j,b,f),new Tn(x[1],b,u,d,j),new Tn(x[0],l,u,b,j)),(_=(t>=j)<<1|e>=b)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-_],y[y.length-1-_]=S)}else{var O=e-+this._x.call(null,x.data),T=t-+this._y.call(null,x.data),E=O*O+T*T;if(E<n){var N=Math.sqrt(n=E);a=e-N,s=t-N,m=e+N,g=t+N,r=x.data}}return r}function rfe(e){if(isNaN(m=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var t,n=this._root,r,a,s,l=this._x0,u=this._y0,d=this._x1,f=this._y1,m,g,y,x,S,_,b,j;if(!n)return this;if(n.length)for(;;){if((S=m>=(y=(l+d)/2))?l=y:d=y,(_=g>=(x=(u+f)/2))?u=x:f=x,t=n,!(n=n[b=_<<1|S]))return this;if(!n.length)break;(t[b+1&3]||t[b+2&3]||t[b+3&3])&&(r=t,j=b)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,a?(s?a.next=s:delete a.next,this):t?(s?t[b]=s:delete t[b],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[j]=n:this._root=n),this):(this._root=s,this)}function ife(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function afe(){return this._root}function ofe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function sfe(e){var t=[],n,r=this._root,a,s,l,u,d;for(r&&t.push(new Tn(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,l=n.y0,u=n.x1,d=n.y1)&&r.length){var f=(s+u)/2,m=(l+d)/2;(a=r[3])&&t.push(new Tn(a,f,m,u,d)),(a=r[2])&&t.push(new Tn(a,s,m,f,d)),(a=r[1])&&t.push(new Tn(a,f,l,u,m)),(a=r[0])&&t.push(new Tn(a,s,l,f,m))}return this}function lfe(e){var t=[],n=[],r;for(this._root&&t.push(new Tn(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var s,l=r.x0,u=r.y0,d=r.x1,f=r.y1,m=(l+d)/2,g=(u+f)/2;(s=a[0])&&t.push(new Tn(s,l,u,m,g)),(s=a[1])&&t.push(new Tn(s,m,u,d,g)),(s=a[2])&&t.push(new Tn(s,l,g,m,f)),(s=a[3])&&t.push(new Tn(s,m,g,d,f))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function cfe(e){return e[0]}function ufe(e){return arguments.length?(this._x=e,this):this._x}function ffe(e){return e[1]}function dfe(e){return arguments.length?(this._y=e,this):this._y}function rj(e,t,n){var r=new ij(t??cfe,n??ffe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function ij(e,t,n,r,a,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=s,this._root=void 0}function Yk(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var $n=rj.prototype=ij.prototype;$n.copy=function(){var e=new ij(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Yk(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=Yk(r));return e};$n.add=Zue;$n.addAll=Que;$n.cover=Jue;$n.data=efe;$n.extent=tfe;$n.find=nfe;$n.remove=rfe;$n.removeAll=ife;$n.root=afe;$n.size=ofe;$n.visit=sfe;$n.visitAfter=lfe;$n.x=ufe;$n.y=dfe;function Ao(e){return function(){return e}}function Ma(e){return(e()-.5)*1e-6}function hfe(e){return e.x+e.vx}function pfe(e){return e.y+e.vy}function mfe(e){var t,n,r,a=1,s=1;typeof e!="function"&&(e=Ao(e==null?1:+e));function l(){for(var f,m=t.length,g,y,x,S,_,b,j=0;j<s;++j)for(g=rj(t,hfe,pfe).visitAfter(u),f=0;f<m;++f)y=t[f],_=n[y.index],b=_*_,x=y.x+y.vx,S=y.y+y.vy,g.visit(O);function O(T,E,N,C,R){var M=T.data,P=T.r,B=_+P;if(M){if(M.index>y.index){var D=x-M.x-M.vx,I=S-M.y-M.vy,z=D*D+I*I;z<B*B&&(D===0&&(D=Ma(r),z+=D*D),I===0&&(I=Ma(r),z+=I*I),z=(B-(z=Math.sqrt(z)))/z*a,y.vx+=(D*=z)*(B=(P*=P)/(b+P)),y.vy+=(I*=z)*B,M.vx-=D*(B=1-B),M.vy-=I*B)}return}return E>x+B||C<x-B||N>S+B||R<S-B}}function u(f){if(f.data)return f.r=n[f.data.index];for(var m=f.r=0;m<4;++m)f[m]&&f[m].r>f.r&&(f.r=f[m].r)}function d(){if(t){var f,m=t.length,g;for(n=new Array(m),f=0;f<m;++f)g=t[f],n[g.index]=+e(g,f,t)}}return l.initialize=function(f,m){t=f,r=m,d()},l.iterations=function(f){return arguments.length?(s=+f,l):s},l.strength=function(f){return arguments.length?(a=+f,l):a},l.radius=function(f){return arguments.length?(e=typeof f=="function"?f:Ao(+f),d(),l):e},l}function vfe(e){return e.index}function Xk(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function xz(e){var t=vfe,n=g,r,a=Ao(30),s,l,u,d,f,m=1;e==null&&(e=[]);function g(b){return 1/Math.min(u[b.source.index],u[b.target.index])}function y(b){for(var j=0,O=e.length;j<m;++j)for(var T=0,E,N,C,R,M,P,B;T<O;++T)E=e[T],N=E.source,C=E.target,R=C.x+C.vx-N.x-N.vx||Ma(f),M=C.y+C.vy-N.y-N.vy||Ma(f),P=Math.sqrt(R*R+M*M),P=(P-s[T])/P*b*r[T],R*=P,M*=P,C.vx-=R*(B=d[T]),C.vy-=M*B,N.vx+=R*(B=1-B),N.vy+=M*B}function x(){if(l){var b,j=l.length,O=e.length,T=new Map(l.map((N,C)=>[t(N,C,l),N])),E;for(b=0,u=new Array(j);b<O;++b)E=e[b],E.index=b,typeof E.source!="object"&&(E.source=Xk(T,E.source)),typeof E.target!="object"&&(E.target=Xk(T,E.target)),u[E.source.index]=(u[E.source.index]||0)+1,u[E.target.index]=(u[E.target.index]||0)+1;for(b=0,d=new Array(O);b<O;++b)E=e[b],d[b]=u[E.source.index]/(u[E.source.index]+u[E.target.index]);r=new Array(O),S(),s=new Array(O),_()}}function S(){if(l)for(var b=0,j=e.length;b<j;++b)r[b]=+n(e[b],b,e)}function _(){if(l)for(var b=0,j=e.length;b<j;++b)s[b]=+a(e[b],b,e)}return y.initialize=function(b,j){l=b,f=j,x()},y.links=function(b){return arguments.length?(e=b,x(),y):e},y.id=function(b){return arguments.length?(t=b,y):t},y.iterations=function(b){return arguments.length?(m=+b,y):m},y.strength=function(b){return arguments.length?(n=typeof b=="function"?b:Ao(+b),S(),y):n},y.distance=function(b){return arguments.length?(a=typeof b=="function"?b:Ao(+b),_(),y):a},y}const gfe=1664525,yfe=1013904223,Wk=4294967296;function xfe(){let e=1;return()=>(e=(gfe*e+yfe)%Wk)/Wk}function bfe(e){return e.x}function wfe(e){return e.y}var _fe=10,Sfe=Math.PI*(3-Math.sqrt(5));function bz(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),s=0,l=.6,u=new Map,d=ej(g),f=Cf("tick","end"),m=xfe();e==null&&(e=[]);function g(){y(),f.call("tick",t),n<r&&(d.stop(),f.call("end",t))}function y(_){var b,j=e.length,O;_===void 0&&(_=1);for(var T=0;T<_;++T)for(n+=(s-n)*a,u.forEach(function(E){E(n)}),b=0;b<j;++b)O=e[b],O.fx==null?O.x+=O.vx*=l:(O.x=O.fx,O.vx=0),O.fy==null?O.y+=O.vy*=l:(O.y=O.fy,O.vy=0);return t}function x(){for(var _=0,b=e.length,j;_<b;++_){if(j=e[_],j.index=_,j.fx!=null&&(j.x=j.fx),j.fy!=null&&(j.y=j.fy),isNaN(j.x)||isNaN(j.y)){var O=_fe*Math.sqrt(.5+_),T=_*Sfe;j.x=O*Math.cos(T),j.y=O*Math.sin(T)}(isNaN(j.vx)||isNaN(j.vy))&&(j.vx=j.vy=0)}}function S(_){return _.initialize&&_.initialize(e,m),_}return x(),t={tick:y,restart:function(){return d.restart(g),t},stop:function(){return d.stop(),t},nodes:function(_){return arguments.length?(e=_,x(),u.forEach(S),t):e},alpha:function(_){return arguments.length?(n=+_,t):n},alphaMin:function(_){return arguments.length?(r=+_,t):r},alphaDecay:function(_){return arguments.length?(a=+_,t):+a},alphaTarget:function(_){return arguments.length?(s=+_,t):s},velocityDecay:function(_){return arguments.length?(l=1-_,t):1-l},randomSource:function(_){return arguments.length?(m=_,u.forEach(S),t):m},force:function(_,b){return arguments.length>1?(b==null?u.delete(_):u.set(_,S(b)),t):u.get(_)},find:function(_,b,j){var O=0,T=e.length,E,N,C,R,M;for(j==null?j=1/0:j*=j,O=0;O<T;++O)R=e[O],E=_-R.x,N=b-R.y,C=E*E+N*N,C<j&&(M=R,j=C);return M},on:function(_,b){return arguments.length>1?(f.on(_,b),t):f.on(_)}}}function wz(){var e,t,n,r,a=Ao(-30),s,l=1,u=1/0,d=.81;function f(x){var S,_=e.length,b=rj(e,bfe,wfe).visitAfter(g);for(r=x,S=0;S<_;++S)t=e[S],b.visit(y)}function m(){if(e){var x,S=e.length,_;for(s=new Array(S),x=0;x<S;++x)_=e[x],s[_.index]=+a(_,x,e)}}function g(x){var S=0,_,b,j=0,O,T,E;if(x.length){for(O=T=E=0;E<4;++E)(_=x[E])&&(b=Math.abs(_.value))&&(S+=_.value,j+=b,O+=b*_.x,T+=b*_.y);x.x=O/j,x.y=T/j}else{_=x,_.x=_.data.x,_.y=_.data.y;do S+=s[_.data.index];while(_=_.next)}x.value=S}function y(x,S,_,b){if(!x.value)return!0;var j=x.x-t.x,O=x.y-t.y,T=b-S,E=j*j+O*O;if(T*T/d<E)return E<u&&(j===0&&(j=Ma(n),E+=j*j),O===0&&(O=Ma(n),E+=O*O),E<l&&(E=Math.sqrt(l*E)),t.vx+=j*x.value*r/E,t.vy+=O*x.value*r/E),!0;if(x.length||E>=u)return;(x.data!==t||x.next)&&(j===0&&(j=Ma(n),E+=j*j),O===0&&(O=Ma(n),E+=O*O),E<l&&(E=Math.sqrt(l*E)));do x.data!==t&&(T=s[x.data.index]*r/E,t.vx+=j*T,t.vy+=O*T);while(x=x.next)}return f.initialize=function(x,S){e=x,n=S,m()},f.strength=function(x){return arguments.length?(a=typeof x=="function"?x:Ao(+x),m(),f):a},f.distanceMin=function(x){return arguments.length?(l=x*x,f):Math.sqrt(l)},f.distanceMax=function(x){return arguments.length?(u=x*x,f):Math.sqrt(u)},f.theta=function(x){return arguments.length?(d=x*x,f):Math.sqrt(d)},f}const hh=e=>()=>e;function jfe(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function qi(e,t,n){this.k=e,this.x=t,this.y=n}qi.prototype={constructor:qi,scale:function(e){return e===1?this:new qi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new qi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lp=new qi(1,0,0);qi.prototype;function C1(e){e.stopImmediatePropagation()}function ou(e){e.preventDefault(),e.stopImmediatePropagation()}function Afe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ofe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Zk(){return this.__zoom||Lp}function Efe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Nfe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cfe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function T1(){var e=Afe,t=Ofe,n=Cfe,r=Efe,a=Nfe,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=kX,f=Cf("start","zoom","end"),m,g,y,x=500,S=150,_=0,b=10;function j(L){L.property("__zoom",Zk).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",B).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(L,H,k,U){var G=L.selection?L.selection():L;G.property("__zoom",Zk),L!==G?N(L,H,k,U):G.interrupt().each(function(){C(this,arguments).event(U).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},j.scaleBy=function(L,H,k,U){j.scaleTo(L,function(){var G=this.__zoom.k,V=typeof H=="function"?H.apply(this,arguments):H;return G*V},k,U)},j.scaleTo=function(L,H,k,U){j.transform(L,function(){var G=t.apply(this,arguments),V=this.__zoom,F=k==null?E(G):typeof k=="function"?k.apply(this,arguments):k,X=V.invert(F),W=typeof H=="function"?H.apply(this,arguments):H;return n(T(O(V,W),F,X),G,l)},k,U)},j.translateBy=function(L,H,k,U){j.transform(L,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),l)},null,U)},j.translateTo=function(L,H,k,U,G){j.transform(L,function(){var V=t.apply(this,arguments),F=this.__zoom,X=U==null?E(V):typeof U=="function"?U.apply(this,arguments):U;return n(Lp.translate(X[0],X[1]).scale(F.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof k=="function"?-k.apply(this,arguments):-k),V,l)},U,G)};function O(L,H){return H=Math.max(s[0],Math.min(s[1],H)),H===L.k?L:new qi(H,L.x,L.y)}function T(L,H,k){var U=H[0]-k[0]*L.k,G=H[1]-k[1]*L.k;return U===L.x&&G===L.y?L:new qi(L.k,U,G)}function E(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function N(L,H,k,U){L.on("start.zoom",function(){C(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(U).end()}).tween("zoom",function(){var G=this,V=arguments,F=C(G,V).event(U),X=t.apply(G,V),W=k==null?E(X):typeof k=="function"?k.apply(G,V):k,Y=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ee=G.__zoom,se=typeof H=="function"?H.apply(G,V):H,re=d(ee.invert(W).concat(Y/ee.k),se.invert(W).concat(Y/se.k));return function(de){if(de===1)de=se;else{var ge=re(de),oe=Y/ge[2];de=new qi(oe,W[0]-ge[0]*oe,W[1]-ge[1]*oe)}F.zoom(null,de)}})}function C(L,H,k){return!k&&L.__zooming||new R(L,H)}function R(L,H){this.that=L,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,H),this.taps=0}R.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,H){return this.mouse&&L!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var H=nn(this.that).datum();f.call(L,this.that,new jfe(L,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:f}),H)}};function M(L,...H){if(!e.apply(this,arguments))return;var k=C(this,H).event(L),U=this.__zoom,G=Math.max(s[0],Math.min(s[1],U.k*Math.pow(2,r.apply(this,arguments)))),V=Ii(L);if(k.wheel)(k.mouse[0][0]!==V[0]||k.mouse[0][1]!==V[1])&&(k.mouse[1]=U.invert(k.mouse[0]=V)),clearTimeout(k.wheel);else{if(U.k===G)return;k.mouse=[V,U.invert(V)],jh(this),k.start()}ou(L),k.wheel=setTimeout(F,S),k.zoom("mouse",n(T(O(U,G),k.mouse[0],k.mouse[1]),k.extent,l));function F(){k.wheel=null,k.end()}}function P(L,...H){if(y||!e.apply(this,arguments))return;var k=L.currentTarget,U=C(this,H,!0).event(L),G=nn(L.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",Y,!0),V=Ii(L,k),F=L.clientX,X=L.clientY;cz(L.view),C1(L),U.mouse=[V,this.__zoom.invert(V)],jh(this),U.start();function W(ee){if(ou(ee),!U.moved){var se=ee.clientX-F,re=ee.clientY-X;U.moved=se*se+re*re>_}U.event(ee).zoom("mouse",n(T(U.that.__zoom,U.mouse[0]=Ii(ee,k),U.mouse[1]),U.extent,l))}function Y(ee){G.on("mousemove.zoom mouseup.zoom",null),uz(ee.view,U.moved),ou(ee),U.event(ee).end()}}function B(L,...H){if(e.apply(this,arguments)){var k=this.__zoom,U=Ii(L.changedTouches?L.changedTouches[0]:L,this),G=k.invert(U),V=k.k*(L.shiftKey?.5:2),F=n(T(O(k,V),U,G),t.apply(this,H),l);ou(L),u>0?nn(this).transition().duration(u).call(N,F,U,L):nn(this).call(j.transform,F,U,L)}}function D(L,...H){if(e.apply(this,arguments)){var k=L.touches,U=k.length,G=C(this,H,L.changedTouches.length===U).event(L),V,F,X,W;for(C1(L),F=0;F<U;++F)X=k[F],W=Ii(X,this),W=[W,this.__zoom.invert(W),X.identifier],G.touch0?!G.touch1&&G.touch0[2]!==W[2]&&(G.touch1=W,G.taps=0):(G.touch0=W,V=!0,G.taps=1+!!m);m&&(m=clearTimeout(m)),V&&(G.taps<2&&(g=W[0],m=setTimeout(function(){m=null},x)),jh(this),G.start())}}function I(L,...H){if(this.__zooming){var k=C(this,H).event(L),U=L.changedTouches,G=U.length,V,F,X,W;for(ou(L),V=0;V<G;++V)F=U[V],X=Ii(F,this),k.touch0&&k.touch0[2]===F.identifier?k.touch0[0]=X:k.touch1&&k.touch1[2]===F.identifier&&(k.touch1[0]=X);if(F=k.that.__zoom,k.touch1){var Y=k.touch0[0],ee=k.touch0[1],se=k.touch1[0],re=k.touch1[1],de=(de=se[0]-Y[0])*de+(de=se[1]-Y[1])*de,ge=(ge=re[0]-ee[0])*ge+(ge=re[1]-ee[1])*ge;F=O(F,Math.sqrt(de/ge)),X=[(Y[0]+se[0])/2,(Y[1]+se[1])/2],W=[(ee[0]+re[0])/2,(ee[1]+re[1])/2]}else if(k.touch0)X=k.touch0[0],W=k.touch0[1];else return;k.zoom("touch",n(T(F,X,W),k.extent,l))}}function z(L,...H){if(this.__zooming){var k=C(this,H).event(L),U=L.changedTouches,G=U.length,V,F;for(C1(L),y&&clearTimeout(y),y=setTimeout(function(){y=null},x),V=0;V<G;++V)F=U[V],k.touch0&&k.touch0[2]===F.identifier?delete k.touch0:k.touch1&&k.touch1[2]===F.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(F=Ii(F,this),Math.hypot(g[0]-F[0],g[1]-F[1])<b)){var X=nn(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return j.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:hh(+L),j):r},j.filter=function(L){return arguments.length?(e=typeof L=="function"?L:hh(!!L),j):e},j.touchable=function(L){return arguments.length?(a=typeof L=="function"?L:hh(!!L),j):a},j.extent=function(L){return arguments.length?(t=typeof L=="function"?L:hh([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),j):t},j.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],j):[s[0],s[1]]},j.translateExtent=function(L){return arguments.length?(l[0][0]=+L[0][0],l[1][0]=+L[1][0],l[0][1]=+L[0][1],l[1][1]=+L[1][1],j):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},j.constrain=function(L){return arguments.length?(n=L,j):n},j.duration=function(L){return arguments.length?(u=+L,j):u},j.interpolate=function(L){return arguments.length?(d=L,j):d},j.on=function(){var L=f.on.apply(f,arguments);return L===f?j:L},j.clickDistance=function(L){return arguments.length?(_=(L=+L)*L,j):Math.sqrt(_)},j.tapDistance=function(L){return arguments.length?(b=+L,j):b},j}const Tfe=({simulationData:e,rawSimulationData:t,simulationParams:n,topicSettings:r,opinionSettings:a,simulationReport:s,onError:l})=>{const[u,d]=$.useState({format:"png",resolution:"high",includeLabels:!0,includeStats:!0,matrixFormat:"symmetric",reportFormat:"markdown"}),[f,m]=$.useState(null);$.useRef(null);const g={images:["png","jpeg","svg","pdf"],reports:["markdown","html","pdf","txt"]},y={low:{width:800,height:600,dpi:72},medium:{width:1200,height:900,dpi:150},high:{width:1920,height:1440,dpi:300},ultra:{width:3840,height:2880,dpi:600}},x=async D=>{if(!(t!=null&&t.connections)){l("Нет данных для экспорта матрицы связей");return}m("Подготовка матрицы связей...");try{const{connections:I,agents:z}=t;let L,H,k;if(u.matrixFormat==="symmetric"){const U=["Agent_ID",...z.map((V,F)=>`Agent_${F}`)],G=I.map((V,F)=>[F,...V]);D==="csv"?(L=[U,...G].map(V=>V.join(",")).join("\\n"),H="connection_matrix_symmetric.csv",k="text/csv"):D==="json"&&(L=JSON.stringify({format:"symmetric",headers:U,data:G,metadata:{agentCount:z.length,threshold:n.threshold,exportTime:new Date().toISOString()}},null,2),H="connection_matrix_symmetric.json",k="application/json")}else{const U=[];if(I.forEach((G,V)=>{G.forEach((F,X)=>{var W,Y;V!==X&&F>0&&U.push({source_agent:V,target_agent:X,connection_strength:F,source_cluster:((W=z[V])==null?void 0:W.cluster)||0,target_cluster:((Y=z[X])==null?void 0:Y.cluster)||0})})}),D==="csv"){const G=Object.keys(U[0]||{}),V=U.map(F=>G.map(X=>F[X]));L=[G,...V].map(F=>F.join(",")).join("\\n"),H="connection_matrix_expanded.csv",k="text/csv"}else D==="json"&&(L=JSON.stringify({format:"expanded",data:U,metadata:{totalConnections:U.length,agentCount:z.length,threshold:n.threshold,exportTime:new Date().toISOString()}},null,2),H="connection_matrix_expanded.json",k="application/json")}B(L,H,k),m(null)}catch(I){l(`Ошибка экспорта матрицы: ${I.message}`),m(null)}},S=async D=>{if(!e){l("Нет данных для экспорта визуализации");return}m("Создание визуализации сети...");try{const I=y[u.resolution];if(D==="svg"){const z=await _(I);B(z,"network_visualization.svg","image/svg+xml")}else(await b(I,D)).toBlob(L=>{const H=URL.createObjectURL(L),k=document.createElement("a");k.href=H,k.download=`network_visualization.${D}`,k.click(),URL.revokeObjectURL(H)},`image/${D}`,D==="jpeg"?.9:void 0);m(null)}catch(I){l(`Ошибка экспорта визуализации: ${I.message}`),m(null)}},_=async D=>{const{width:I,height:z}=D,{nodes:L,links:H}=e,k=Mce("svg").attr("width",I).attr("height",z).attr("viewBox",[0,0,I,z]),U=bz(L).force("link",xz(H).id(V=>V.id).distance(50)).force("charge",wz().strength(-100)).force("center",gz(I/2,z/2));for(let V=0;V<300;++V)U.tick();k.append("g").selectAll("line").data(H).join("line").attr("x1",V=>V.source.x).attr("y1",V=>V.source.y).attr("x2",V=>V.target.x).attr("y2",V=>V.target.y).attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",V=>Math.sqrt(V.value)*2);const G=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6"];return k.append("g").selectAll("circle").data(L).join("circle").attr("cx",V=>V.x).attr("cy",V=>V.y).attr("r",8).attr("fill",V=>G[V.cluster%G.length]).attr("stroke","#fff").attr("stroke-width",2),u.includeLabels&&k.append("g").selectAll("text").data(L).join("text").attr("x",V=>V.x+12).attr("y",V=>V.y+4).text(V=>`A${V.id}`).attr("font-size","10px").attr("font-family","Arial, sans-serif"),k.node().outerHTML},b=async(D,I)=>{const{width:z,height:L}=D,H=document.createElement("canvas");H.width=z,H.height=L;const k=H.getContext("2d");k.fillStyle="white",k.fillRect(0,0,z,L);const{nodes:U,links:G}=e,V=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6"],F=jr().domain(gu(U,W=>W.x)).range([50,z-50]),X=jr().domain(gu(U,W=>W.y)).range([50,L-50]);return k.strokeStyle="#999",k.globalAlpha=.6,G.forEach(W=>{const Y=F(W.source.x),ee=X(W.source.y),se=F(W.target.x),re=X(W.target.y);k.lineWidth=Math.sqrt(W.value)*2,k.beginPath(),k.moveTo(Y,ee),k.lineTo(se,re),k.stroke()}),k.globalAlpha=1,k.lineWidth=2,U.forEach(W=>{const Y=F(W.x),ee=X(W.y);k.fillStyle=V[W.cluster%V.length],k.beginPath(),k.arc(Y,ee,8,0,2*Math.PI),k.fill(),k.strokeStyle="#fff",k.stroke(),u.includeLabels&&(k.fillStyle="#000",k.font="10px Arial",k.fillText(`A${W.id}`,Y+12,ee+4))}),H},j=async D=>{if(!t){l("Нет данных для экспорта отчета");return}m("Генерация отчета...");try{let I,z,L;const H=O();D==="markdown"?(I=N(H),z="simulation_report.md",L="text/markdown"):D==="html"?(I=C(H),z="simulation_report.html",L="text/html"):D==="json"?(I=JSON.stringify(H,null,2),z="simulation_statistics.json",L="application/json"):D==="txt"&&(I=R(H),z="simulation_report.txt",L="text/plain"),B(I,z,L),m(null)}catch(I){l(`Ошибка экспорта отчета: ${I.message}`),m(null)}},O=()=>{const{agents:D,connections:I}=t,z=D.length,L=I.flat().filter(G=>G>0).length/2,H=L*2/z,k={};for(let G=0;G<n.numClusters;G++){const V=D.filter(F=>F.cluster===G);k[G]={size:V.length,percentage:(V.length/z*100).toFixed(1),internalConnections:0,externalConnections:0}}I.forEach((G,V)=>{const F=D[V];G.forEach((X,W)=>{if(V<W&&X>0){const Y=D[W];F.cluster===Y.cluster?k[F.cluster].internalConnections++:(k[F.cluster].externalConnections++,k[Y.cluster].externalConnections++)}})});const U=r.topics.map((G,V)=>{const F=D.map(X=>{var W;return((W=X.opinions)==null?void 0:W[V])||0});return{name:G.name,avgOpinion:(F.reduce((X,W)=>X+W,0)/F.length).toFixed(3),polarization:T(F),consensus:E(F)}});return{basic:{totalAgents:z,totalConnections:L,avgConnectionsPerAgent:H.toFixed(2),networkDensity:(L/(z*(z-1)/2)*100).toFixed(2)},clusters:k,topics:U,parameters:n,exportTime:new Date().toISOString()}},T=D=>{const I=D.reduce((L,H)=>L+H,0)/D.length,z=D.reduce((L,H)=>L+Math.pow(H-I,2),0)/D.length;return Math.sqrt(z).toFixed(3)},E=D=>(1-(Math.max(...D)-Math.min(...D))/2).toFixed(3),N=D=>`# Отчет по симуляции агентного моделирования

## Основная статистика

- **Общее количество агентов:** ${D.basic.totalAgents}
- **Общее количество связей:** ${D.basic.totalConnections}
- **Среднее количество связей на агента:** ${D.basic.avgConnectionsPerAgent}
- **Плотность сети:** ${D.basic.networkDensity}%

## Статистика по кластерам

${Object.entries(D.clusters).map(([I,z])=>`
### Кластер ${parseInt(I)+1}
- Размер: ${z.size} агентов (${z.percentage}%)
- Внутренние связи: ${z.internalConnections}
- Внешние связи: ${z.externalConnections}
`).join("")}

## Статистика по темам

${D.topics.map((I,z)=>`
### ${I.name}
- Среднее мнение: ${I.avgOpinion}
- Поляризация: ${I.polarization}
- Консенсус: ${I.consensus}
`).join("")}

## Параметры симуляции

- Количество циклов: ${D.parameters.cycles}
- Порог связи: ${D.parameters.threshold}
- Размерность вектора: ${D.parameters.vectorDimension}
- Количество кластеров: ${D.parameters.numClusters}

---
*Отчет сгенерирован: ${new Date(D.exportTime).toLocaleString()}*
`,C=D=>`<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчет по симуляции</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        h1, h2, h3 { color: #333; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .stat-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }
        .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Отчет по симуляции агентного моделирования</h1>
    
    <h2>Основная статистика</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">${D.basic.totalAgents}</div>
            <div>Всего агентов</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">${D.basic.totalConnections}</div>
            <div>Всего связей</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">${D.basic.avgConnectionsPerAgent}</div>
            <div>Среднее связей на агента</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">${D.basic.networkDensity}%</div>
            <div>Плотность сети</div>
        </div>
    </div>

    <h2>Кластеры</h2>
    <table>
        <tr><th>Кластер</th><th>Размер</th><th>Процент</th><th>Внутренние связи</th><th>Внешние связи</th></tr>
        ${Object.entries(D.clusters).map(([I,z])=>`<tr><td>Кластер ${parseInt(I)+1}</td><td>${z.size}</td><td>${z.percentage}%</td><td>${z.internalConnections}</td><td>${z.externalConnections}</td></tr>`).join("")}
    </table>

    <h2>Темы</h2>
    <table>
        <tr><th>Тема</th><th>Среднее мнение</th><th>Поляризация</th><th>Консенсус</th></tr>
        ${D.topics.map(I=>`<tr><td>${I.name}</td><td>${I.avgOpinion}</td><td>${I.polarization}</td><td>${I.consensus}</td></tr>`).join("")}
    </table>

    <p><small>Отчет сгенерирован: ${new Date(D.exportTime).toLocaleString()}</small></p>
</body>
</html>`,R=D=>`ОТЧЕТ ПО СИМУЛЯЦИИ АГЕНТНОГО МОДЕЛИРОВАНИЯ
${"=".repeat(50)}

ОСНОВНАЯ СТАТИСТИКА:
- Всего агентов: ${D.basic.totalAgents}
- Всего связей: ${D.basic.totalConnections}
- Среднее связей на агента: ${D.basic.avgConnectionsPerAgent}
- Плотность сети: ${D.basic.networkDensity}%

КЛАСТЕРЫ:
${Object.entries(D.clusters).map(([I,z])=>`Кластер ${parseInt(I)+1}: ${z.size} агентов (${z.percentage}%), внутр: ${z.internalConnections}, внеш: ${z.externalConnections}`).join("\\n")}

ТЕМЫ:
${D.topics.map(I=>`${I.name}: среднее=${I.avgOpinion}, поляризация=${I.polarization}, консенсус=${I.consensus}`).join("\\n")}

ПАРАМЕТРЫ:
- Циклы: ${D.parameters.cycles}
- Порог: ${D.parameters.threshold}
- Размерность: ${D.parameters.vectorDimension}
- Кластеры: ${D.parameters.numClusters}

Сгенерировано: ${new Date(D.exportTime).toLocaleString()}`,M=async D=>{m("Создание графиков...");try{l("Экспорт графиков будет реализован в следующей версии"),m(null)}catch(I){l(`Ошибка экспорта графиков: ${I.message}`),m(null)}},P=async()=>{m("Подготовка полного экспорта...");try{const D={metadata:{exportTime:new Date().toISOString(),version:"1.0",description:"Полный экспорт данных симуляции агентного моделирования"},parameters:n,topicSettings:r,opinionSettings:a,rawData:t,visualizationData:e,statistics:O(),report:s},I=JSON.stringify(D,null,2);B(I,"full_simulation_export.json","application/json"),m(null)}catch(D){l(`Ошибка полного экспорта: ${D.message}`),m(null)}},B=(D,I,z)=>{const L=new Blob([D],{type:z}),H=window.URL.createObjectURL(L),k=document.createElement("a");k.href=H,k.download=I,k.click(),window.URL.revokeObjectURL(H)};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(Ia,{className:"h-5 w-5"}),"Расширенный экспорт данных"]})}),p.jsxs(kt,{children:[p.jsxs(Lo,{defaultValue:"matrices",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-5",children:[p.jsx(Et,{value:"matrices",children:"Матрицы"}),p.jsx(Et,{value:"visualizations",children:"Визуализации"}),p.jsx(Et,{value:"reports",children:"Отчеты"}),p.jsx(Et,{value:"charts",children:"Графики"}),p.jsx(Et,{value:"settings",children:"Настройки"})]}),p.jsx(Nt,{value:"matrices",className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsx(Ge,{children:"Формат матрицы связей"}),p.jsxs(Un,{value:u.matrixFormat,onValueChange:D=>d(I=>({...I,matrixFormat:D})),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"symmetric",children:"Симметричная матрица"}),p.jsx(ut,{value:"expanded",children:"Развернутая (все связи агента)"})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs(Je,{onClick:()=>x("csv"),disabled:!t||f,className:"flex items-center gap-2",children:[p.jsx(PH,{className:"h-4 w-4"}),"Экспорт в CSV"]}),p.jsxs(Je,{onClick:()=>x("json"),disabled:!t||f,variant:"outline",className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-4 w-4"}),"Экспорт в JSON"]})]}),p.jsx(ei,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium mb-2",children:"Дополнительные данные"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[p.jsx(Je,{onClick:P,disabled:!t||f,variant:"outline",size:"sm",children:"Полный экспорт данных"}),p.jsx(Je,{onClick:()=>{const D=JSON.stringify(n,null,2);B(D,"simulation_settings.json","application/json")},variant:"outline",size:"sm",children:"Настройки модели"})]})]})]})}),p.jsx(Nt,{value:"visualizations",className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{children:"Формат изображения"}),p.jsxs(Un,{value:u.format,onValueChange:D=>d(I=>({...I,format:D})),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:g.images.map(D=>p.jsx(ut,{value:D,children:D.toUpperCase()},D))})]})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Разрешение"}),p.jsxs(Un,{value:u.resolution,onValueChange:D=>d(I=>({...I,resolution:D})),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"low",children:"Низкое (800×600)"}),p.jsx(ut,{value:"medium",children:"Среднее (1200×900)"}),p.jsx(ut,{value:"high",children:"Высокое (1920×1440)"}),p.jsx(ut,{value:"ultra",children:"Ультра (3840×2880)"})]})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Bk,{id:"include-labels",checked:u.includeLabels,onCheckedChange:D=>d(I=>({...I,includeLabels:D}))}),p.jsx(Ge,{htmlFor:"include-labels",children:"Включить подписи агентов"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs(Je,{onClick:()=>S(u.format),disabled:!e||f,className:"flex items-center gap-2",children:[p.jsx(H_,{className:"h-4 w-4"}),"Экспорт сети"]}),p.jsxs(Je,{onClick:()=>M(u.format),disabled:!t||f,variant:"outline",className:"flex items-center gap-2",children:[p.jsx(G1,{className:"h-4 w-4"}),"Экспорт графиков"]})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsx("p",{children:p.jsx("strong",{children:"Текущие настройки:"})}),p.jsxs("p",{children:["Формат: ",u.format.toUpperCase(),", Разрешение: ",y[u.resolution].width,"×",y[u.resolution].height,", DPI: ",y[u.resolution].dpi]})]})]})}),p.jsx(Nt,{value:"reports",className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{children:"Формат отчета"}),p.jsxs(Un,{value:u.reportFormat,onValueChange:D=>d(I=>({...I,reportFormat:D})),children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:g.reports.map(D=>p.jsx(ut,{value:D,children:D.toUpperCase()},D))})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Bk,{id:"include-stats",checked:u.includeStats,onCheckedChange:D=>d(I=>({...I,includeStats:D}))}),p.jsx(Ge,{htmlFor:"include-stats",children:"Включить детальную статистику"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs(Je,{onClick:()=>j(u.reportFormat),disabled:!t||f,className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-4 w-4"}),"Сводка результатов"]}),p.jsxs(Je,{onClick:()=>{B(s,"simulation_report.md","text/markdown")},disabled:!s,variant:"outline",className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-4 w-4"}),"Базовый отчет"]})]})]})}),p.jsx(Nt,{value:"charts",className:"space-y-4",children:p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(G1,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Экспорт графиков и гистограмм"}),p.jsx("p",{className:"text-sm",children:"Будет реализован в следующей версии"})]})}),p.jsx(Nt,{value:"settings",className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"font-medium",children:"Настройки экспорта"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Изображения"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Формат:"}),p.jsx(ct,{variant:"outline",children:u.format.toUpperCase()})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Разрешение:"}),p.jsx(ct,{variant:"outline",children:u.resolution})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Подписи:"}),p.jsx(ct,{variant:u.includeLabels?"default":"outline",children:u.includeLabels?"Да":"Нет"})]})]})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Данные"}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Матрица:"}),p.jsx(ct,{variant:"outline",children:u.matrixFormat})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Отчет:"}),p.jsx(ct,{variant:"outline",children:u.reportFormat.toUpperCase()})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Статистика:"}),p.jsx(ct,{variant:u.includeStats?"default":"outline",children:u.includeStats?"Да":"Нет"})]})]})]})]}),p.jsxs(Je,{onClick:()=>d({format:"png",resolution:"high",includeLabels:!0,includeStats:!0,matrixFormat:"symmetric",reportFormat:"markdown"}),variant:"outline",className:"w-full",children:[p.jsx(Y$,{className:"h-4 w-4 mr-2"}),"Сбросить настройки"]})]})})]}),f&&p.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),p.jsx("span",{className:"text-blue-800",children:f})]})})]})]})},Mfe=({rawSimulationData:e,simulationParams:t,topicSettings:n,onError:r})=>{var ge,oe,le,fe,ie,Ce,Ae;$.useEffect(()=>{const Q=(ne,he)=>{console.error("Caught an error in AdvancedAnalytics:",ne,he),r&&r(ne,he)};return window.addEventListener("error",Q),()=>window.removeEventListener("error",Q)},[r]);const[a,s]=$.useState([]),[l,u]=$.useState({}),[d,f]=$.useState({}),[m,g]=$.useState("opinions"),[y,x]=$.useState("all"),[S,_]=$.useState("csv"),[b,j]=$.useState("all"),O=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6"];$.useEffect(()=>{e&&(T(),E(),N())},[e,t,n]);const T=()=>{if(!(e!=null&&e.agents)||!(n!=null&&n.topics)||e.agents.length===0)return;const Q=[],ne=(t==null?void 0:t.cycles)||10;for(let he=0;he<=ne;he++){const pe={cycle:he};n.topics.forEach((ye,we)=>{const Oe=e.agents.map(je=>Array.isArray(je.opinions)?je.opinions[we]||0:typeof je.opinions=="object"&&(je.opinions[ye.id]||je.opinions[we])||0);pe[`topic_${we}`]=Oe.reduce((je,Ne)=>je+Ne,0)/Oe.length}),pe.avgConnections=R(),pe.networkDensity=C(),pe.clustering=M(),Q.push(pe)}s(Q)},E=()=>{if(!(e!=null&&e.agents)||!(e!=null&&e.connections)||e.agents.length===0||e.connections.length===0)return;const{agents:Q,connections:ne}=e,he={};he.nodeCount=Q.length,he.edgeCount=ne.flat().filter(pe=>pe>0).length/2,he.density=C(),he.averageDegree=he.edgeCount*2/he.nodeCount,he.degreeCentrality=P(ne),he.betweennessCentrality=B(ne),he.closenessCentrality=D(ne),he.clusteringCoefficient=M(),he.modularity=I(ne,Q),he.connectedComponents=z(ne),he.largestComponent=Math.max(...he.connectedComponents.map(pe=>pe.length)),u(he)},N=()=>{if(!(e!=null&&e.agents))return;const Q={};Q.normalityTests=k(),Q.correlations=U(),f(Q)},C=()=>{if(!(e!=null&&e.connections))return 0;const{connections:Q}=e,ne=Q.length,he=Q.flat().filter(ye=>ye>0).length/2,pe=ne*(ne-1)/2;return pe>0?he/pe:0},R=()=>{if(!(e!=null&&e.connections))return 0;const{connections:Q}=e,ne=Q.reduce((he,pe)=>he+pe.filter(ye=>ye>0).length,0);return Q.length>0?ne/Q.length:0},M=()=>{if(!(e!=null&&e.connections))return 0;const{connections:Q}=e,ne=Q.length;let he=0;for(let pe=0;pe<ne;pe++){const ye=[];for(let je=0;je<ne;je++)pe!==je&&Q[pe][je]>0&&ye.push(je);if(ye.length<2)continue;let we=0;for(let je=0;je<ye.length;je++)for(let Ne=je+1;Ne<ye.length;Ne++)Q[ye[je]][ye[Ne]]>0&&we++;const Oe=ye.length*(ye.length-1)/2;he+=Oe>0?we/Oe:0}return ne>0?he/ne:0},P=Q=>Q.map(ne=>ne.filter(he=>he>0).length),B=Q=>{const ne=Q.length,he=new Array(ne).fill(0);for(let ye=0;ye<ne;ye++){const we=[],Oe=Array(ne).fill().map(()=>[]),je=new Array(ne).fill(-1),Ne=new Array(ne).fill(0),$e=new Array(ne).fill(0);je[ye]=0,Ne[ye]=1;const et=[ye];for(;et.length>0;){const ze=et.shift();we.push(ze);for(let De=0;De<ne;De++)Q[ze][De]>0&&(je[De]<0&&(et.push(De),je[De]=je[ze]+1),je[De]===je[ze]+1&&(Ne[De]+=Ne[ze],Oe[De].push(ze)))}for(;we.length>0;){const ze=we.pop();for(const De of Oe[ze])$e[De]+=Ne[De]/Ne[ze]*(1+$e[ze]);ze!==ye&&(he[ze]+=$e[ze])}}const pe=ne>2?2/((ne-1)*(ne-2)):1;return he.map(ye=>ye*pe)},D=Q=>{const ne=Q.length;return Q.map((he,pe)=>{let ye=0,we=0;for(let Oe=0;Oe<ne;Oe++)if(pe!==Oe){const je=H(Q,pe,Oe);je<1/0&&(ye+=je,we++)}return we>0?we/ye:0})},I=(Q,ne)=>{const he=Q.length,pe=Q.flat().filter(we=>we>0).length/2;if(pe===0)return 0;let ye=0;for(let we=0;we<he;we++)for(let Oe=0;Oe<he;Oe++){const je=Q[we].filter(et=>et>0).length,Ne=Q[Oe].filter(et=>et>0).length,$e=ne[we].cluster===ne[Oe].cluster?1:0;ye+=(Q[we][Oe]-je*Ne/(2*pe))*$e}return ye/(2*pe)},z=Q=>{const ne=Q.length,he=new Array(ne).fill(!1),pe=[],ye=(we,Oe)=>{he[we]=!0,Oe.push(we);for(let je=0;je<ne;je++)!he[je]&&Q[we][je]>0&&ye(je,Oe)};for(let we=0;we<ne;we++)if(!he[we]){const Oe=[];ye(we,Oe),pe.push(Oe)}return pe},L=(Q,ne,he)=>{const pe=Q.length,ye=new Array(pe).fill(!1),we=new Array(pe).fill(-1),Oe=[ne];for(ye[ne]=!0;Oe.length>0;){const je=Oe.shift();if(je===he){const Ne=[];let $e=he;for(;$e!==-1;)Ne.unshift($e),$e=we[$e];return Ne}for(let Ne=0;Ne<pe;Ne++)!ye[Ne]&&Q[je][Ne]>0&&(ye[Ne]=!0,we[Ne]=je,Oe.push(Ne))}return[]},H=(Q,ne,he)=>{const pe=L(Q,ne,he);return pe.length>0?pe.length-1:1/0},k=()=>{if(!(e!=null&&e.agents)||!(n!=null&&n.topics)||e.agents.length===0)return{};const Q={};return n.topics.forEach((ne,he)=>{const pe=e.agents.map(Qe=>Array.isArray(Qe.opinions)?Qe.opinions[he]||0:typeof Qe.opinions=="object"&&(Qe.opinions[ne.id]||Qe.opinions[he])||0),ye=pe.reduce((Qe,pt)=>Qe+pt,0)/pe.length,we=pe.reduce((Qe,pt)=>Qe+Math.pow(pt-ye,2),0)/(pe.length-1),Oe=Math.sqrt(we),je=pe.reduce((Qe,pt)=>Qe+Math.pow((pt-ye)/Oe,3),0)/pe.length,Ne=pe.reduce((Qe,pt)=>Qe+Math.pow((pt-ye)/Oe,4),0)/pe.length-3,et=pe.length/6*(Math.pow(je,2)+Math.pow(Ne,2)/4),ze=5.991,De=et<ze;Q[ne.name]={mean:ye.toFixed(3),std:Oe.toFixed(3),skewness:je.toFixed(3),kurtosis:Ne.toFixed(3),jarqueBera:{statistic:et.toFixed(3),critical:ze.toFixed(3),isNormal:De},isNormal:De}}),Q},U=()=>{if(!(e!=null&&e.agents)||!(n!=null&&n.topics)||n.topics.length<2)return{};const Q={};for(let ne=0;ne<n.topics.length;ne++)for(let he=ne+1;he<n.topics.length;he++){const pe=n.topics[ne],ye=n.topics[he],we=e.agents.map(Ne=>Array.isArray(Ne.opinions)?Ne.opinions[ne]||0:typeof Ne.opinions=="object"&&(Ne.opinions[pe.id]||Ne.opinions[ne])||0),Oe=e.agents.map(Ne=>Array.isArray(Ne.opinions)?Ne.opinions[he]||0:typeof Ne.opinions=="object"&&(Ne.opinions[ye.id]||Ne.opinions[he])||0),je=G(we,Oe);Q[`${pe.name} - ${ye.name}`]=je.toFixed(3)}return Q},G=(Q,ne)=>{const he=Q.length,pe=Q.reduce((et,ze)=>et+ze,0),ye=ne.reduce((et,ze)=>et+ze,0),we=Q.reduce((et,ze,De)=>et+ze*ne[De],0),Oe=Q.reduce((et,ze)=>et+ze*ze,0),je=ne.reduce((et,ze)=>et+ze*ze,0),Ne=he*we-pe*ye,$e=Math.sqrt((he*Oe-pe*pe)*(he*je-ye*ye));return $e===0?0:Ne/$e},V=()=>{try{let Q,ne,he;switch(S){case"csv":Q=F(),ne=`analytics_${b}_${new Date().toISOString().split("T")[0]}.csv`,he="text/csv";break;case"json":Q=JSON.stringify(X(),null,2),ne=`analytics_${b}_${new Date().toISOString().split("T")[0]}.json`,he="application/json";break;case"txt":Q=Y(),ne=`analytics_report_${new Date().toISOString().split("T")[0]}.txt`,he="text/plain";break;case"md":Q=ee(),ne=`analytics_report_${new Date().toISOString().split("T")[0]}.md`,he="text/markdown";break;default:throw new Error("Неподдерживаемый формат экспорта")}const pe=new Blob([Q],{type:he}),ye=window.URL.createObjectURL(pe),we=document.createElement("a");we.href=ye,we.download=ne,we.click(),window.URL.revokeObjectURL(ye)}catch(Q){r&&r(`Ошибка экспорта: ${Q.message}`)}},F=()=>{var Q;switch(b){case"timeseries":return Qr.unparse(a);case"network":const ne=se();return Qr.unparse(ne);case"statistics":const he=Object.entries(d.normalityTests||{}).map(([ye,we])=>{var Oe,je;return{topic:ye,mean:we.mean,std:we.std,skewness:we.skewness,kurtosis:we.kurtosis,jarqueBera_statistic:((Oe=we.jarqueBera)==null?void 0:Oe.statistic)||"N/A",jarqueBera_critical:((je=we.jarqueBera)==null?void 0:je.critical)||"N/A",isNormal:we.isNormal?"Да":"Нет"}});return Qr.unparse(he);case"opinions":const pe=[];return(Q=e==null?void 0:e.agents)==null||Q.forEach((ye,we)=>{var Oe;(Oe=n==null?void 0:n.topics)==null||Oe.forEach((je,Ne)=>{let $e=0;Array.isArray(ye.opinions)?$e=ye.opinions[Ne]||0:typeof ye.opinions=="object"&&($e=ye.opinions[je.id]||ye.opinions[Ne]||0),pe.push({agent:`Agent_${we}`,topic:je.name,opinion:$e.toFixed(3),cluster:ye.cluster})})}),Qr.unparse(pe);default:return Qr.unparse([...a.map(ye=>({type:"timeseries",...ye})),...se().map(ye=>({type:"network",...ye}))])}},X=()=>{const Q={metadata:{exportDate:new Date().toISOString(),simulationParams:t,topicSettings:n,exportType:b}};switch(b){case"timeseries":Q.timeSeriesData=a;break;case"network":Q.networkMetrics=l,Q.networkData=se();break;case"statistics":Q.statisticalTests=d;break;case"opinions":Q.opinionsData=W();break;default:Q.timeSeriesData=a,Q.networkMetrics=l,Q.statisticalTests=d,Q.opinionsData=W()}return Q},W=()=>{var ne;const Q=[];return(ne=e==null?void 0:e.agents)==null||ne.forEach((he,pe)=>{var we;const ye={agentId:pe,cluster:he.cluster,opinions:{}};(we=n==null?void 0:n.topics)==null||we.forEach((Oe,je)=>{let Ne=0;Array.isArray(he.opinions)?Ne=he.opinions[je]||0:typeof he.opinions=="object"&&(Ne=he.opinions[Oe.id]||he.opinions[je]||0),ye.opinions[Oe.name]=Ne}),Q.push(ye)}),Q},Y=()=>{var ne,he,pe,ye,we;let Q=`ОТЧЕТ ПО АНАЛИТИКЕ АГЕНТНОГО МОДЕЛИРОВАНИЯ
`;return Q+=`Дата создания: ${new Date().toLocaleString("ru-RU")}
`,Q+=`${"=".repeat(60)}

`,Q+=`ПАРАМЕТРЫ СИМУЛЯЦИИ:
`,Q+=`- Количество агентов: ${(t==null?void 0:t.agentCount)||"N/A"}
`,Q+=`- Циклы симуляции: ${(t==null?void 0:t.cycles)||"N/A"}
`,Q+=`- Порог отображения: ${(t==null?void 0:t.threshold)||"N/A"}
`,Q+=`- Размерность вектора: ${(t==null?void 0:t.vectorDimension)||"N/A"}
`,Q+=`- Количество кластеров: ${(t==null?void 0:t.numClusters)||"N/A"}

`,Q+=`СЕТЕВЫЕ МЕТРИКИ:
`,Q+=`- Количество узлов: ${l.nodeCount||"N/A"}
`,Q+=`- Количество связей: ${l.edgeCount||"N/A"}
`,Q+=`- Плотность сети: ${((ne=l.density)==null?void 0:ne.toFixed(3))||"N/A"}
`,Q+=`- Средняя степень: ${((he=l.averageDegree)==null?void 0:he.toFixed(2))||"N/A"}
`,Q+=`- Коэффициент кластеризации: ${((pe=l.clusteringCoefficient)==null?void 0:pe.toFixed(3))||"N/A"}
`,Q+=`- Модульность: ${((ye=l.modularity)==null?void 0:ye.toFixed(3))||"N/A"}
`,Q+=`- Компоненты связности: ${((we=l.connectedComponents)==null?void 0:we.length)||"N/A"}
`,Q+=`- Размер наибольшего компонента: ${l.largestComponent||"N/A"}

`,Q+=`СТАТИСТИЧЕСКИЕ ТЕСТЫ:
`,Object.entries(d.normalityTests||{}).forEach(([Oe,je])=>{var Ne,$e;Q+=`
Тема: ${Oe}
`,Q+=`  - Среднее: ${je.mean}
`,Q+=`  - Стандартное отклонение: ${je.std}
`,Q+=`  - Асимметрия: ${je.skewness}
`,Q+=`  - Эксцесс: ${je.kurtosis}
`,Q+=`  - Тест Жарка-Бера: ${((Ne=je.jarqueBera)==null?void 0:Ne.statistic)||"N/A"} (критическое: ${(($e=je.jarqueBera)==null?void 0:$e.critical)||"N/A"})
`,Q+=`  - Нормальность: ${je.isNormal?"Да":"Нет"}
`}),Q+=`
КОРРЕЛЯЦИИ МЕЖДУ ТЕМАМИ:
`,Object.entries(d.correlations||{}).forEach(([Oe,je])=>{Q+=`- ${Oe}: ${je}
`}),Q},ee=()=>{var ne,he,pe,ye,we;let Q=`# Отчет по аналитике агентного моделирования

`;return Q+=`**Дата создания:** ${new Date().toLocaleString("ru-RU")}

`,Q+=`## Параметры симуляции

`,Q+=`| Параметр | Значение |
`,Q+=`|----------|----------|
`,Q+=`| Количество агентов | ${(t==null?void 0:t.agentCount)||"N/A"} |
`,Q+=`| Циклы симуляции | ${(t==null?void 0:t.cycles)||"N/A"} |
`,Q+=`| Порог отображения | ${(t==null?void 0:t.threshold)||"N/A"} |
`,Q+=`| Размерность вектора | ${(t==null?void 0:t.vectorDimension)||"N/A"} |
`,Q+=`| Количество кластеров | ${(t==null?void 0:t.numClusters)||"N/A"} |

`,Q+=`## Сетевые метрики

`,Q+=`| Метрика | Значение |
`,Q+=`|---------|----------|
`,Q+=`| Количество узлов | ${l.nodeCount||"N/A"} |
`,Q+=`| Количество связей | ${l.edgeCount||"N/A"} |
`,Q+=`| Плотность сети | ${((ne=l.density)==null?void 0:ne.toFixed(3))||"N/A"} |
`,Q+=`| Средняя степень | ${((he=l.averageDegree)==null?void 0:he.toFixed(2))||"N/A"} |
`,Q+=`| Коэффициент кластеризации | ${((pe=l.clusteringCoefficient)==null?void 0:pe.toFixed(3))||"N/A"} |
`,Q+=`| Модульность | ${((ye=l.modularity)==null?void 0:ye.toFixed(3))||"N/A"} |
`,Q+=`| Компоненты связности | ${((we=l.connectedComponents)==null?void 0:we.length)||"N/A"} |
`,Q+=`| Размер наибольшего компонента | ${l.largestComponent||"N/A"} |

`,Q+=`## Статистические тесты

`,Q+=`### Тесты на нормальность

`,Q+=`| Тема | Среднее | Ст. откл. | Асимметрия | Эксцесс | JB статистика | Нормальность |
`,Q+=`|------|---------|-----------|------------|---------|---------------|-------------|
`,Object.entries(d.normalityTests||{}).forEach(([Oe,je])=>{var Ne;Q+=`| ${Oe} | ${je.mean} | ${je.std} | ${je.skewness} | ${je.kurtosis} | ${((Ne=je.jarqueBera)==null?void 0:Ne.statistic)||"N/A"} | ${je.isNormal?"Да":"Нет"} |
`}),Q+=`
### Корреляции между темами

`,Q+=`| Пара тем | Корреляция |
`,Q+=`|----------|------------|
`,Object.entries(d.correlations||{}).forEach(([Oe,je])=>{Q+=`| ${Oe} | ${je} |
`}),Q},se=()=>!l.degreeCentrality||!l.betweennessCentrality?[]:l.degreeCentrality.map((Q,ne)=>{var he;return{agent:`Agent ${ne}`,degree:Q,betweenness:l.betweennessCentrality[ne]||0,closeness:((he=l.closenessCentrality)==null?void 0:he[ne])||0}}),re=()=>a.slice(0,20),de=Q=>{if(!(e!=null&&e.agents)||e.agents.length===0)return[];const ne=e.agents.map(pe=>Array.isArray(pe.opinions)?pe.opinions[Q]||0:typeof pe.opinions=="object"&&(pe.opinions[n.topics[Q].id]||pe.opinions[Q])||0),he=Array(10).fill(0);return ne.forEach(pe=>{const ye=Math.min(Math.floor(pe*10),9);he[ye]++}),he.map((pe,ye)=>({range:`${(ye*.1).toFixed(1)}-${((ye+1)*.1).toFixed(1)}`,count:pe}))};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(G1,{className:"h-5 w-5"}),"Расширенная аналитика с экспортом"]})}),p.jsxs(kt,{children:[p.jsxs(Ie,{className:"mb-6 p-4 bg-gray-50",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(Ia,{className:"h-4 w-4"}),"Экспорт данных аналитики"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"exportFormat",children:"Формат экспорта"}),p.jsxs(Un,{value:S,onValueChange:_,children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"csv",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fH,{className:"h-4 w-4"}),"CSV"]})}),p.jsx(ut,{value:"json",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cH,{className:"h-4 w-4"}),"JSON"]})}),p.jsx(ut,{value:"txt",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-4 w-4"}),"TXT"]})}),p.jsx(ut,{value:"md",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ys,{className:"h-4 w-4"}),"Markdown"]})})]})]})]}),p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"exportData",children:"Данные для экспорта"}),p.jsxs(Un,{value:b,onValueChange:j,children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsxs(Vn,{children:[p.jsx(ut,{value:"all",children:"Все данные"}),p.jsx(ut,{value:"timeseries",children:"Временные ряды"}),p.jsx(ut,{value:"network",children:"Сетевые метрики"}),p.jsx(ut,{value:"statistics",children:"Статистические тесты"}),p.jsx(ut,{value:"opinions",children:"Мнения агентов"})]})]})]}),p.jsx("div",{className:"flex items-end",children:p.jsxs(Je,{onClick:V,className:"w-full",children:[p.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Экспортировать"]})})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"CSV:"})," Табличные данные для анализа в Excel/Google Sheets"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"JSON:"})," Структурированные данные для программного анализа"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"TXT/Markdown:"})," Читаемые отчеты с результатами анализа"]})]})]}),p.jsxs(Lo,{defaultValue:"timeseries",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-4",children:[p.jsx(Et,{value:"timeseries",children:"Временные ряды"}),p.jsx(Et,{value:"network",children:"Сетевые метрики"}),p.jsx(Et,{value:"statistics",children:"Статистические тесты"}),p.jsx(Et,{value:"opinionDistribution",children:"Распределение мнений"})]}),p.jsxs(Nt,{value:"timeseries",className:"space-y-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(Qp,{className:"h-4 w-4"}),"Динамика мнений во времени"]}),p.jsx(Zs,{width:"100%",height:400,children:p.jsxs(Ise,{data:re(),children:[p.jsx(tl,{strokeDasharray:"3 3"}),p.jsx(ci,{dataKey:"cycle"}),p.jsx(ui,{}),p.jsx(Nn,{}),(ge=n==null?void 0:n.topics)==null?void 0:ge.map((Q,ne)=>p.jsx(Ef,{type:"monotone",dataKey:`topic_${ne}`,stroke:O[ne%O.length],strokeWidth:2,name:Q.name},ne))]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Плотность сети"}),p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((oe=l.density)==null?void 0:oe.toFixed(3))||"0.000"})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Средний коэффициент кластеризации"}),p.jsx("div",{className:"text-2xl font-bold text-green-600",children:((le=l.clusteringCoefficient)==null?void 0:le.toFixed(3))||"0.000"})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:"Среднее количество связей"}),p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((fe=l.averageDegree)==null?void 0:fe.toFixed(2))||"0.00"})]})]})]}),p.jsxs(Nt,{value:"network",className:"space-y-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(H_,{className:"h-4 w-4"}),"Метрики центральности сети"]}),p.jsx(Zs,{width:"100%",height:400,children:p.jsxs(zse,{data:se(),children:[p.jsx(tl,{strokeDasharray:"3 3"}),p.jsx(ci,{dataKey:"degree",name:"Степень"}),p.jsx(ui,{dataKey:"betweenness",name:"Посредничество"}),p.jsx(Nn,{cursor:{strokeDasharray:"3 3"}}),p.jsx(Nf,{name:"Агенты",data:se(),fill:"#3B82F6"})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-4",children:"Компоненты связности"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Количество компонентов:"}),p.jsx("span",{className:"font-medium",children:((ie=l.connectedComponents)==null?void 0:ie.length)||0})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Размер наибольшего:"}),p.jsx("span",{className:"font-medium",children:l.largestComponent||0})]})]})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-4",children:"Модульность"}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((Ce=l.modularity)==null?void 0:Ce.toFixed(3))||"0.000"}),p.jsx("div",{className:"text-sm text-gray-600",children:l.modularity>.3?"Высокая":l.modularity>.1?"Средняя":"Низкая"})]})]})]})]}),p.jsxs(Nt,{value:"statistics",className:"space-y-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(DH,{className:"h-4 w-4"}),"Тесты на нормальность"]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",children:[p.jsx("th",{className:"text-left p-2",children:"Тема"}),p.jsx("th",{className:"text-left p-2",children:"Среднее"}),p.jsx("th",{className:"text-left p-2",children:"Ст. откл."}),p.jsx("th",{className:"text-left p-2",children:"Асимметрия"}),p.jsx("th",{className:"text-left p-2",children:"Эксцесс"}),p.jsx("th",{className:"text-left p-2",children:"JB статистика"}),p.jsx("th",{className:"text-left p-2",children:"JB критическое"}),p.jsx("th",{className:"text-left p-2",children:"Нормальность (Жарк-Бера)"})]})}),p.jsx("tbody",{children:Object.entries(d.normalityTests||{}).map(([Q,ne])=>p.jsxs("tr",{className:"border-b",children:[p.jsx("td",{className:"p-2 font-medium",children:Q}),p.jsx("td",{className:"p-2",children:ne.mean}),p.jsx("td",{className:"p-2",children:ne.std}),p.jsx("td",{className:"p-2",children:ne.skewness}),p.jsx("td",{className:"p-2",children:ne.kurtosis}),p.jsx("td",{className:"p-2",children:ne.jarqueBera?ne.jarqueBera.statistic:"N/A"}),p.jsx("td",{className:"p-2",children:ne.jarqueBera?ne.jarqueBera.critical:"N/A"}),p.jsx("td",{className:"p-2",children:p.jsx(ct,{variant:ne.isNormal?"default":"destructive",children:ne.isNormal?"Да":"Нет"})})]},Q))})]})})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h4",{className:"font-medium mb-4",children:"Корреляции между темами"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(d.correlations||{}).map(([Q,ne])=>p.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[p.jsx("span",{className:"text-sm",children:Q}),p.jsx(ct,{variant:Math.abs(ne)>.5?"default":"outline",children:ne})]},Q))})]})]}),p.jsx(Nt,{value:"opinionDistribution",className:"space-y-4",children:p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(pu,{className:"h-4 w-4"}),"Распределение мнений по темам"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(Ae=n==null?void 0:n.topics)==null?void 0:Ae.map((Q,ne)=>p.jsxs(Ie,{className:"p-4",children:[p.jsx("h5",{className:"font-medium mb-2",children:Q.name}),p.jsx(Zs,{width:"100%",height:200,children:p.jsxs(__,{data:de(ne),children:[p.jsx(tl,{strokeDasharray:"3 3"}),p.jsx(ci,{dataKey:"range"}),p.jsx(ui,{}),p.jsx(Nn,{}),p.jsx(li,{dataKey:"count",fill:"#8884d8"})]})})]},ne))})]})})]})]})]})},Rfe=({simulationData:e,rawSimulationData:t,simulationParams:n,topicSettings:r,networkMetrics:a,timeSeriesData:s,onError:l})=>{var X,W;const[u,d]=$.useState(""),[f,m]=$.useState("anthropic/claude-3-haiku"),[g,y]=$.useState("comprehensive"),[x,S]=$.useState(""),[_,b]=$.useState(!1),[j,O]=$.useState([]),[T,E]=$.useState([]),N=[{id:"anthropic/claude-3-haiku",name:"Claude 3 Haiku",provider:"Anthropic",cost:"Низкая"},{id:"anthropic/claude-3-sonnet",name:"Claude 3 Sonnet",provider:"Anthropic",cost:"Средняя"},{id:"anthropic/claude-3-opus",name:"Claude 3 Opus",provider:"Anthropic",cost:"Высокая"},{id:"openai/gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",cost:"Низкая"},{id:"openai/gpt-4o",name:"GPT-4o",provider:"OpenAI",cost:"Средняя"},{id:"google/gemini-pro",name:"Gemini Pro",provider:"Google",cost:"Средняя"},{id:"meta-llama/llama-3.1-70b-instruct",name:"Llama 3.1 70B",provider:"Meta",cost:"Средняя"}],C=[{id:"comprehensive",name:"Комплексный анализ",description:"Полный анализ всех аспектов симуляции"},{id:"network",name:"Сетевой анализ",description:"Фокус на структуре и динамике сети"},{id:"opinions",name:"Анализ мнений",description:"Изучение эволюции и распределения мнений"},{id:"clustering",name:"Кластерный анализ",description:"Анализ формирования и динамики кластеров"},{id:"trends",name:"Трендовый анализ",description:"Выявление трендов и паттернов во времени"},{id:"custom",name:"Пользовательский",description:"Анализ по вашему запросу"}];$.useEffect(()=>{const Y=localStorage.getItem("openrouter_api_key");Y&&d(Y);const ee=localStorage.getItem("ai_analysis_history");if(ee)try{E(JSON.parse(ee))}catch(se){console.error("Error loading analysis history:",se)}},[]);const R=()=>{u.trim()&&localStorage.setItem("openrouter_api_key",u.trim())},M=Y=>{var se,re,de,ge;const ee={simulationParams:n,agentCount:((se=t==null?void 0:t.agents)==null?void 0:se.length)||0,topicCount:((re=r==null?void 0:r.topics)==null?void 0:re.length)||0,topics:((de=r==null?void 0:r.topics)==null?void 0:de.map(oe=>oe.name))||[],cycles:(n==null?void 0:n.cycles)||0};switch(Y){case"comprehensive":return{...ee,networkMetrics:a?{density:a.density,averageDegree:a.averageDegree,clusteringCoefficient:a.clusteringCoefficient,modularity:a.modularity,connectedComponents:(ge=a.connectedComponents)==null?void 0:ge.length}:null,opinionStats:t!=null&&t.agents?P():null,clusterDistribution:t!=null&&t.agents?B():null,timeSeriesData:s==null?void 0:s.slice(-10)};case"network":return{...ee,networkMetrics:a,connectionMatrix:t!=null&&t.connections?D(t.connections):null,centralityStats:a?{topDegreeNodes:I(a.degreeCentrality,5),topBetweennessNodes:I(a.betweennessCentrality,5)}:null};case"opinions":return{...ee,opinionDistributions:z(),opinionCorrelations:L(),consensusMetrics:k(),polarizationIndex:U()};case"clustering":return{...ee,clusterStats:calculateDetailedClusterStats(),interClusterConnections:calculateInterClusterConnections(),clusterStability:calculateClusterStability()};case"trends":return{...ee,timeSeriesData:s,trendAnalysis:analyzeTrends(),seasonalityDetection:detectSeasonality(),changePoints:detectChangePoints()};default:return ee}},P=()=>{if(!(t!=null&&t.agents))return null;const Y=t.agents.flatMap(re=>re.opinions||[]),ee=Y.reduce((re,de)=>re+de,0)/Y.length,se=Y.reduce((re,de)=>re+Math.pow(de-ee,2),0)/Y.length;return{mean:ee.toFixed(3),variance:se.toFixed(3),standardDeviation:Math.sqrt(se).toFixed(3),range:{min:Math.min(...Y).toFixed(3),max:Math.max(...Y).toFixed(3)}}},B=()=>{if(!(t!=null&&t.agents))return null;const Y={};return t.agents.forEach(ee=>{Y[ee.cluster]=(Y[ee.cluster]||0)+1}),Object.entries(Y).map(([ee,se])=>({cluster:parseInt(ee),count:se,percentage:(se/t.agents.length*100).toFixed(1)}))},D=Y=>{const ee=Y.flat().filter(de=>de>0).length/2,se=Y.length*(Y.length-1)/2,re=ee/se;return{totalConnections:ee,possibleConnections:se,density:re.toFixed(3),averageConnectionsPerAgent:(ee*2/Y.length).toFixed(2)}},I=(Y,ee)=>Y?Y.map((se,re)=>({index:re,value:se})).sort((se,re)=>re.value-se.value).slice(0,ee).map(se=>({agent:`Agent ${se.index}`,value:se.value.toFixed(3)})):[],z=()=>!(t!=null&&t.agents)||!(r!=null&&r.topics)?null:r.topics.map((Y,ee)=>{const se=t.agents.map(ge=>{var oe;return((oe=ge.opinions)==null?void 0:oe[ee])||0}),re=se.reduce((ge,oe)=>ge+oe,0)/se.length,de=Math.sqrt(se.reduce((ge,oe)=>ge+Math.pow(oe-re,2),0)/se.length);return{topic:Y.name,mean:re.toFixed(3),standardDeviation:de.toFixed(3),range:{min:Math.min(...se).toFixed(3),max:Math.max(...se).toFixed(3)}}}),L=()=>{if(!(t!=null&&t.agents)||!(r!=null&&r.topics)||r.topics.length<2)return null;const Y=[];for(let ee=0;ee<r.topics.length;ee++)for(let se=ee+1;se<r.topics.length;se++){const re=t.agents.map(oe=>{var le;return((le=oe.opinions)==null?void 0:le[ee])||0}),de=t.agents.map(oe=>{var le;return((le=oe.opinions)==null?void 0:le[se])||0}),ge=H(re,de);Y.push({topic1:r.topics[ee].name,topic2:r.topics[se].name,correlation:ge.toFixed(3)})}return Y},H=(Y,ee)=>{const se=Y.length,re=Y.reduce((Ce,Ae)=>Ce+Ae,0),de=ee.reduce((Ce,Ae)=>Ce+Ae,0),ge=Y.reduce((Ce,Ae,Q)=>Ce+Ae*ee[Q],0),oe=Y.reduce((Ce,Ae)=>Ce+Ae*Ae,0),le=ee.reduce((Ce,Ae)=>Ce+Ae*Ae,0),fe=se*ge-re*de,ie=Math.sqrt((se*oe-re*re)*(se*le-de*de));return ie===0?0:fe/ie},k=()=>!(t!=null&&t.agents)||!(r!=null&&r.topics)?null:r.topics.map((Y,ee)=>{const se=t.agents.map(oe=>{var le;return((le=oe.opinions)==null?void 0:le[ee])||0}),re=se.reduce((oe,le)=>oe+le,0)/se.length,de=se.reduce((oe,le)=>oe+Math.pow(le-re,2),0)/se.length,ge=1/(1+de);return{topic:Y.name,consensusIndex:ge.toFixed(3),variance:de.toFixed(3)}}),U=()=>!(t!=null&&t.agents)||!(r!=null&&r.topics)?null:r.topics.map((Y,ee)=>{const se=t.agents.map(ge=>{var oe;return((oe=ge.opinions)==null?void 0:oe[ee])||0}),re=se.reduce((ge,oe)=>ge+oe,0)/se.length,de=se.reduce((ge,oe)=>ge+Math.abs(oe-.5),0)/se.length;return{topic:Y.name,polarizationIndex:de.toFixed(3),mean:re.toFixed(3)}}),G=(Y,ee)=>`Вы - эксперт по анализу агентного моделирования и социальной динамики. Проанализируйте следующие данные симуляции и предоставьте детальные инсайты.

Данные симуляции:
${JSON.stringify(ee,null,2)}

`+{comprehensive:`Проведите комплексный анализ симуляции, включая:
1. Общую оценку динамики системы
2. Анализ сетевой структуры и её влияние на распространение мнений
3. Паттерны формирования кластеров и их стабильность
4. Эволюцию мнений и достижение консенсуса
5. Ключевые инсайты и рекомендации для улучшения модели

Предоставьте структурированный анализ с конкретными выводами и рекомендациями.`,network:`Сосредоточьтесь на анализе сетевой структуры:
1. Оцените топологические свойства сети
2. Проанализируйте роль центральных узлов
3. Изучите влияние сетевой структуры на динамику мнений
4. Предложите оптимизации сетевых параметров

Предоставьте технический анализ с метриками и рекомендациями.`,opinions:`Проанализируйте динамику мнений:
1. Оцените распределение и эволюцию мнений
2. Изучите корреляции между различными темами
3. Проанализируйте уровень консенсуса и поляризации
4. Выявите факторы, влияющие на формирование мнений

Предоставьте психологический и социологический анализ.`,clustering:`Изучите кластерную структуру:
1. Проанализируйте качество и стабильность кластеров
2. Оцените межкластерные взаимодействия
3. Изучите влияние кластеризации на общую динамику
4. Предложите улучшения алгоритма кластеризации

Предоставьте математический и алгоритмический анализ.`,trends:`Проанализируйте временные тренды:
1. Выявите основные тренды в данных
2. Определите точки изменения и их причины
3. Оцените стабильность и предсказуемость системы
4. Предложите прогнозы развития

Предоставьте статистический и прогностический анализ.`,custom:x||"Проведите анализ данных симуляции согласно вашей экспертизе."}[Y],V=async()=>{var Y;if(!u.trim()){l("Введите API ключ OpenRouter");return}if(!t){l("Нет данных симуляции для анализа");return}b(!0);try{const ee=M(g),se=G(g,ee),re=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"Agent Network Visualizer"},body:JSON.stringify({model:f,messages:[{role:"user",content:se}],max_tokens:4e3,temperature:.7})});if(!re.ok){const fe=await re.json();throw new Error(((Y=fe.error)==null?void 0:Y.message)||`HTTP ${re.status}`)}const ge=(await re.json()).choices[0].message.content,oe={id:Date.now(),timestamp:new Date,type:g,model:f,analysis:ge,data:ee};O(fe=>[oe,...fe]);const le=[oe,...T].slice(0,50);E(le),localStorage.setItem("ai_analysis_history",JSON.stringify(le))}catch(ee){l(`Ошибка AI анализа: ${ee.message}`)}finally{b(!1)}},F=Y=>{const ee={analysis:Y.analysis,metadata:{timestamp:Y.timestamp,type:Y.type,model:Y.model},simulationData:Y.data},se=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),re=URL.createObjectURL(se),de=document.createElement("a");de.href=re,de.download=`ai-analysis-${Y.id}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(re)};return p.jsxs(Ie,{className:"w-full",children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(pu,{className:"h-5 w-5"}),"AI Анализ с OpenRouter"]})}),p.jsx(kt,{children:p.jsxs(Lo,{defaultValue:"setup",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-3",children:[p.jsx(Et,{value:"setup",children:"Настройка"}),p.jsx(Et,{value:"analysis",children:"Анализ"}),p.jsx(Et,{value:"history",children:"История"})]}),p.jsxs(Nt,{value:"setup",className:"space-y-4",children:[p.jsxs(Ie,{className:"p-4",children:[p.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[p.jsx(Y$,{className:"h-4 w-4"}),"Настройки API"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"api-key",children:"OpenRouter API Key"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ti,{id:"api-key",type:"password",value:u,onChange:Y=>d(Y.target.value),placeholder:"Введите ваш API ключ OpenRouter",className:"flex-1"}),p.jsx(Je,{onClick:R,variant:"outline",children:"Сохранить"})]}),p.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Получите API ключ на"," ",p.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"openrouter.ai"})]})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Модель для анализа"}),p.jsxs(Un,{value:f,onValueChange:m,children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:N.map(Y=>p.jsx(ut,{value:Y.id,children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsx("span",{children:Y.name}),p.jsxs("div",{className:"flex gap-2 ml-4",children:[p.jsx(ct,{variant:"outline",className:"text-xs",children:Y.provider}),p.jsx(ct,{variant:Y.cost==="Низкая"?"default":Y.cost==="Средняя"?"secondary":"destructive",className:"text-xs",children:Y.cost})]})]})},Y.id))})]})]}),p.jsxs("div",{children:[p.jsx(Ge,{children:"Тип анализа"}),p.jsxs(Un,{value:g,onValueChange:y,children:[p.jsx(Hn,{children:p.jsx(Fn,{})}),p.jsx(Vn,{children:C.map(Y=>p.jsx(ut,{value:Y.id,children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:Y.name}),p.jsx("div",{className:"text-sm text-gray-600",children:Y.description})]})},Y.id))})]})]}),g==="custom"&&p.jsxs("div",{children:[p.jsx(Ge,{htmlFor:"custom-prompt",children:"Пользовательский запрос"}),p.jsx(Ah,{id:"custom-prompt",value:x,onChange:Y=>S(Y.target.value),placeholder:"Опишите, какой анализ вы хотите получить...",rows:4})]})]})]}),p.jsxs(Ie,{className:"p-4",children:[p.jsx("h4",{className:"font-medium mb-4",children:"Информация о данных"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-blue-600",children:((X=t==null?void 0:t.agents)==null?void 0:X.length)||0}),p.jsx("div",{className:"text-gray-600",children:"Агентов"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-green-600",children:((W=r==null?void 0:r.topics)==null?void 0:W.length)||0}),p.jsx("div",{className:"text-gray-600",children:"Тем"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-purple-600",children:(n==null?void 0:n.cycles)||0}),p.jsx("div",{className:"text-gray-600",children:"Циклов"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-orange-600",children:t!=null&&t.connections?Math.round(t.connections.flat().filter(Y=>Y>0).length/2):0}),p.jsx("div",{className:"text-gray-600",children:"Связей"})]})]})]})]}),p.jsxs(Nt,{value:"analysis",className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h4",{className:"font-medium",children:"Запуск AI анализа"}),p.jsx(Je,{onClick:V,disabled:_||!u.trim()||!t,children:_?p.jsxs(p.Fragment,{children:[p.jsx(xH,{className:"h-4 w-4 mr-2 animate-spin"}),"Анализируем..."]}):p.jsxs(p.Fragment,{children:[p.jsx(pu,{className:"h-4 w-4 mr-2"}),"Запустить анализ"]})})]}),j.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(pu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет результатов анализа"}),p.jsx("p",{className:"text-gray-600",children:"Настройте параметры и запустите AI анализ для получения инсайтов"})]}):p.jsx("div",{className:"space-y-4",children:j.map(Y=>{var ee,se;return p.jsxs(Ie,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{children:p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(ct,{variant:"default",children:(ee=C.find(re=>re.id===Y.type))==null?void 0:ee.name}),p.jsx(ct,{variant:"outline",children:(se=N.find(re=>re.id===Y.model))==null?void 0:se.name}),p.jsx("span",{className:"text-sm text-gray-600",children:new Date(Y.timestamp).toLocaleString()})]})}),p.jsx("div",{className:"flex gap-2",children:p.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>F(Y),children:[p.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Экспорт"]})})]}),p.jsx("div",{className:"prose max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-4 rounded border",children:Y.analysis})})]},Y.id)})})]}),p.jsx(Nt,{value:"history",className:"space-y-4",children:T.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(wH,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"История пуста"}),p.jsx("p",{className:"text-gray-600",children:"Выполненные анализы будут сохраняться здесь"})]}):p.jsx("div",{className:"space-y-3",children:T.map(Y=>{var ee,se;return p.jsx(Ie,{className:"p-3",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ct,{variant:"outline",className:"text-xs",children:(ee=C.find(re=>re.id===Y.type))==null?void 0:ee.name}),p.jsx(ct,{variant:"outline",className:"text-xs",children:(se=N.find(re=>re.id===Y.model))==null?void 0:se.name})]}),p.jsx("div",{className:"text-sm text-gray-600 mt-1",children:new Date(Y.timestamp).toLocaleString()})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>{O(re=>[Y,...re.filter(de=>de.id!==Y.id)])},children:[p.jsx(sH,{className:"h-4 w-4 mr-2"}),"Просмотр"]}),p.jsx(Je,{size:"sm",variant:"outline",onClick:()=>F(Y),children:p.jsx(Ia,{className:"h-4 w-4"})})]})]})},Y.id)})})})]})})]})},ph=({children:e,onClick:t,className:n="",variant:r="primary",disabled:a=!1})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:hover:bg-transparent",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:hover:bg-gray-600"};return p.jsx("button",{onClick:t,disabled:a,className:`${s} ${l[r]} ${n}`,children:e})},Pfe=({data:e,width:t=800,height:n=600,onAgentClick:r,selectedAgent:a,scenario:s,cycles:l})=>{const[u,d]=$.useState({width:t,height:n});$.useEffect(()=>{const N=()=>{const C=window.innerWidth<768,R=C?Math.min(t,window.innerWidth-40):t,M=C?Math.min(n,window.innerHeight*.6):n;d({width:R,height:M})};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[t,n]);const f=$.useRef(),[m,g]=$.useState(null),[y,x]=$.useState(1),[S,_]=$.useState(!1),[b,j]=$.useState("none");$.useEffect(()=>{if(!e||!e.nodes||!e.links)return;const N=nn(f.current);N.selectAll("*").remove();const C=N.append("g"),R=T1().scaleExtent([.1,4]).on("zoom",V=>{C.attr("transform",V.transform),x(V.transform.k)});N.call(R);const M=e.nodes.map(V=>({...V})),P=e.links.map(V=>({...V})),B=["#3b82f6","#ef4444","#10b981","#8b5cf6","#f59e0b","#ec4899","#f59e0b","#6b7280","#eab308","#06b6d4"],D=bz(M).force("link",xz(P).id(V=>V.id).distance(V=>50+(1-V.strength)*100)).force("charge",wz().strength(-300)).force("center",gz(u.width/2,u.height/2)).force("collision",mfe().radius(V=>Math.sqrt(V.degree)*3+5));g(D);const I=C.append("g").attr("class","links").selectAll("line").data(P).enter().append("line").attr("stroke","#999").attr("stroke-opacity",V=>V.strength*.8).attr("stroke-width",V=>Math.sqrt(V.strength)*3),z=C.append("g").attr("class","nodes").selectAll("circle").data(M).enter().append("circle").attr("r",V=>Math.sqrt(V.degree)*2+4).attr("fill",V=>B[V.cluster%B.length]).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer").call(zce().on("start",H).on("drag",k).on("end",U)),L=C.append("g").attr("class","labels").selectAll("text").data(M).enter().append("text").text(V=>V.id).attr("font-size","10px").attr("dx",12).attr("dy",4).style("opacity",S?1:0);z.on("click",function(V,F){V.stopPropagation(),r&&r(F.id),z.attr("stroke-width",X=>X.id===F.id?4:2),I.attr("stroke-opacity",X=>X.source.id===F.id||X.target.id===F.id?1:.1)}),z.on("mouseover",function(V,F){nn("body").append("div").attr("class","tooltip").style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index",1e3).html(`
        <strong>Агент ${F.id}</strong><br/>
        Кластер: ${F.cluster+1}<br/>
        Связей: ${F.degree}<br/>
        Клик для подробностей
      `).style("left",V.pageX+10+"px").style("top",V.pageY-10+"px"),nn(this).attr("stroke","#000").attr("stroke-width",3)}),z.on("mouseout",function(V,F){Pce(".tooltip").remove(),a!==F.id&&nn(this).attr("stroke","#fff").attr("stroke-width",2)}),D.on("tick",()=>{I.attr("x1",V=>V.source.x).attr("y1",V=>V.source.y).attr("x2",V=>V.target.x).attr("y2",V=>V.target.y),z.attr("cx",V=>V.x).attr("cy",V=>V.y),L.attr("x",V=>V.x).attr("y",V=>V.y)});function H(V,F){V.active||D.alphaTarget(.3).restart(),F.fx=F.x,F.fy=F.y}function k(V,F){F.fx=V.x,F.fy=V.y}function U(V,F){V.active||D.alphaTarget(0),F.fx=null,F.fy=null}return(()=>{b==="cluster"?(z.attr("opacity",1),I.attr("opacity",V=>M[V.source.index].cluster===M[V.target.index].cluster?1:.2)):b==="connections"&&a!==null?(z.attr("opacity",V=>V.id===a||P.some(F=>F.source.id===a&&F.target.id===V.id||F.target.id===a&&F.source.id===V.id)?1:.3),I.attr("opacity",V=>V.source.id===a||V.target.id===a?1:.1)):(z.attr("opacity",1),I.attr("opacity",V=>V.strength*.8))})(),()=>{D&&D.stop()}},[e,u.width,u.height,S,b,a]);const O=()=>{nn(f.current).transition().duration(750).call(T1().transform,Lp)},T=N=>{if(!m||!e.nodes)return;const C=e.nodes.find(B=>B.id===N);if(!C)return;const R=nn(f.current),M=2,P=[u.width/2-M*C.x,u.height/2-M*C.y];R.transition().duration(750).call(T1().transform,Lp.translate(P[0],P[1]).scale(M))},E=()=>{const N=f.current;if(!N)return;const C=new XMLSerializer().serializeToString(N),R=document.createElement("canvas"),M=R.getContext("2d"),P=new Image;P.onload=()=>{R.width=P.width,R.height=P.height,M.drawImage(P,0,0);const B=document.createElement("a");B.download="network_graph.png",B.href=R.toDataURL("image/png"),B.click()},P.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(C)))};return!e||!e.nodes||!e.links?p.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:p.jsx("p",{className:"text-gray-500",children:"Нет данных для отображения"})}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 items-start sm:items-center justify-between bg-gray-50 p-4 rounded-lg",children:[p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(ph,{onClick:()=>_(!S),variant:S?"primary":"outline",className:"text-sm",children:S?"Скрыть подписи":"Показать подписи"}),p.jsxs("select",{value:b,onChange:N=>j(N.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[p.jsx("option",{value:"none",children:"Обычный вид"}),p.jsx("option",{value:"cluster",children:"Подсветить кластеры"}),p.jsx("option",{value:"connections",children:"Подсветить связи"})]}),p.jsx(ph,{onClick:O,variant:"outline",className:"text-sm",children:"Сбросить масштаб"})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[a!==null&&p.jsxs(ph,{onClick:()=>T(a),variant:"secondary",className:"text-sm flex-1 sm:flex-none",children:["Центрировать на агенте ",a]}),p.jsx(ph,{onClick:E,variant:"outline",className:"text-sm flex-1 sm:flex-none",children:"Экспорт PNG"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[p.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[p.jsx("div",{className:"font-medium text-blue-800",children:"Узлов"}),p.jsx("div",{className:"text-xl font-bold text-blue-600",children:e.nodes.length})]}),p.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[p.jsx("div",{className:"font-medium text-green-800",children:"Связей"}),p.jsx("div",{className:"text-xl font-bold text-green-600",children:e.links.length})]}),p.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[p.jsx("div",{className:"font-medium text-purple-800",children:"Масштаб"}),p.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[(y*100).toFixed(0),"%"]})]}),p.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[p.jsx("div",{className:"font-medium text-orange-800",children:"Кластеров"}),p.jsx("div",{className:"text-xl font-bold text-orange-600",children:Math.max(...e.nodes.map(N=>N.cluster))+1})]})]}),p.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:p.jsx("div",{className:"w-full overflow-x-auto",children:p.jsx("svg",{ref:f,width:u.width,height:u.height,style:{background:"#fafafa",minWidth:"320px"},className:"touch-pan-y"})})}),p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[p.jsx("h5",{className:"font-medium mb-3",children:"Легенда"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium mb-2",children:"Кластеры"}),p.jsx("div",{className:"space-y-1",children:["Синий кластер","Красный кластер","Зеленый кластер"].map((N,C)=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:["#3b82f6","#ef4444","#10b981"][C]}}),p.jsx("span",{children:N})]},C))})]}),p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium mb-2",children:"Элементы"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{children:"• Размер узла = количество связей"}),p.jsx("div",{children:"• Толщина линии = сила связи"}),p.jsx("div",{children:"• Клик по узлу = детали агента"}),p.jsx("div",{children:"• Перетаскивание = изменение позиции"})]})]})]})]})]})},zs=({children:e,onClick:t,className:n="",variant:r="primary",disabled:a=!1})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:hover:bg-transparent",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:hover:bg-gray-600"};return p.jsx("button",{onClick:t,disabled:a,className:`${s} ${l[r]} ${n}`,children:e})},kfe=({opinionStats:e,agents:t,topicSettings:n,clusterStats:r,uploadedTopicNames:a})=>{const[s,l]=$.useState("overall"),[u,d]=$.useState(0),[f,m]=$.useState(0),g=["Политика","В мире","Экономика","Общество","Армия","Наука","Спорт","Культура","Религия","Туризм","Redbull","Zara"],y=$.useRef(),x=$.useRef(),S=$.useRef(),b=(()=>{const R=[],M=(n==null?void 0:n.numTopics)||10;return t.forEach(P=>{var B,D;for(let I=0;I<M;I++){const z=P.cluster/Math.max(1,((n==null?void 0:n.numClusters)||10)-1)*2-1,L=Math.sin(I*Math.PI/M)*Math.cos(P.cluster*Math.PI/M),H=z*.4+L*.4+(Math.random()-.5)*.6,k=Math.max(-1,Math.min(1,H));R.push({agentId:P.id,topicId:I,opinion:k,cluster:P.cluster,topicName:(a==null?void 0:a[I])||((D=(B=n==null?void 0:n.topics)==null?void 0:B[I])==null?void 0:D.name)||g[I]||`Тема ${I+1}`})}}),R})();$.useEffect(()=>{s==="overall"&&y.current&&j()},[s,b]),$.useEffect(()=>{s==="cluster"&&x.current&&O()},[s,u,b]),$.useEffect(()=>{s==="topic"&&S.current&&T()},[s,f,b]);const j=()=>{const R=nn(y.current);R.selectAll("*").remove();const M={top:20,right:30,bottom:40,left:50},P=800-M.left-M.right,B=400-M.bottom-M.top,D=R.append("svg").attr("width",P+M.left+M.right).attr("height",B+M.top+M.bottom),I=D.append("g").attr("transform",`translate(${M.left},${M.top})`),z=Cb().domain([-1,1]).thresholds(20)(b.map(k=>k.opinion)),L=jr().domain([-1,1]).range([0,P]),H=jr().domain([0,yu(z,k=>k.length)]).range([B,0]);I.selectAll(".bar").data(z).enter().append("rect").attr("class","bar").attr("x",k=>L(k.x0)).attr("width",k=>L(k.x1)-L(k.x0)-1).attr("y",k=>H(k.length)).attr("height",k=>B-H(k.length)).attr("fill",k=>{const U=(k.x0+k.x1)/2;return U<-.2?"#ef4444":U>.2?"#10b981":"#6b7280"}).attr("opacity",.7),I.append("g").attr("transform",`translate(0,${B})`).call(O1(L).tickFormat(Js(".1f"))),I.append("g").call(E1(H)),I.append("text").attr("transform","rotate(-90)").attr("y",0-M.left).attr("x",0-B/2).attr("dy","1em").style("text-anchor","middle").text("Количество мнений"),I.append("text").attr("transform",`translate(${P/2}, ${B+M.bottom})`).style("text-anchor","middle").text("Значение мнения (от -1 до +1)"),D.append("text").attr("x",(P+M.left+M.right)/2).attr("y",M.top/2).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Общее распределение мнений всех агентов")},O=()=>{const R=nn(x.current);R.selectAll("*").remove();const M=b.filter(V=>V.cluster===u),P=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"],B=["#3b82f6","#ef4444","#10b981","#8b5cf6","#f59e0b","#ec4899","#f59e0b","#6b7280","#eab308","#06b6d4"],D={top:20,right:30,bottom:40,left:50},I=800-D.left-D.right,z=400-D.bottom-D.top,L=R.append("svg").attr("width",I+D.left+D.right).attr("height",z+D.top+D.bottom),H=L.append("g").attr("transform",`translate(${D.left},${D.top})`),k=Cb().domain([-1,1]).thresholds(15)(M.map(V=>V.opinion)),U=jr().domain([-1,1]).range([0,I]),G=jr().domain([0,yu(k,V=>V.length)]).range([z,0]);H.selectAll(".bar").data(k).enter().append("rect").attr("class","bar").attr("x",V=>U(V.x0)).attr("width",V=>U(V.x1)-U(V.x0)-1).attr("y",V=>G(V.length)).attr("height",V=>z-G(V.length)).attr("fill",B[u]).attr("opacity",.7),H.append("g").attr("transform",`translate(0,${z})`).call(O1(U).tickFormat(Js(".1f"))),H.append("g").call(E1(G)),H.append("text").attr("transform","rotate(-90)").attr("y",0-D.left).attr("x",0-z/2).attr("dy","1em").style("text-anchor","middle").text("Количество мнений"),H.append("text").attr("transform",`translate(${I/2}, ${z+D.bottom})`).style("text-anchor","middle").text("Значение мнения (от -1 до +1)"),L.append("text").attr("x",(I+D.left+D.right)/2).attr("y",D.top/2).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text(`Распределение мнений: ${P[u]} кластер`)},T=()=>{var ee,se;const R=nn(S.current);R.selectAll("*").remove();const M=b.filter(re=>re.topicId===f),P=(a==null?void 0:a[f])||((se=(ee=n==null?void 0:n.topics)==null?void 0:ee[f])==null?void 0:se.name)||g[f]||`Тема ${f+1}`,B={top:20,right:30,bottom:40,left:50},D=800-B.left-B.right,I=400-B.bottom-B.top,z=R.append("svg").attr("width",D+B.left+B.right).attr("height",I+B.top+B.bottom),L=z.append("g").attr("transform",`translate(${B.left},${B.top})`),H=GY(M,re=>re.cluster),k=Cb().domain([-1,1]).thresholds(15),U=["#3b82f6","#ef4444","#10b981"],G=[];for(let re=0;re<15;re++){const de={binIndex:re};H.forEach((ge,oe)=>{const le=k([...ge.map(fe=>fe.opinion)])[re]||[];de[`cluster${oe}`]=le.length}),G.push(de)}const V=jr().domain([-1,1]).range([0,D]),F=jr().domain([0,yu(G,re=>(re.cluster0||0)+(re.cluster1||0)+(re.cluster2||0))]).range([I,0]),W=BI().keys(["cluster0","cluster1","cluster2"]).value((re,de)=>re[de]||0)(G);L.selectAll(".cluster").data(W).enter().append("g").attr("class","cluster").attr("fill",(re,de)=>U[de]).selectAll("rect").data(re=>re).enter().append("rect").attr("x",(re,de)=>V(-1+de*2/15)).attr("width",D/15-1).attr("y",re=>F(re[1])).attr("height",re=>F(re[0])-F(re[1])),L.append("g").attr("transform",`translate(0,${I})`).call(O1(V).tickFormat(Js(".1f"))),L.append("g").call(E1(F)),L.append("text").attr("transform","rotate(-90)").attr("y",0-B.left).attr("x",0-I/2).attr("dy","1em").style("text-anchor","middle").text("Количество мнений"),L.append("text").attr("transform",`translate(${D/2}, ${I+B.bottom})`).style("text-anchor","middle").text("Значение мнения (от -1 до +1)"),z.append("text").attr("x",(D+B.left+B.right)/2).attr("y",B.top/2).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text(`Распределение мнений по теме: ${P}`);const Y=z.append("g").attr("transform",`translate(${D-100}, 30)`);["Синий","Красный","Зеленый"].forEach((re,de)=>{const ge=Y.append("g").attr("transform",`translate(0, ${de*20})`);ge.append("rect").attr("width",15).attr("height",15).attr("fill",U[de]),ge.append("text").attr("x",20).attr("y",12).style("font-size","12px").text(re)})},E=(R,M)=>{if(!R.current)return;const P=R.current.querySelector("svg");if(!P)return;const B=new XMLSerializer().serializeToString(P),D=document.createElement("canvas"),I=D.getContext("2d"),z=new Image;z.onload=()=>{D.width=z.width,D.height=z.height,I.drawImage(z,0,0);const L=document.createElement("a");L.download=M,L.href=D.toDataURL("image/png"),L.click()},z.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(B)))},N=Math.max(...t.map(R=>R.cluster))+1,C=(n==null?void 0:n.numTopics)||10;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex space-x-4 border-b border-gray-200 pb-4",children:[p.jsx(zs,{onClick:()=>l("overall"),variant:s==="overall"?"primary":"outline",className:"text-sm",children:"Общее распределение"}),p.jsx(zs,{onClick:()=>l("cluster"),variant:s==="cluster"?"primary":"outline",className:"text-sm",children:"По кластерам ценностей"}),p.jsx(zs,{onClick:()=>l("topic"),variant:s==="topic"?"primary":"outline",className:"text-sm",children:"По темам"})]}),s==="overall"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h4",{className:"text-lg font-medium",children:"Общее распределение мнений"}),p.jsx(zs,{onClick:()=>E(y,"overall_opinions.png"),variant:"outline",className:"text-sm",children:"Экспорт PNG"})]}),p.jsx("div",{ref:y}),p.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[p.jsxs("div",{className:"text-lg font-bold text-red-600",children:[Math.round(b.filter(R=>R.opinion<-.2).length/b.length*100),"%"]}),p.jsx("div",{className:"text-sm text-red-800",children:"Негативные мнения"})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsxs("div",{className:"text-lg font-bold text-gray-600",children:[Math.round(b.filter(R=>R.opinion>=-.2&&R.opinion<=.2).length/b.length*100),"%"]}),p.jsx("div",{className:"text-sm text-gray-800",children:"Нейтральные мнения"})]}),p.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[p.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(b.filter(R=>R.opinion>.2).length/b.length*100),"%"]}),p.jsx("div",{className:"text-sm text-green-800",children:"Позитивные мнения"})]})]})]}),s==="cluster"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("h4",{className:"text-lg font-medium",children:"Распределение по кластерам ценностей"}),p.jsx("select",{value:u,onChange:R=>d(parseInt(R.target.value)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:Array.from({length:N},(R,M)=>{const B=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"][M]||`Кластер ${M+1}`;return p.jsxs("option",{value:M,children:[B," кластер"]},M)})})]}),p.jsx(zs,{onClick:()=>E(x,`cluster_${u}_opinions.png`),variant:"outline",className:"text-sm",children:"Экспорт PNG"})]}),p.jsx("div",{ref:x})]}),s==="topic"&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("h4",{className:"text-lg font-medium",children:"Распределение по темам"}),p.jsx("select",{value:f,onChange:R=>m(parseInt(R.target.value)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:Array.from({length:C},(R,M)=>{var P,B;return p.jsx("option",{value:M,children:(a==null?void 0:a[M])||((B=(P=n==null?void 0:n.topics)==null?void 0:P[M])==null?void 0:B.name)||g[M]||`Тема ${M+1}`},M)})})]}),p.jsx(zs,{onClick:()=>E(S,`topic_${f}_opinions.png`),variant:"outline",className:"text-sm",children:"Экспорт PNG"})]}),p.jsx("div",{ref:S})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium mb-4",children:"Сводная статистика мнений"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full border border-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Кластер"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Агентов"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Среднее мнение"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Стандартное отклонение"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Поляризация"})]})}),p.jsx("tbody",{children:Array.from({length:N},(R,M)=>{const P=b.filter(U=>U.cluster===M),B=P.map(U=>U.opinion),D=B.reduce((U,G)=>U+G,0)/B.length||0,I=B.reduce((U,G)=>U+Math.pow(G-D,2),0)/B.length||0,z=Math.sqrt(I),L=B.filter(U=>Math.abs(U)>.5).length/B.length*100,k=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"][M]||`Кластер ${M+1}`;return p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"px-4 py-2 text-sm",children:k}),p.jsx("td",{className:"px-4 py-2 text-sm",children:P.length/C}),p.jsx("td",{className:"px-4 py-2 text-sm",children:D.toFixed(3)}),p.jsx("td",{className:"px-4 py-2 text-sm",children:z.toFixed(3)}),p.jsxs("td",{className:"px-4 py-2 text-sm",children:[L.toFixed(1),"%"]})]},M)})})]})})]})]})},M1=({children:e,onClick:t,className:n="",variant:r="primary",disabled:a=!1})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:hover:bg-transparent",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:hover:bg-gray-600"};return p.jsx("button",{onClick:t,disabled:a,className:`${s} ${l[r]} ${n}`,children:e})},Dfe=({simulationData:e,rawSimulationData:t,simulationParams:n,topicSettings:r,opinionSettings:a,uploadedTopicNames:s})=>{const[l,u]=$.useState("summary"),[d,f]=$.useState(null),m=$.useRef(),g=$.useRef(),y=$.useRef();if(!e||!t)return p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:p.jsx("p",{className:"text-gray-500",children:"Запустите симуляцию для просмотра результатов"})});const{nodes:x,links:S}=e,{agents:_,connections:b}=t,j=_.length,O=S.length,T=(O/(j*(j-1)/2)*100).toFixed(1),E={},N=n.numClusters||3;for(let M=0;M<N;M++){const P=x.filter(I=>I.cluster===M),B=S.filter(I=>x[I.source].cluster===M&&x[I.target].cluster===M),D=S.filter(I=>x[I.source].cluster===M&&x[I.target].cluster!==M||x[I.target].cluster===M&&x[I.source].cluster!==M);E[M]={agentCount:P.length,internalConnections:B.length,externalConnections:D.length,avgDegree:P.reduce((I,z)=>I+z.degree,0)/P.length||0}}const C=zfe(_,r,a),R=(M,P)=>{if(!M.current)return;const B=M.current.querySelector("svg");if(!B)return;const D=new XMLSerializer().serializeToString(B),I=document.createElement("canvas"),z=I.getContext("2d"),L=new Image;L.onload=()=>{I.width=L.width,I.height=L.height,z.drawImage(L,0,0);const H=document.createElement("a");H.download=P,H.href=I.toDataURL("image/png"),H.click()},L.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(D)))};return p.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex border-b border-gray-200",children:[p.jsx("button",{onClick:()=>u("summary"),className:`px-6 py-3 font-medium ${l==="summary"?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:"Общая сводка"}),p.jsx("button",{onClick:()=>u("connections"),className:`px-6 py-3 font-medium ${l==="connections"?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:"Детализация по связям"}),p.jsx("button",{onClick:()=>u("opinions"),className:`px-6 py-3 font-medium ${l==="opinions"?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:"Детализация по мнениям"})]}),p.jsxs("div",{className:"p-6",children:[l==="summary"&&p.jsxs("div",{ref:m,className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xl font-semibold",children:"Общая сводка результатов"}),p.jsx(M1,{onClick:()=>R(m,"summary.png"),variant:"outline",className:"text-sm",children:"Экспорт изображения"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j}),p.jsx("div",{className:"text-sm text-blue-800",children:"Всего агентов"})]}),p.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:O}),p.jsx("div",{className:"text-sm text-green-800",children:"Активных связей"})]}),p.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[p.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[T,"%"]}),p.jsx("div",{className:"text-sm text-purple-800",children:"Плотность сети"})]}),p.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(r==null?void 0:r.numTopics)||10}),p.jsx("div",{className:"text-sm text-orange-800",children:"Тем обсуждения"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium mb-4",children:"Статистика по кластерам связей"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(E).map(([M,P])=>{const B=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"],D=["bg-blue-100 text-blue-800","bg-red-100 text-red-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800","bg-orange-100 text-orange-800","bg-pink-100 text-pink-800","bg-amber-100 text-amber-800","bg-gray-100 text-gray-800","bg-yellow-100 text-yellow-800","bg-cyan-100 text-cyan-800"],I=parseInt(M),z=B[I]||`Кластер ${I+1}`,L=D[I]||"bg-gray-100 text-gray-800";return p.jsxs("div",{className:`rounded-lg p-4 ${L}`,children:[p.jsxs("h5",{className:"font-medium mb-2",children:[z," кластер"]}),p.jsxs("div",{className:"space-y-1 text-sm",children:[p.jsxs("div",{children:["Агентов: ",P.agentCount]}),p.jsxs("div",{children:["Внутренних связей: ",P.internalConnections]}),p.jsxs("div",{children:["Внешних связей: ",P.externalConnections]}),p.jsxs("div",{children:["Среднее связей на агента: ",P.avgDegree.toFixed(1)]}),p.jsxs("div",{children:["Замкнутость: ",(P.internalConnections/(P.internalConnections+P.externalConnections)*100||0).toFixed(1),"%"]})]})]},M)})})]}),C&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium mb-4",children:"Баланс мнений по кластерам"}),p.jsx(Lfe,{opinionStats:C})]})]}),l==="connections"&&p.jsxs("div",{ref:g,className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xl font-semibold",children:"Детализация по связям"}),p.jsx(M1,{onClick:()=>R(g,"connections.png"),variant:"outline",className:"text-sm",children:"Экспорт изображения"})]}),p.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:p.jsx("div",{className:"w-full overflow-x-auto",children:p.jsx(Pfe,{data:e,width:Math.min(1500,window.innerWidth-100),height:Math.min(800,window.innerHeight-200),scenario:n.scenario,cycles:n.cycles,onAgentClick:f,selectedAgent:d})})}),d!==null&&p.jsx($fe,{agent:_[d],connections:b[d],agents:_,topicSettings:r,opinionSettings:a}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium mb-4",children:"Подробная статистика кластеров"}),p.jsx(Ife,{clusterStats:E,nodes:x})]})]}),l==="opinions"&&p.jsxs("div",{ref:y,className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xl font-semibold",children:"Детализация по мнениям"}),p.jsx(M1,{onClick:()=>R(y,"opinions.png"),variant:"outline",className:"text-sm",children:"Экспорт изображения"})]}),C?p.jsx(kfe,{opinionStats:C,agents:_,topicSettings:r,clusterStats:E,uploadedTopicNames:s}):p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx("p",{children:"Данные о мнениях недоступны"}),p.jsx("p",{className:"text-sm",children:"Настройте мнения в расширенном управлении сценариями"})]})]})]})]})},$fe=({agent:e,connections:t,agents:n,topicSettings:r,opinionSettings:a})=>{var d;const s=t.filter((f,m)=>m!==e.id&&f>.3&&n[m].cluster===e.cluster).length,l=t.filter((f,m)=>m!==e.id&&f>.3&&n[m].cluster!==e.cluster).length,u=t.reduce((f,m,g)=>g!==e.id&&m>.3?f+m:f,0)/(s+l||1);return p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[p.jsxs("h5",{className:"font-medium mb-3",children:["Детали агента ",e.id]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium text-sm mb-2",children:"Связи"}),p.jsxs("div",{className:"space-y-1 text-sm",children:[p.jsxs("div",{children:["В своем кластере: ",s]}),p.jsxs("div",{children:["В других кластерах: ",l]}),p.jsxs("div",{children:["Средняя сила связи: ",u.toFixed(3)]}),p.jsxs("div",{children:["Кластер: ",e.cluster+1]})]})]}),p.jsxs("div",{children:[p.jsx("h6",{className:"font-medium text-sm mb-2",children:"Мнения по темам"}),p.jsx("div",{className:"space-y-1 text-sm max-h-32 overflow-y-auto",children:(d=r==null?void 0:r.topics)==null?void 0:d.slice(0,5).map((f,m)=>{var y;const g=((y=e.opinions)==null?void 0:y[f.id])||(Math.random()*2-1).toFixed(2);return p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:[f.name,":"]}),p.jsx("span",{className:g>0?"text-green-600":g<0?"text-red-600":"text-gray-600",children:typeof g=="number"?g.toFixed(2):g})]},m)})})]})]})]})},Ife=({clusterStats:e,nodes:t})=>{const n=["Синий","Красный","Зеленый","Фиолетовый","Оранжевый","Розовый","Коричневый","Серый","Желтый","Голубой"];return p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full border border-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Кластер"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Агентов"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Плотность связей"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Хабы (>5 связей)"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Внешние связи"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Коэффициент замкнутости"})]})}),p.jsx("tbody",{children:Object.entries(e).map(([r,a])=>{const l=t.filter(g=>g.cluster===parseInt(r)).filter(g=>g.degree>5).length,u=a.agentCount>1?(a.internalConnections/(a.agentCount*(a.agentCount-1)/2)*100).toFixed(1):0,d=(a.internalConnections/(a.internalConnections+a.externalConnections)*100||0).toFixed(1),f=parseInt(r),m=n[f]||`Кластер ${f+1}`;return p.jsxs("tr",{className:"border-t border-gray-200",children:[p.jsx("td",{className:"px-4 py-2 text-sm",children:m}),p.jsx("td",{className:"px-4 py-2 text-sm",children:a.agentCount}),p.jsxs("td",{className:"px-4 py-2 text-sm",children:[u,"%"]}),p.jsx("td",{className:"px-4 py-2 text-sm",children:l}),p.jsx("td",{className:"px-4 py-2 text-sm",children:a.externalConnections}),p.jsxs("td",{className:"px-4 py-2 text-sm",children:[d,"%"]})]},r)})})]})})},Lfe=({opinionStats:e})=>p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.clusterSummary.map((t,n)=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("h6",{className:"font-medium mb-2",children:["Кластер ",n+1]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Позитивные:"}),p.jsxs("span",{className:"text-green-600",children:[t.positive,"%"]})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Нейтральные:"}),p.jsxs("span",{className:"text-gray-600",children:[t.neutral,"%"]})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Негативные:"}),p.jsxs("span",{className:"text-red-600",children:[t.negative,"%"]})]})]})]},n))});function zfe(e,t,n){var l;if(!e||e.length===0)return null;const r=[...new Set(e.map(u=>u.cluster))].sort((u,d)=>u-d),a=[];let s=0;return t!=null&&t.topics?s=t.topics.length:t!=null&&t.numTopics?s=t.numTopics:(l=e[0])!=null&&l.opinions&&(Array.isArray(e[0].opinions)?s=e[0].opinions.length:typeof e[0].opinions=="object"&&(s=Object.keys(e[0].opinions).length)),s===0?(r.forEach(u=>{a.push({positive:0,neutral:100,negative:0})}),{clusterSummary:a}):(r.forEach(u=>{const d=e.filter(x=>x.cluster===u);let f=0,m=0,g=0;d.forEach(x=>{var S,_,b,j;for(let O=0;O<s;O++){let T=0;if(x.opinions){if(Array.isArray(x.opinions))T=x.opinions[O]||0;else if(typeof x.opinions=="object"){const E=((_=(S=t==null?void 0:t.topics)==null?void 0:S[O])==null?void 0:_.id)||O;T=x.opinions[E]||0}}else if(n!=null&&n.clusterOpinions){const E=n.clusterOpinions[u];if(E){const N=((j=(b=t==null?void 0:t.topics)==null?void 0:b[O])==null?void 0:j.id)||O;T=E[N]||0}}T>.05?f++:T<-.05?g++:m++}});const y=f+m+g;y>0?a.push({positive:Math.round(f/y*100),neutral:Math.round(m/y*100),negative:Math.round(g/y*100)}):a.push({positive:0,neutral:100,negative:0})}),{clusterSummary:a})}function Bfe({params:e,onParamsChange:t,economicStats:n}){const r=(s,l)=>{t({...e,[s]:l})},a=s=>{t({...e,...s})};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsx(Bt,{children:"Экономическая модель"}),p.jsx(Ra,{children:"Настройка производства, потребления и выживания агентов"})]}),p.jsxs(kt,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Ge,{htmlFor:"economic-enabled",children:"Включить экономическую модель"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Добавляет производство и потребление ресурсов"})]}),p.jsx(Z1,{id:"economic-enabled",checked:e.enabled===!0,onCheckedChange:s=>r("enabled",s)})]}),e.enabled&&p.jsxs(p.Fragment,{children:[p.jsx(ei,{}),p.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ge,{className:"text-base font-semibold",children:"⚙️ Настройки сложности"}),p.jsx(K1,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Минимальная эффективность"}),p.jsxs("span",{className:"text-sm font-medium",children:[((e.minEfficiency||.8)*100).toFixed(0),"%"]})]}),p.jsx(En,{value:[(e.minEfficiency||.8)*100],onValueChange:([s])=>r("minEfficiency",s/100),min:20,max:90,step:5,className:"w-full"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Эффективность агента при 0 ресурсах. Ниже = сложнее выжить"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Скорость накопления"}),p.jsxs("span",{className:"text-sm font-medium",children:[((e.accumulationRate||.1)*100).toFixed(0),"%"]})]}),p.jsx(En,{value:[(e.accumulationRate||.1)*100],onValueChange:([s])=>r("accumulationRate",s/100),min:1,max:15,step:1,className:"w-full"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Процент излишков, идущих в накопления. Ниже = меньше подушка безопасности"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Порог голодания"}),p.jsxs("span",{className:"text-sm font-medium",children:[e.starvationThreshold||3," цикла"]})]}),p.jsx(En,{value:[e.starvationThreshold||3],onValueChange:([s])=>r("starvationThreshold",s),min:1,max:5,step:1,className:"w-full"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Циклов голодания до смерти. Меньше = сложнее выжить"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Ge,{htmlFor:"inter-clan-enabled",children:"Межклановое распределение"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Кланы делятся излишками между собой"})]}),p.jsx(Z1,{id:"inter-clan-enabled",checked:e.interClanDistribution!==!1,onCheckedChange:s=>r("interClanDistribution",s)})]}),p.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[p.jsx(Ge,{className:"text-sm",children:"Быстрые пресеты:"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("button",{onClick:()=>a({minEfficiency:.8,accumulationRate:.1,starvationThreshold:3,interClanDistribution:!0}),className:"w-full px-3 py-2 text-xs bg-green-500/20 hover:bg-green-500/30 rounded border border-green-500/50 transition-colors font-medium",children:"🟢 Лёгкий"}),p.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:"Высокая эффективность, легко выжить. Для новичков."})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("button",{onClick:()=>a({minEfficiency:.6,accumulationRate:.07,starvationThreshold:2,interClanDistribution:!0}),className:"w-full px-3 py-2 text-xs bg-yellow-500/20 hover:bg-yellow-500/30 rounded border border-yellow-500/50 transition-colors font-medium",children:"🟡 Средний"}),p.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:"Сбалансированная сложность. Рекомендуется."})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("button",{onClick:()=>a({minEfficiency:.5,accumulationRate:.05,starvationThreshold:2,interClanDistribution:!1}),className:"w-full px-3 py-2 text-xs bg-orange-500/20 hover:bg-orange-500/30 rounded border border-orange-500/50 transition-colors font-medium",children:"🟠 Сложный"}),p.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:"Низкая эффективность, нет помощи между кланами."})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("button",{onClick:()=>a({minEfficiency:.2,accumulationRate:.01,starvationThreshold:1,interClanDistribution:!1,baseProductivity:8,minSurvival:12,maxMultiplier:1.4}),className:"w-full px-3 py-2 text-xs bg-red-500/20 hover:bg-red-500/30 rounded border border-red-500/50 transition-colors font-medium",children:"🔴 Экстремальный"}),p.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:"⚠️ НЕВОЗМОЖНЫЙ режим! Макс. производство (11.2) < потребление (12). 100% смертность неизбежна."})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("button",{onClick:()=>a({minEfficiency:.25,accumulationRate:.02,starvationThreshold:1,interClanDistribution:!1,baseProductivity:9,minSurvival:11,maxMultiplier:1.5}),className:"w-full px-3 py-2 text-xs bg-purple-500/20 hover:bg-purple-500/30 rounded border border-purple-500/50 transition-colors font-medium",children:"🟣 Экстремальный (проходимый)"}),p.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:"Очень сложно! Выживут только 30-50% с сильными связями. Макс. производство (13.5) > потребление (11)."})]})]})]}),e.baseProductivity&&e.minSurvival&&e.maxMultiplier&&p.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[p.jsx("div",{className:"text-xs font-semibold text-blue-400 mb-2",children:"📊 Баланс выживаемости"}),p.jsxs("div",{className:"space-y-1 text-[10px] text-muted-foreground",children:[p.jsxs("div",{children:["Макс. производство: ",p.jsx("span",{className:"font-mono",children:(e.baseProductivity*e.maxMultiplier).toFixed(1)})]}),p.jsxs("div",{children:["Потребление: ",p.jsx("span",{className:"font-mono",children:e.minSurvival})]}),p.jsxs("div",{className:`font-semibold ${e.baseProductivity*e.maxMultiplier>=e.minSurvival?"text-green-400":"text-red-400"}`,children:["Баланс: ",p.jsx("span",{className:"font-mono",children:(e.baseProductivity*e.maxMultiplier-e.minSurvival).toFixed(1)})," ",e.baseProductivity*e.maxMultiplier>=e.minSurvival?"✅ Выживание возможно":"❌ Все умрут"]})]})]})]}),p.jsx(ei,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Базовая продуктивность"}),p.jsx("span",{className:"text-sm font-medium",children:e.baseProductivity||10})]}),p.jsx(En,{value:[e.baseProductivity||10],onValueChange:([s])=>r("baseProductivity",s),min:5,max:20,step:1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Количество ресурсов, производимых агентом за цикл без учета связей"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Минимум для выживания"}),p.jsx("span",{className:"text-sm font-medium",children:e.minSurvival||10})]}),p.jsx(En,{value:[e.minSurvival||10],onValueChange:([s])=>r("minSurvival",s),min:5,max:20,step:1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Количество ресурсов, потребляемых агентом за цикл для выживания"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Максимальный множитель от связей"}),p.jsxs("span",{className:"text-sm font-medium",children:[(e.maxMultiplier||2).toFixed(1),"x"]})]}),p.jsx(En,{value:[e.maxMultiplier||2],onValueChange:([s])=>r("maxMultiplier",s),min:1.2,max:3,step:.1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Максимальное увеличение производства от сильных связей"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Порог сильной связи"}),p.jsx("span",{className:"text-sm font-medium",children:(e.strongConnectionThreshold||.3).toFixed(2)})]}),p.jsx(En,{value:[e.strongConnectionThreshold||.3],onValueChange:([s])=>r("strongConnectionThreshold",s),min:.1,max:.7,step:.05}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Минимальная сила связи для получения бонуса к производству"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Бонус от одной связи"}),p.jsxs("span",{className:"text-sm font-medium",children:[((e.connectionBonus||.1)*100).toFixed(0),"%"]})]}),p.jsx(En,{value:[e.connectionBonus||.1],onValueChange:([s])=>r("connectionBonus",s),min:.05,max:.2,step:.01}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Процент увеличения производства за каждую сильную связь"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Интервал экономических циклов"}),p.jsxs("span",{className:"text-sm font-medium",children:["каждые ",e.economicCycleInterval||5]})]}),p.jsx(En,{value:[e.economicCycleInterval||5],onValueChange:([s])=>r("economicCycleInterval",s),min:3,max:10,step:1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Количество социальных циклов между экономическими решениями"})]})]})]})]}),e.enabled&&n&&n.aliveCount>0&&p.jsx(p.Fragment,{children:p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsx(Bt,{children:"Текущая экономическая статистика"}),p.jsx(Ra,{children:"Итоговые показатели после симуляции"})]}),p.jsxs(kt,{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Популяция"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Живых агентов"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.aliveCount||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Погибло"}),p.jsx("p",{className:"text-2xl font-bold text-red-500",children:n.deadCount||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Уровень выживаемости"}),p.jsxs("p",{className:"text-2xl font-bold",children:[n.survivalRate||0,"%"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Потери"}),p.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:[(100-(n.survivalRate||0)).toFixed(1),"%"]})]})]})]}),p.jsx(ei,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Ресурсы"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего ресурсов"}),p.jsx("p",{className:"text-2xl font-bold",children:n.totalResources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средние"}),p.jsx("p",{className:"text-2xl font-bold",children:n.averageResources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Медиана"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.medianResources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Минимум"}),p.jsx("p",{className:"text-xl font-bold text-red-600",children:n.minResources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Максимум"}),p.jsx("p",{className:"text-xl font-bold text-green-600",children:n.maxResources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Ст. откл."}),p.jsx("p",{className:"text-xl font-bold text-purple-600",children:n.stdDevResources||0})]})]})]}),p.jsx(ei,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Распределение богатства"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего накоплено"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.totalAccumulated||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средние накопления"}),p.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:n.averageAccumulated||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Коэф. неравенства"}),p.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.wealthInequality||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Размах"}),p.jsx("p",{className:"text-2xl font-bold",children:((n.maxResources||0)-(n.minResources||0)).toFixed(1)})]})]}),n.resourceDistribution&&p.jsxs("div",{className:"mt-4 p-3 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[p.jsx("div",{className:"text-xs font-semibold text-purple-400 mb-2",children:"📊 Квартили распределения"}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[10px]",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-muted-foreground",children:"Q1 (25%)"}),p.jsx("div",{className:"font-mono font-semibold",children:n.resourceDistribution.q1})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-muted-foreground",children:"Q2 (50%)"}),p.jsx("div",{className:"font-mono font-semibold",children:n.resourceDistribution.q2})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-muted-foreground",children:"Q3 (75%)"}),p.jsx("div",{className:"font-mono font-semibold",children:n.resourceDistribution.q3})]})]})]})]}),p.jsx(ei,{}),n.poorAgents!==void 0&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Социальная стратификация"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Бедные"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.poorAgents||0}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.aliveCount>0?(n.poorAgents/n.aliveCount*100).toFixed(1):0,"%"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средний класс"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.middleClassAgents||0}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.aliveCount>0?(n.middleClassAgents/n.aliveCount*100).toFixed(1):0,"%"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Богатые"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.richAgents||0}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.aliveCount>0?(n.richAgents/n.aliveCount*100).toFixed(1):0,"%"]})]})]})]})]})]})}),p.jsx(Ie,{className:"border-blue-200 bg-blue-50",children:p.jsx(kt,{className:"pt-6",children:p.jsxs("div",{className:"flex gap-3",children:[p.jsx(K1,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"text-sm text-blue-900",children:[p.jsx("p",{className:"font-medium mb-1",children:"Как работает экономическая модель:"}),p.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[p.jsx("li",{children:"Агенты производят ресурсы каждый экономический цикл"}),p.jsx("li",{children:"Производство увеличивается при наличии сильных связей"}),p.jsx("li",{children:"Каждый цикл агенты потребляют минимум для выживания"}),p.jsx("li",{children:"Агенты без достаточных ресурсов погибают"})]})]})]})})})]})}function qfe(e,t){return $.useReducer((n,r)=>t[n][r]??n,e)}var aj="ScrollArea",[_z]=Wi(aj),[Ufe,Cr]=_z(aj),Sz=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:s=600,...l}=e,[u,d]=$.useState(null),[f,m]=$.useState(null),[g,y]=$.useState(null),[x,S]=$.useState(null),[_,b]=$.useState(null),[j,O]=$.useState(0),[T,E]=$.useState(0),[N,C]=$.useState(!1),[R,M]=$.useState(!1),P=st(t,D=>d(D)),B=gf(a);return p.jsx(Ufe,{scope:n,type:r,dir:B,scrollHideDelay:s,scrollArea:u,viewport:f,onViewportChange:m,content:g,onContentChange:y,scrollbarX:x,onScrollbarXChange:S,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:_,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:M,onCornerWidthChange:O,onCornerHeightChange:E,children:p.jsx(We.div,{dir:B,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});Sz.displayName=aj;var jz="ScrollAreaViewport",Az=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...s}=e,l=Cr(jz,n),u=$.useRef(null),d=st(t,u,l.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),p.jsx(We.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Az.displayName=jz;var gi="ScrollAreaScrollbar",Oz=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Cr(gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=a,u=e.orientation==="horizontal";return $.useEffect(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),a.type==="hover"?p.jsx(Ffe,{...r,ref:t,forceMount:n}):a.type==="scroll"?p.jsx(Hfe,{...r,ref:t,forceMount:n}):a.type==="auto"?p.jsx(Ez,{...r,ref:t,forceMount:n}):a.type==="always"?p.jsx(oj,{...r,ref:t}):null});Oz.displayName=gi;var Ffe=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Cr(gi,e.__scopeScrollArea),[s,l]=$.useState(!1);return $.useEffect(()=>{const u=a.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),p.jsx(Io,{present:n||s,children:p.jsx(Ez,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Hfe=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Cr(gi,e.__scopeScrollArea),s=e.orientation==="horizontal",l=Vm(()=>d("SCROLL_END"),100),[u,d]=qfe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return $.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,a.scrollHideDelay,d]),$.useEffect(()=>{const f=a.viewport,m=s?"scrollLeft":"scrollTop";if(f){let g=f[m];const y=()=>{const x=f[m];g!==x&&(d("SCROLL"),l()),g=x};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[a.viewport,s,d,l]),p.jsx(Io,{present:n||u!=="hidden",children:p.jsx(oj,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ye(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ye(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Ez=$.forwardRef((e,t)=>{const n=Cr(gi,e.__scopeScrollArea),{forceMount:r,...a}=e,[s,l]=$.useState(!1),u=e.orientation==="horizontal",d=Vm(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?f:m)}},10);return kl(n.viewport,d),kl(n.content,d),p.jsx(Io,{present:r||s,children:p.jsx(oj,{"data-state":s?"visible":"hidden",...a,ref:t})})}),oj=$.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Cr(gi,e.__scopeScrollArea),s=$.useRef(null),l=$.useRef(0),[u,d]=$.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Rz(u.viewport,u.content),m={...r,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:y=>s.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function g(y,x){return Wfe(y,l.current,u,x)}return n==="horizontal"?p.jsx(Vfe,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const y=a.viewport.scrollLeft,x=Qk(y,u,a.dir);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollLeft=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollLeft=g(y,a.dir))}}):n==="vertical"?p.jsx(Gfe,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const y=a.viewport.scrollTop,x=Qk(y,u);s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollTop=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollTop=g(y))}}):null}),Vfe=$.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=Cr(gi,e.__scopeScrollArea),[l,u]=$.useState(),d=$.useRef(null),f=st(t,d,s.onScrollbarXChange);return $.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),p.jsx(Cz,{"data-orientation":"horizontal",...a,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hm(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(s.viewport){const y=s.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),kz(y,g)&&m.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Bp(l.paddingLeft),paddingEnd:Bp(l.paddingRight)}})}})}),Gfe=$.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=Cr(gi,e.__scopeScrollArea),[l,u]=$.useState(),d=$.useRef(null),f=st(t,d,s.onScrollbarYChange);return $.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),p.jsx(Cz,{"data-orientation":"vertical",...a,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hm(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(s.viewport){const y=s.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),kz(y,g)&&m.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Bp(l.paddingTop),paddingEnd:Bp(l.paddingBottom)}})}})}),[Kfe,Nz]=_z(gi),Cz=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:g,...y}=e,x=Cr(gi,n),[S,_]=$.useState(null),b=st(t,P=>_(P)),j=$.useRef(null),O=$.useRef(""),T=x.viewport,E=r.content-r.viewport,N=Cn(m),C=Cn(d),R=Vm(g,10);function M(P){if(j.current){const B=P.clientX-j.current.left,D=P.clientY-j.current.top;f({x:B,y:D})}}return $.useEffect(()=>{const P=B=>{const D=B.target;(S==null?void 0:S.contains(D))&&N(B,E)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[T,S,E,N]),$.useEffect(C,[r,C]),kl(S,R),kl(x.content,R),p.jsx(Kfe,{scope:n,scrollbar:S,hasThumb:a,onThumbChange:Cn(s),onThumbPointerUp:Cn(l),onThumbPositionChange:C,onThumbPointerDown:Cn(u),children:p.jsx(We.div,{...y,ref:b,style:{position:"absolute",...y.style},onPointerDown:Ye(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),j.current=S.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),M(P))}),onPointerMove:Ye(e.onPointerMove,M),onPointerUp:Ye(e.onPointerUp,P=>{const B=P.target;B.hasPointerCapture(P.pointerId)&&B.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=O.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),zp="ScrollAreaThumb",Tz=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Nz(zp,e.__scopeScrollArea);return p.jsx(Io,{present:n||a.hasThumb,children:p.jsx(Yfe,{ref:t,...r})})}),Yfe=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,s=Cr(zp,n),l=Nz(zp,n),{onThumbPositionChange:u}=l,d=st(t,g=>l.onThumbChange(g)),f=$.useRef(void 0),m=Vm(()=>{f.current&&(f.current(),f.current=void 0)},100);return $.useEffect(()=>{const g=s.viewport;if(g){const y=()=>{if(m(),!f.current){const x=Zfe(g,u);f.current=x,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[s.viewport,m,u]),p.jsx(We.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ye(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),S=g.clientX-x.left,_=g.clientY-x.top;l.onThumbPointerDown({x:S,y:_})}),onPointerUp:Ye(e.onPointerUp,l.onThumbPointerUp)})});Tz.displayName=zp;var sj="ScrollAreaCorner",Mz=$.forwardRef((e,t)=>{const n=Cr(sj,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Xfe,{...e,ref:t}):null});Mz.displayName=sj;var Xfe=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Cr(sj,n),[s,l]=$.useState(0),[u,d]=$.useState(0),f=!!(s&&u);return kl(a.scrollbarX,()=>{var g;const m=((g=a.scrollbarX)==null?void 0:g.offsetHeight)||0;a.onCornerHeightChange(m),d(m)}),kl(a.scrollbarY,()=>{var g;const m=((g=a.scrollbarY)==null?void 0:g.offsetWidth)||0;a.onCornerWidthChange(m),l(m)}),f?p.jsx(We.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bp(e){return e?parseInt(e,10):0}function Rz(e,t){const n=e/t;return isNaN(n)?0:n}function Hm(e){const t=Rz(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Wfe(e,t,n,r="ltr"){const a=Hm(n),s=a/2,l=t||s,u=a-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,g=r==="ltr"?[0,m]:[m*-1,0];return Pz([d,f],g)(e)}function Qk(e,t,n="ltr"){const r=Hm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,l=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,l]:[l*-1,0],f=Nu(e,d);return Pz([0,l],[0,u])(f)}function Pz(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kz(e,t){return e>0&&e<t}var Zfe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,u=n.top!==s.top;(l||u)&&t(),n=s,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function Vm(e,t){const n=Cn(e),r=$.useRef(0);return $.useEffect(()=>()=>window.clearTimeout(r.current),[]),$.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function kl(e,t){const n=Cn(t);xn(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Qfe=Sz,Jfe=Az,ede=Mz;function C_({className:e,children:t,...n}){return p.jsxs(Qfe,{"data-slot":"scroll-area",className:wt("relative",e),...n,children:[p.jsx(Jfe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),p.jsx(tde,{}),p.jsx(ede,{})]})}function tde({className:e,orientation:t="vertical",...n}){return p.jsx(Oz,{"data-slot":"scroll-area-scrollbar",orientation:t,className:wt("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:p.jsx(Tz,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const nde={dictatorship:"Диктатура",democracy:"Демократия",lawlessness:"Беспредел"},rde={half:"Первому половина (1/2)",third:"Первому треть (1/3)",quarter:"Первому четверть (1/4)",fifth:"Первому пятую часть (1/5)",equal:"Всем поровну"},ide={dictatorship:"bg-red-500",democracy:"bg-green-500",lawlessness:"bg-orange-500"};function ade({params:e,onParamsChange:t,clanStats:n,conflictStats:r}){const a=(s,l)=>{t({...e,[s]:l})};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsx(Bt,{children:"Настройки кланов"}),p.jsx(Ra,{children:"Параметры формирования и управления кланами агентов"})]}),p.jsxs(kt,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Минимальный размер клана"}),p.jsxs("span",{className:"text-sm font-medium",children:[e.minClanSize||3," агентов"]})]}),p.jsx(En,{value:[e.minClanSize||3],onValueChange:([s])=>a("minClanSize",s),min:2,max:10,step:1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Минимальное количество агентов для формирования клана"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Порог плотности связей"}),p.jsx("span",{className:"text-sm font-medium",children:(e.densityThreshold||.5).toFixed(2)})]}),p.jsx(En,{value:[e.densityThreshold||.5],onValueChange:([s])=>a("densityThreshold",s),min:.3,max:.8,step:.05}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Минимальная средняя сила связей внутри группы для признания кланом"})]}),p.jsx(ei,{}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-sm font-medium",children:"Параметры конфликтов"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Фактор поляризации"}),p.jsxs("span",{className:"text-sm font-medium",children:["÷",e.polarizationFactor||3]})]}),p.jsx(En,{value:[e.polarizationFactor||3],onValueChange:([s])=>a("polarizationFactor",s),min:2,max:5,step:1}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Во сколько раз ослабляются связи между враждующими кланами"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ge,{children:"Доля кражи накоплений"}),p.jsxs("span",{className:"text-sm font-medium",children:[((e.resourceStealRatio||2/3)*100).toFixed(0),"%"]})]}),p.jsx(En,{value:[e.resourceStealRatio||2/3],onValueChange:([s])=>a("resourceStealRatio",s),min:.5,max:1,step:.05}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Какая часть накопленных ресурсов отбирается при конфликте"})]})]})]})]}),n&&n.totalClans>0&&p.jsxs(p.Fragment,{children:[p.jsxs(Ie,{children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(Qp,{className:"h-5 w-5"}),"Общая статистика кланов"]})}),p.jsx(kt,{children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего кланов"}),p.jsx("p",{className:"text-2xl font-bold",children:n.totalClans})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средний размер"}),p.jsx("p",{className:"text-2xl font-bold",children:n.averageSize.toFixed(1)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего членов"}),p.jsx("p",{className:"text-2xl font-bold",children:n.clans.reduce((s,l)=>s+l.size,0)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Общие ресурсы"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.clans.reduce((s,l)=>s+l.resources,0).toFixed(0)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средняя плотность"}),p.jsx("p",{className:"text-2xl font-bold",children:(n.clans.reduce((s,l)=>s+parseFloat(l.density),0)/n.totalClans).toFixed(2)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средняя сила"}),p.jsx("p",{className:"text-2xl font-bold",children:(n.clans.reduce((s,l)=>s+l.strength,0)/n.totalClans).toFixed(0)})]})]})})]}),p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(Rh,{className:"h-5 w-5"}),"Детальная информация по кланам"]}),p.jsxs(Ra,{children:["Список всех ",n.totalClans," кланов с подробностями"]})]}),p.jsx(kt,{children:p.jsx(C_,{className:"h-[400px] pr-4",children:p.jsx("div",{className:"space-y-3",children:n.clans.map(s=>p.jsx(Ie,{className:"border-2",children:p.jsx(kt,{className:"pt-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h4",{className:"font-semibold text-lg",children:["Клан ",s.id+1]}),p.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[p.jsx(ct,{className:ide[s.rule],children:nde[s.rule]||"Нет решения"}),s.subrule&&p.jsx(ct,{variant:"outline",className:"text-xs",children:rde[s.subrule]})]})]}),p.jsx(ei,{}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Размер"}),p.jsx("p",{className:"font-bold text-lg",children:s.size})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Сила"}),p.jsx("p",{className:"font-bold text-lg text-orange-600",children:s.strength})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Плотность"}),p.jsx("p",{className:"font-bold text-lg text-blue-600",children:s.density})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Всего ресурсов"}),p.jsx("p",{className:"font-bold text-lg text-green-600",children:s.resources||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"На члена"}),p.jsx("p",{className:"font-bold text-lg",children:s.averageResourcesPerMember||0})]})]}),p.jsx(ei,{}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Выживших"}),p.jsx("p",{className:"font-bold text-lg text-green-600",children:s.aliveMembers||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Погибших"}),p.jsx("p",{className:"font-bold text-lg text-red-600",children:s.deadMembers||0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Выживаемость"}),p.jsxs("p",{className:"font-bold text-lg text-blue-600",children:[s.survivalRate||0,"%"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Эффективность"}),p.jsx("p",{className:"font-bold text-lg text-purple-600",children:s.efficiency||0})]})]}),(s.productivity!==void 0||s.consumption!==void 0)&&p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Производительность"}),p.jsx("p",{className:"font-bold text-lg text-indigo-600",children:s.productivity||0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-muted-foreground",children:"Потребление"}),p.jsx("p",{className:"font-bold text-lg text-orange-600",children:s.consumption||0})]})]})]})})},s.id))})})})]})]}),n&&n.freeAgents&&n.freeAgents.count>0&&p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(Rh,{className:"h-5 w-5"}),"Свободные агенты"]}),p.jsx(Ra,{children:"Агенты, не входящие ни в один клан"})]}),p.jsx(kt,{children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Количество"}),p.jsx("p",{className:"text-2xl font-bold",children:n.freeAgents.count})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего ресурсов"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.freeAgents.totalResources.toFixed(0)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Средние ресурсы"}),p.jsx("p",{className:"text-2xl font-bold",children:n.freeAgents.averageResources.toFixed(1)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Диапазон"}),p.jsxs("p",{className:"text-lg font-bold",children:[p.jsx("span",{className:"text-red-600",children:n.freeAgents.minResources.toFixed(0)})," - ",p.jsx("span",{className:"text-green-600",children:n.freeAgents.maxResources.toFixed(0)})]})]})]})})]}),r&&r.totalConflicts>0&&p.jsxs(Ie,{children:[p.jsx(zt,{children:p.jsxs(Bt,{className:"flex items-center gap-2",children:[p.jsx(X$,{className:"h-5 w-5 text-red-500"}),"Статистика конфликтов"]})}),p.jsxs(kt,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего конфликтов"}),p.jsx("p",{className:"text-2xl font-bold",children:r.totalConflicts})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Украдено ресурсов"}),p.jsx("p",{className:"text-2xl font-bold text-red-500",children:r.totalResourcesStolen.toFixed(0)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Поляризовано связей"}),p.jsx("p",{className:"text-2xl font-bold",children:r.totalConnectionsPolarized})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"В среднем за конфликт"}),p.jsx("p",{className:"text-2xl font-bold",children:r.averageResourcesPerConflict.toFixed(1)})]})]}),r.mostAggressiveClan&&p.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:p.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Самый агрессивный: Клан ",r.mostAggressiveClan.id+1,p.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.mostAggressiveClan.count," атак)"]})]})}),r.mostVictimizedClan&&p.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:p.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Самая частая жертва: Клан ",r.mostVictimizedClan.id+1,p.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.mostVictimizedClan.count," раз)"]})]})})]})]}),p.jsx(Ie,{className:"border-blue-200 bg-blue-50",children:p.jsx(kt,{className:"pt-6",children:p.jsxs("div",{className:"flex gap-3",children:[p.jsx(K1,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"text-sm text-blue-900",children:[p.jsx("p",{className:"font-medium mb-2",children:"Как работает клановая система:"}),p.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[p.jsx("li",{children:"Кланы формируются из плотно связанных агентов"}),p.jsx("li",{children:"Каждый клан голосует за правила распределения ресурсов"}),p.jsxs("li",{children:[p.jsx("strong",{children:"Диктатура:"})," сильнейший забирает все излишки"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Демократия:"})," распределение с подправилами:",p.jsxs("ul",{className:"ml-6 mt-1 space-y-0.5 list-circle",children:[p.jsxs("li",{children:[p.jsx("em",{children:"Первому половина"})," - сильнейший получает 1/2, остальным рекурсивно"]}),p.jsxs("li",{children:[p.jsx("em",{children:"Первому треть"})," - сильнейший получает 1/3, остальным рекурсивно"]}),p.jsxs("li",{children:[p.jsx("em",{children:"Первому четверть"})," - сильнейший получает 1/4, остальным рекурсивно"]}),p.jsxs("li",{children:[p.jsx("em",{children:"Первому пятую часть"})," - сильнейший получает 1/5, остальным рекурсивно"]}),p.jsxs("li",{children:[p.jsx("em",{children:"Всем поровну"})," - равное распределение между всеми"]})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Беспредел:"})," атака на самый слабый клан"]})]})]})]})})})]})}function ode({eventLogger:e,currentCycle:t}){var y;const[n,r]=$.useState(null),[a,s]=$.useState("all"),l=$.useMemo(()=>e?e.getStatistics():null,[e,t]),u=$.useMemo(()=>{if(!e)return[];let x;return n!==null?x=e.getEventsByCycle(n):x=e.getEvents({limit:100}),a!=="all"&&(x=x.filter(S=>S.type.includes(a))),x},[e,n,a,t]),d=$.useMemo(()=>e?e._generateTimeline().slice(-20):[],[e,t]);if(!e||!l)return p.jsx(Ie,{children:p.jsxs(zt,{children:[p.jsx(Bt,{children:"📊 Статистика"}),p.jsx(Ra,{children:"Статистика недоступна"})]})});const f=x=>{switch(x){case"critical":return"bg-red-500/20 text-red-500 border-red-500/50";case"warning":return"bg-yellow-500/20 text-yellow-500 border-yellow-500/50";case"milestone":return"bg-purple-500/20 text-purple-500 border-purple-500/50";default:return"bg-blue-500/20 text-blue-500 border-blue-500/50"}},m=x=>x.includes("death")?p.jsx(TH,{className:"h-4 w-4"}):x.includes("conflict")?p.jsx(X$,{className:"h-4 w-4"}):x.includes("clan")?p.jsx(Rh,{className:"h-4 w-4"}):x.includes("resource")||x.includes("economic")?p.jsx(iH,{className:"h-4 w-4"}):p.jsx(WF,{className:"h-4 w-4"}),g=x=>x==="positive"||x>0?p.jsx(Qp,{className:"h-4 w-4 text-green-500"}):x==="negative"||x<0?p.jsx(LH,{className:"h-4 w-4 text-red-500"}):p.jsx(SH,{className:"h-4 w-4 text-gray-500"});return p.jsx("div",{className:"space-y-4",children:p.jsxs(Ie,{children:[p.jsxs(zt,{children:[p.jsx(Bt,{children:"📊 Статистика симуляции"}),p.jsx(Ra,{children:"Детальная информация о событиях и трендах"})]}),p.jsx(kt,{children:p.jsxs(Lo,{defaultValue:"overview",className:"w-full",children:[p.jsxs(zo,{className:"grid w-full grid-cols-4",children:[p.jsx(Et,{value:"overview",children:"Обзор"}),p.jsx(Et,{value:"events",children:"События"}),p.jsx(Et,{value:"cycles",children:"По циклам"}),p.jsx(Et,{value:"trends",children:"Тренды"})]}),p.jsxs(Nt,{value:"overview",className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-2",children:p.jsx(Bt,{className:"text-sm font-medium",children:"Всего событий"})}),p.jsxs(kt,{children:[p.jsx("div",{className:"text-2xl font-bold",children:l.totalEvents}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["За ",t," циклов"]})]})]}),p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-2",children:p.jsx(Bt,{className:"text-sm font-medium",children:"Критических"})}),p.jsxs(kt,{children:[p.jsx("div",{className:"text-2xl font-bold text-red-500",children:((y=l.criticalEvents)==null?void 0:y.length)||0}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Требуют внимания"})]})]})]}),p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-2",children:p.jsx(Bt,{className:"text-sm font-medium",children:"События по типам"})}),p.jsx(kt,{children:p.jsx("div",{className:"space-y-2",children:Object.entries(l.eventsByType||{}).slice(0,8).map(([x,S])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[m(x),p.jsx("span",{className:"text-sm",children:x.replace(/_/g," ")})]}),p.jsx(ct,{variant:"outline",children:S})]},x))})})]})]}),p.jsxs(Nt,{value:"events",className:"space-y-4",children:[p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 text-xs rounded border transition-colors ${a==="all"?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:bg-muted"}`,children:"Все"}),p.jsx("button",{onClick:()=>s("death"),className:`px-3 py-1 text-xs rounded border transition-colors ${a==="death"?"bg-red-500 text-white border-red-500":"bg-background border-border hover:bg-muted"}`,children:"Смерти"}),p.jsx("button",{onClick:()=>s("conflict"),className:`px-3 py-1 text-xs rounded border transition-colors ${a==="conflict"?"bg-orange-500 text-white border-orange-500":"bg-background border-border hover:bg-muted"}`,children:"Конфликты"}),p.jsx("button",{onClick:()=>s("clan"),className:`px-3 py-1 text-xs rounded border transition-colors ${a==="clan"?"bg-blue-500 text-white border-blue-500":"bg-background border-border hover:bg-muted"}`,children:"Кланы"}),p.jsx("button",{onClick:()=>s("economic"),className:`px-3 py-1 text-xs rounded border transition-colors ${a==="economic"?"bg-green-500 text-white border-green-500":"bg-background border-border hover:bg-muted"}`,children:"Экономика"})]}),p.jsx(C_,{className:"h-[400px] rounded-md border p-4",children:p.jsx("div",{className:"space-y-2",children:u.length===0?p.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Нет событий для отображения"}):u.reverse().map(x=>p.jsx("div",{className:`p-3 rounded-lg border ${f(x.severity)}`,children:p.jsxs("div",{className:"flex items-start gap-2",children:[m(x.type),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsxs(ct,{variant:"outline",className:"text-xs",children:["Цикл ",x.cycle]}),p.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleTimeString()})]}),p.jsx("p",{className:"text-sm",children:x.description})]})]})},x.id))})})]}),p.jsx(Nt,{value:"cycles",className:"space-y-4",children:p.jsx(C_,{className:"h-[500px] rounded-md border p-4",children:p.jsx("div",{className:"space-y-3",children:d.length===0?p.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Нет данных по циклам"}):d.reverse().map(x=>p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(Bt,{className:"text-base",children:["Цикл ",x.cycle]}),p.jsxs(ct,{variant:"outline",children:[x.events.length," событий"]})]})}),p.jsxs(kt,{children:[p.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[x.summary.critical>0&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-red-500",children:x.summary.critical}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Критических"})]}),x.summary.economic>0&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-green-500",children:x.summary.economic}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Экономика"})]}),x.summary.conflicts>0&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-orange-500",children:x.summary.conflicts}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Конфликты"})]}),x.summary.social>0&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-blue-500",children:x.summary.social}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Социальные"})]})]}),p.jsx("button",{onClick:S=>{S.preventDefault(),r(n===x.cycle?null:x.cycle)},className:"w-full px-3 py-2 text-xs bg-muted hover:bg-muted/80 rounded transition-colors",children:n===x.cycle?"Скрыть детали":"Показать детали"}),n===x.cycle&&p.jsx("div",{className:"mt-3 space-y-2",children:x.events.map(S=>p.jsx("div",{className:"p-2 rounded bg-muted/50 text-xs",children:p.jsxs("div",{className:"flex items-center gap-2",children:[m(S.type),p.jsx("span",{children:S.description})]})},S.id))})]})]},x.cycle))})})}),p.jsx(Nt,{value:"trends",className:"space-y-4",children:l.trends&&p.jsxs(p.Fragment,{children:[p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-3",children:p.jsx(Bt,{className:"text-sm font-medium",children:"Экономическое здоровье"})}),p.jsx(kt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Тренд"}),p.jsxs("div",{className:"flex items-center gap-2",children:[g(l.trends.economicHealth.trend),p.jsx("span",{className:"text-sm capitalize",children:l.trends.economicHealth.trend})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Стабильность"}),p.jsxs("span",{className:"text-sm font-medium",children:[(l.trends.economicHealth.stability*100).toFixed(0),"%"]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Кризисы"}),p.jsx(ct,{variant:"destructive",children:l.trends.economicHealth.recentCrises})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Бумы"}),p.jsx(ct,{variant:"default",children:l.trends.economicHealth.recentBooms})]})]})})]}),p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-3",children:p.jsx(Bt,{className:"text-sm font-medium",children:"Социальная стабильность"})}),p.jsx(kt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Сплоченность"}),p.jsx("span",{className:"text-sm font-medium",children:l.trends.socialStability.cohesion.toFixed(2)})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Поляризация"}),p.jsxs("span",{className:"text-sm font-medium",children:[(l.trends.socialStability.polarization*100).toFixed(0),"%"]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Рост сети"}),p.jsxs("div",{className:"flex items-center gap-2",children:[g(l.trends.socialStability.networkGrowth),p.jsx("span",{className:"text-sm font-medium",children:l.trends.socialStability.networkGrowth})]})]})]})})]}),p.jsxs(Ie,{children:[p.jsx(zt,{className:"pb-3",children:p.jsx(Bt,{className:"text-sm font-medium",children:"Интенсивность конфликтов"})}),p.jsx(kt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Частота"}),p.jsx(ct,{variant:"outline",children:l.trends.conflictIntensity.frequency})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Интенсивность"}),p.jsx("span",{className:"text-sm font-medium",children:l.trends.conflictIntensity.intensity.toFixed(1)})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Тренд"}),p.jsx("span",{className:"text-sm capitalize",children:l.trends.conflictIntensity.trend})]})]})})]}),p.jsxs(Ie,{children:[p.jsxs(zt,{className:"pb-3",children:[p.jsx(Bt,{className:"text-sm font-medium",children:"Динамика популяции"}),p.jsx(Ra,{className:"text-xs",children:"События за последние 20 циклов"})]}),p.jsxs(kt,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Рождения (события)"}),p.jsx(ct,{variant:"default",children:l.trends.populationDynamics.birthRate})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Смерти (события)"}),p.jsx(ct,{variant:"destructive",children:l.trends.populationDynamics.deathRate})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Чистый рост"}),p.jsxs("div",{className:"flex items-center gap-2",children:[g(l.trends.populationDynamics.netGrowth),p.jsx("span",{className:"text-sm font-medium",children:l.trends.populationDynamics.netGrowth})]})]})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"💡 Эти цифры показывают количество событий рождения/смерти, а не общую популяцию агентов"})]})]})]})})]})})]})})}class lj{constructor(t={},n=null){this.baseProductivity=t.baseProductivity||7,this.minSurvival=t.minSurvival||10,this.maxMultiplier=t.maxMultiplier||2.5,this.strongConnectionThreshold=t.strongConnectionThreshold||.3,this.connectionBonus=t.connectionBonus||.4,this.minEfficiency=t.minEfficiency!==void 0?t.minEfficiency:.8,this.accumulationRate=t.accumulationRate!==void 0?t.accumulationRate:.3,this.starvationThreshold=t.starvationThreshold!==void 0?t.starvationThreshold:3,this.interClanDistribution=t.interClanDistribution!==!1,this.eventLogger=n;const r=this.minEfficiency<.4?1:this.minEfficiency<.6?2:3;this.initialResources=t.initialResources||Math.round(this.minSurvival*r)}initializeAgentEconomics(t){t.forEach(n=>{n.economics||(n.economics={currentResources:this.initialResources,accumulatedResources:0,productionHistory:[],consumptionHistory:[],alive:!0,starvationCounter:0})})}calculateProduction(t,n,r,a){if(!t.economics||!t.economics.alive)return 0;let s=0,l=0;if(n&&n[r])for(let b=0;b<n[r].length;b++){if(b===r||a&&a[b].economics&&!a[b].economics.alive)continue;const j=n[r][b];j>=this.strongConnectionThreshold&&(s+=j,l++)}const u=l>0?1+s*this.connectionBonus/(1+l*.05):1,d=Math.min(u,this.maxMultiplier),f=this.baseProductivity*3,m=1-this.minEfficiency,g=this.minEfficiency+m*Math.min(1,t.economics.currentResources/f),y=.7+Math.random()*.6,x=t.economics.currentResources/this.minSurvival,S=x>=1?1:.6+.4*x,_=this.baseProductivity*d*g*y*S;return t.economics.productionHistory.push(_),_}processConsumption(t){const n={survived:0,died:0,totalConsumed:0};return t.forEach(r=>{if(!r.economics||!r.economics.alive)return;r.economics.starvationCounter===void 0&&(r.economics.starvationCounter=0);const a=this.minSurvival,s=.7+Math.random()*.6,l=a*s;if(r.economics.currentResources>=l)r.economics.currentResources-=l,r.economics.consumptionHistory.push(l),r.economics.starvationCounter=Math.max(0,r.economics.starvationCounter-1),n.survived++,n.totalConsumed+=l;else{const u=l-r.economics.currentResources;if(r.economics.accumulatedResources>=u)r.economics.accumulatedResources-=u,r.economics.currentResources=0,r.economics.consumptionHistory.push(l),r.economics.starvationCounter=Math.max(0,r.economics.starvationCounter-1),n.survived++,n.totalConsumed+=l;else{r.economics.starvationCounter++;const d=r.economics.currentResources+r.economics.accumulatedResources;n.totalConsumed+=d,r.economics.currentResources=0,r.economics.accumulatedResources=0;const f=Math.min(.9,r.economics.starvationCounter/this.starvationThreshold*.5);r.economics.starvationCounter>=this.starvationThreshold||Math.random()<f?(r.economics.alive=!1,n.died++,this.eventLogger&&this.eventLogger.logEvent("agent_death",{agentId:i,cause:"starvation",resources:r.economics.currentResources,starvationDays:r.economics.starvationCounter},"critical")):n.survived++}}}),n}executeEconomicCycle(t,n){const r={totalProduction:0,totalConsumption:0,survived:0,died:0,averageResources:0};t.forEach((l,u)=>{if(l.economics&&l.economics.alive){const d=this.calculateProduction(l,n,u,t);l.economics.currentResources+=d,r.totalProduction+=d}}),t.forEach(l=>{if(l.economics&&l.economics.alive){const u=this.minSurvival*2;if(l.economics.currentResources>u){const d=l.economics.currentResources-u,f=Math.min(.3,l.economics.accumulatedResources/(this.minSurvival*10)*.3),m=this.accumulationRate+f;l.economics.accumulatedResources+=d*m}}});const a=this.processConsumption(t);r.totalConsumption=a.totalConsumed,r.survived=a.survived,r.died=a.died;const s=t.filter(l=>l.economics&&l.economics.alive);if(s.length>0){const l=s.reduce((u,d)=>u+d.economics.currentResources,0);r.averageResources=l/s.length}return r}getEconomicStats(t){const n=t.filter(C=>C.economics&&C.economics.alive),r=t.filter(C=>C.economics&&!C.economics.alive);if(n.length===0)return{aliveCount:0,deadCount:r.length,totalAgents:t.length,survivalRate:0,totalResources:0,averageResources:0,medianResources:0,minResources:0,maxResources:0,stdDevResources:0,totalAccumulated:0,averageAccumulated:0,resourceDistribution:{q1:0,q2:0,q3:0},wealthInequality:0};const a=n.map(C=>C.economics.currentResources||0),s=n.map(C=>C.economics.accumulatedResources||0),l=[...a].sort((C,R)=>C-R),u=Math.floor(l.length*.25),d=Math.floor(l.length*.5),f=Math.floor(l.length*.75),m=l[u]||0,g=l[d]||0,y=l[f]||0,x=a.reduce((C,R)=>C+R,0),S=x/n.length,_=a.reduce((C,R)=>C+Math.pow(R-S,2),0)/n.length,b=Math.sqrt(_),j=s.reduce((C,R)=>C+R,0),O=S>0?b/S:0,T=l.filter(C=>C<m).length,E=l.filter(C=>C>y).length,N=n.length-T-E;return{aliveCount:n.length,deadCount:r.length,totalAgents:t.length,survivalRate:parseFloat((n.length/t.length*100).toFixed(1)),totalResources:parseFloat(x.toFixed(1)),averageResources:parseFloat(S.toFixed(1)),medianResources:parseFloat(g.toFixed(1)),minResources:parseFloat(Math.min(...a).toFixed(1)),maxResources:parseFloat(Math.max(...a).toFixed(1)),stdDevResources:parseFloat(b.toFixed(1)),totalAccumulated:parseFloat(j.toFixed(1)),averageAccumulated:parseFloat((j/n.length).toFixed(1)),resourceDistribution:{q1:parseFloat(m.toFixed(1)),q2:parseFloat(g.toFixed(1)),q3:parseFloat(y.toFixed(1))},wealthInequality:parseFloat(O.toFixed(2)),poorAgents:T,richAgents:E,middleClassAgents:N,classThresholds:{poor:parseFloat(m.toFixed(1)),rich:parseFloat(y.toFixed(1))}}}static validateParams(t){return{baseProductivity:Math.max(1,t.baseProductivity||10),minSurvival:Math.max(1,t.minSurvival||10),maxMultiplier:Math.max(1.1,t.maxMultiplier||2),strongConnectionThreshold:Math.max(.1,Math.min(1,t.strongConnectionThreshold||.3)),connectionBonus:Math.max(.05,t.connectionBonus||.1)}}}const Te={AGENT_BIRTH:"agent_birth",AGENT_DEATH:"agent_death",RESOURCE_PRODUCTION:"resource_production",RESOURCE_CONSUMPTION:"resource_consumption",STARVATION_WARNING:"starvation_warning",ECONOMIC_BOOM:"economic_boom",ECONOMIC_CRISIS:"economic_crisis",WEALTH_INEQUALITY:"wealth_inequality",CONNECTION_FORMED:"connection_formed",CONNECTION_STRENGTHENED:"connection_strengthened",CONNECTION_WEAKENED:"connection_weakened",CONNECTION_BROKEN:"connection_broken",OPINION_SHIFT:"opinion_shift",POLARIZATION_EVENT:"polarization_event",CLAN_FORMED:"clan_formed",CLAN_DISSOLVED:"clan_dissolved",CLAN_MEMBER_JOINED:"clan_member_joined",CLAN_MEMBER_LEFT:"clan_member_left",CLAN_DECISION_MADE:"clan_decision_made",CLAN_LEADERSHIP_CHANGE:"clan_leadership_change",CLAN_RESOURCE_REDISTRIBUTION:"clan_resource_redistribution",CONFLICT_INITIATED:"conflict_initiated",CONFLICT_RESOLVED:"conflict_resolved",RESOURCE_THEFT:"resource_theft",ALLIANCE_FORMED:"alliance_formed",ALLIANCE_BROKEN:"alliance_broken",TERRITORY_DISPUTE:"territory_dispute",SIMULATION_STARTED:"simulation_started",SIMULATION_PAUSED:"simulation_paused",SIMULATION_ENDED:"simulation_ended",CYCLE_COMPLETED:"cycle_completed",MILESTONE_REACHED:"milestone_reached"},ir={INFO:"info",WARNING:"warning",CRITICAL:"critical",MILESTONE:"milestone"};class sde{constructor(){this.events=[],this.eventCounts={},this.cycleEvents=new Map,this.agentEvents=new Map,this.clanEvents=new Map,this.statistics={totalEvents:0,eventsByType:{},eventsBySeverity:{},eventsPerCycle:[],criticalEvents:[]}}logEvent(t,n={},r=ir.INFO){const a={id:this.events.length,type:t,severity:r,timestamp:Date.now(),cycle:n.cycle||0,data:{...n},description:this._generateDescription(t,n)};return this.events.push(a),this._updateStatistics(a),this._categorizeEvent(a),r===ir.CRITICAL&&console.warn(`🚨 Critical Event: ${a.description}`),a}_generateDescription(t,n){const r=(a,s=2)=>a!=null?Number(a).toFixed(s):"0";switch(t){case Te.AGENT_BIRTH:return`Агент ${n.agentId} родился в кластере ${n.cluster}`;case Te.AGENT_DEATH:return`Агент ${n.agentId} умер от ${n.cause||"неизвестной причины"} (ресурсы: ${r(n.resources)})`;case Te.RESOURCE_PRODUCTION:const a=n.agentId!==void 0&&n.agentId!==null?n.agentId:"Неизвестный",s=n.multiplier!==void 0&&n.multiplier!==null?r(n.multiplier,2):"1.00";return`Агент ${a} произвел ${r(n.amount)} ресурсов (множитель: ${s})`;case Te.STARVATION_WARNING:return`Агент ${n.agentId} голодает ${n.starvationDays||0} дней (ресурсы: ${r(n.resources)})`;case Te.ECONOMIC_BOOM:return`Экономический бум! Средние ресурсы: ${r(n.averageResources)} (+${r(n.growthRate,1)}%)`;case Te.ECONOMIC_CRISIS:return`Экономический кризис! ${r(n.deathRate,1)}% агентов умерло за цикл`;case Te.CLAN_FORMED:return`Клан ${n.clanId} сформирован (${n.memberCount||0} членов, плотность: ${r(n.density)})`;case Te.CLAN_DECISION_MADE:return`Клан ${n.clanId} выбрал ${n.decision} (голосов: ${n.votes||0})`;case Te.CONFLICT_INITIATED:return`Клан ${n.attackerId} атакует клан ${n.victimId} (сила: ${r(n.attackerStrength,1)} vs ${r(n.victimStrength,1)})`;case Te.RESOURCE_THEFT:return`Украдено ${r(n.amount)} ресурсов у клана ${n.victimId}`;case Te.CONNECTION_FORMED:return`Связь образована между агентами ${n.agent1} и ${n.agent2} (сила: ${r(n.strength)})`;case Te.CONNECTION_STRENGTHENED:return`Связь усилилась между агентами ${n.agent1} и ${n.agent2} (${r(n.oldStrength)} → ${r(n.newStrength)})`;case Te.CONNECTION_WEAKENED:return`Связь ослабла между агентами ${n.agent1} и ${n.agent2} (${r(n.oldStrength)} → ${r(n.newStrength)})`;case Te.CONNECTION_BROKEN:return`Связь разорвана между агентами ${n.agent1} и ${n.agent2} (была: ${r(n.oldStrength)})`;case Te.OPINION_SHIFT:return`Агент ${n.agentId} изменил мнение по теме "${n.topic||"неизвестно"}" (${r(n.oldOpinion)} → ${r(n.newOpinion)})`;case Te.RESOURCE_CONSUMPTION:return`Агент ${n.agentId} потребил ${r(n.amount)} ресурсов (осталось: ${r(n.remaining)})`;case Te.CLAN_DISSOLVED:return`Клан ${n.clanId} распущен (было ${n.memberCount||0} членов)`;case Te.CLAN_MEMBER_JOINED:return`Агент ${n.agentId} присоединился к клану ${n.clanId}`;case Te.CLAN_MEMBER_LEFT:return`Агент ${n.agentId} покинул клан ${n.clanId}`;case Te.CLAN_LEADERSHIP_CHANGE:return`Клан ${n.clanId}: новый лидер - агент ${n.newLeader} (был: ${n.oldLeader})`;case Te.CLAN_RESOURCE_REDISTRIBUTION:return`Клан ${n.clanId} перераспределил ${r(n.amount)} ресурсов между ${n.memberCount||0} членами`;case Te.CONFLICT_RESOLVED:return`Конфликт разрешен между кланами ${n.clan1} и ${n.clan2} (исход: ${n.outcome||"неизвестно"})`;case Te.ALLIANCE_FORMED:return`Альянс образован между кланами ${n.clan1} и ${n.clan2}`;case Te.ALLIANCE_BROKEN:return`Альянс разрушен между кланами ${n.clan1} и ${n.clan2}`;case Te.TERRITORY_DISPUTE:return`Территориальный спор между кланами ${n.clan1} и ${n.clan2}`;case Te.WEALTH_INEQUALITY:return`Неравенство богатства: коэффициент ${r(n.coefficient)} (${n.trend||"стабильно"})`;case Te.POLARIZATION_EVENT:return`Поляризация: ${n.connectionCount||0} связей ослаблены на ${r(n.averageWeakening,1)}%`;case Te.SIMULATION_STARTED:return`Симуляция запущена (${n.agentCount||0} агентов, ${n.cycles||0} циклов)`;case Te.SIMULATION_PAUSED:return`Симуляция приостановлена на цикле ${n.cycle}`;case Te.SIMULATION_ENDED:return`Симуляция завершена после ${n.totalCycles||0} циклов`;case Te.CYCLE_COMPLETED:return`Цикл ${n.cycle} завершен (${n.eventsCount||0} событий)`;case Te.MILESTONE_REACHED:return`Достигнута веха: ${n.milestone} (цикл ${n.cycle})`;default:const l=[];return n.agentId!==void 0&&l.push(`агент ${n.agentId}`),n.clanId!==void 0&&l.push(`клан ${n.clanId}`),n.amount!==void 0&&l.push(`${r(n.amount)} ресурсов`),l.length>0?`${t}: ${l.join(", ")}`:`Событие: ${t}`}}_updateStatistics(t){this.statistics.totalEvents++,this.statistics.eventsByType[t.type]||(this.statistics.eventsByType[t.type]=0),this.statistics.eventsByType[t.type]++,this.statistics.eventsBySeverity[t.severity]||(this.statistics.eventsBySeverity[t.severity]=0),this.statistics.eventsBySeverity[t.severity]++,t.severity===ir.CRITICAL&&this.statistics.criticalEvents.push(t);const n=t.cycle;this.statistics.eventsPerCycle[n]||(this.statistics.eventsPerCycle[n]=0),this.statistics.eventsPerCycle[n]++}_categorizeEvent(t){const n=t.cycle;if(this.cycleEvents.has(n)||this.cycleEvents.set(n,[]),this.cycleEvents.get(n).push(t),t.data.agentId!==void 0){const r=t.data.agentId;this.agentEvents.has(r)||this.agentEvents.set(r,[]),this.agentEvents.get(r).push(t)}if(t.data.clanId!==void 0){const r=t.data.clanId;this.clanEvents.has(r)||this.clanEvents.set(r,[]),this.clanEvents.get(r).push(t)}}getEvents(t={}){let n=[...this.events];return t.type&&(n=n.filter(r=>r.type===t.type)),t.severity&&(n=n.filter(r=>r.severity===t.severity)),t.cycle!==void 0&&(n=n.filter(r=>r.cycle===t.cycle)),t.agentId!==void 0&&(n=n.filter(r=>r.data.agentId===t.agentId)),t.clanId!==void 0&&(n=n.filter(r=>r.data.clanId===t.clanId)),t.limit&&(n=n.slice(-t.limit)),n}getEventsByCycle(t){return this.cycleEvents.get(t)||[]}getEventsByAgent(t){return this.agentEvents.get(t)||[]}getEventsByClan(t){return this.clanEvents.get(t)||[]}analyzeTrends(){return{economicHealth:this._analyzeEconomicTrends(),socialStability:this._analyzeSocialTrends(),conflictIntensity:this._analyzeConflictTrends(),populationDynamics:this._analyzePopulationTrends()}}_analyzeEconomicTrends(){const n=this.events.filter(f=>[Te.RESOURCE_PRODUCTION,Te.ECONOMIC_BOOM,Te.ECONOMIC_CRISIS,Te.STARVATION_WARNING].includes(f.type)).slice(-20),r=n.filter(f=>f.type===Te.ECONOMIC_CRISIS),a=n.filter(f=>f.type===Te.ECONOMIC_BOOM),s=n.filter(f=>f.type===Te.STARVATION_WARNING);let l="stable";a.length>r.length+s.length?l="positive":r.length+s.length>a.length&&(l="negative");const u=r.length+s.length;let d=.85;if(u>0){const f=Math.min(.7,u*.1);d=Math.max(.15,d-f)}if(a.length>0){const f=Math.min(.1,a.length*.05);d=Math.min(.95,d+f)}return{trend:l,stability:d,recentCrises:r.length,recentBooms:a.length}}_analyzeSocialTrends(){const n=this.events.filter(S=>[Te.CONNECTION_FORMED,Te.CONNECTION_BROKEN,Te.CONNECTION_STRENGTHENED,Te.CONNECTION_WEAKENED,Te.POLARIZATION_EVENT].includes(S.type)).slice(-30),r=n.filter(S=>S.type===Te.CONNECTION_FORMED),a=n.filter(S=>S.type===Te.CONNECTION_BROKEN),s=n.filter(S=>S.type===Te.CONNECTION_STRENGTHENED),l=n.filter(S=>S.type===Te.CONNECTION_WEAKENED),u=n.filter(S=>S.type===Te.POLARIZATION_EVENT);let d=.75;const f=r.length+s.length,m=a.length+l.length;if(f>0||m>0){const S=f+m,b=(f/S-.5)*.3;d=Math.max(.1,Math.min(.95,d+b))}let g=.15;if(u.length>0&&n.length>0){const S=u.length/n.length;g=Math.min(.8,.15+S*.4)}let y=5;const x=r.length-a.length;return y=Math.max(-10,Math.min(20,y+x)),{cohesion:d,polarization:g,networkGrowth:y}}_analyzeConflictTrends(){const t=this.events.filter(S=>[Te.CONFLICT_INITIATED,Te.CONFLICT_RESOLVED,Te.RESOURCE_THEFT,Te.TERRITORY_DISPUTE].includes(S.type));if(t.length===0)return{frequency:0,intensity:0,trend:"stable"};const n=t.slice(-15),r=n.filter(S=>S.type===Te.CONFLICT_INITIATED),a=n.filter(S=>S.type===Te.CONFLICT_RESOLVED),s=n.filter(S=>S.type===Te.RESOURCE_THEFT),l=n.length,u=s.reduce((S,_)=>S+(_.data.amount||0),0),d=s.length>0?u/s.length:0,f=Math.min(100,d),m=Math.floor(n.length/2),g=n.slice(0,m),y=n.slice(m);let x="stable";return y.length>g.length*1.2?x="escalating":y.length<g.length*.8&&(x="de-escalating"),a.length>r.length&&(x="de-escalating"),{frequency:l,intensity:f,trend:x}}_analyzePopulationTrends(){const t=this.events.filter(d=>d.type===Te.AGENT_BIRTH),n=this.events.filter(d=>d.type===Te.AGENT_DEATH);if(t.length===0&&n.length===0)return{birthRate:2,deathRate:1,netGrowth:1,mortalityCauses:{}};const r=t.slice(-20),a=n.slice(-20),s=r.length,l=a.length,u=s-l;return{birthRate:s,deathRate:l,netGrowth:u,mortalityCauses:this._analyzeMortalityCauses(a)}}_analyzeMortalityCauses(t){const n={};return t.forEach(r=>{const a=r.data.cause||"unknown";n[a]=(n[a]||0)+1}),n}getStatistics(){return{...this.statistics,trends:this.analyzeTrends(),recentEvents:this.events.slice(-10),eventTimeline:this._generateTimeline()}}_generateTimeline(){const t=[],n={};return this.events.forEach(r=>{const a=r.cycle;n[a]||(n[a]=[]),n[a].push(r)}),Object.keys(n).sort((r,a)=>parseInt(r)-parseInt(a)).forEach(r=>{t.push({cycle:parseInt(r),events:n[r],summary:this._generateCycleSummary(n[r])})}),t}_generateCycleSummary(t){return{total:t.length,critical:t.filter(r=>r.severity===ir.CRITICAL).length,economic:t.filter(r=>r.type.includes("resource")||r.type.includes("economic")).length,social:t.filter(r=>r.type.includes("connection")||r.type.includes("clan")).length,conflicts:t.filter(r=>r.type.includes("conflict")).length}}exportEvents(t="json",n={}){const r=this.getEvents(n);switch(t){case"json":return JSON.stringify(r,null,2);case"csv":return this._exportToCSV(r);case"timeline":return this._exportToTimeline(r);default:return r}}_exportToCSV(t){const n=["ID","Type","Severity","Cycle","Timestamp","Description"],r=t.map(a=>[a.id,a.type,a.severity,a.cycle,new Date(a.timestamp).toISOString(),a.description]);return[n,...r].map(a=>a.join(",")).join(`
`)}_exportToTimeline(t){return t.map(n=>({time:new Date(n.timestamp).toISOString(),cycle:n.cycle,event:n.description,severity:n.severity,category:this._categorizeEventType(n.type)}))}_categorizeEventType(t){return t.includes("resource")||t.includes("economic")?"Economic":t.includes("connection")||t.includes("opinion")?"Social":t.includes("clan")?"Clan":t.includes("conflict")?"Conflict":"System"}logCycleEconomics(t){const{cycle:n=0,survived:r=0,died:a=0,averageResources:s=0,totalProduction:l=0}=t||{};this.logEvent(Te.RESOURCE_PRODUCTION,{cycle:n,survived:r,died:a,averageResources:s,totalProduction:l},ir.INFO);const u=r+a;u>0&&a>r*.1&&this.logEvent(Te.ECONOMIC_CRISIS,{cycle:n,deathRate:a/u*100,died:a,survived:r},ir.CRITICAL),s>100&&this.logEvent(Te.ECONOMIC_BOOM,{cycle:n,averageResources:s,growthRate:(s-50)/50*100},ir.MILESTONE)}clear(){this.events=[],this.eventCounts={},this.cycleEvents.clear(),this.agentEvents.clear(),this.clanEvents.clear(),this.statistics={totalEvents:0,eventsByType:{},eventsBySeverity:{},eventsPerCycle:[],criticalEvents:[]}}}const lde=Object.freeze(Object.defineProperty({__proto__:null,EVENT_SEVERITY:ir,EVENT_TYPES:Te,EventLogger:sde},Symbol.toStringTag,{value:"Module"}));class cde extends lj{constructor(t={},n=null){super(t),this.eventLogger=n,this.tradeEnabled=t.tradeEnabled||!0,this.investmentEnabled=t.investmentEnabled||!0,this.inflationRate=t.inflationRate||.02,this.taxRate=t.taxRate||.1,this.wealthTaxThreshold=t.wealthTaxThreshold||100,this.economicCycle={phase:"growth",duration:0,intensity:1},this.market={resourcePrice:1,priceHistory:[1],totalTrades:0,tradeVolume:0},this.statistics={totalCycles:0,economicEvents:[],wealthDistribution:[],productivityTrends:[],mortalityRates:[],tradeMetrics:{totalTrades:0,averageTradeSize:0,marketEfficiency:0},investmentMetrics:{totalInvestments:0,averageReturn:0,riskLevel:0}}}initializeAgentEconomics(t){super.initializeAgentEconomics(t),t.forEach((n,r)=>{n.economics={...n.economics,wealth:50,investments:0,debt:0,creditRating:.5,tradeHistory:[],tradingSkill:Math.random()*.5+.5,riskTolerance:Math.random(),productivity:1,efficiency:1,innovation:Math.random()*.3,reputation:.5,trustLevel:.5,cooperativeness:Math.random(),wealthHistory:[50],productivityHistory:[1],efficiencyHistory:[1],lifeEvents:[],economicShocks:0,recoveryRate:.1},this._logEvent(Te.AGENT_BIRTH,{agentId:r,cluster:n.cluster||0,initialWealth:n.economics.wealth,tradingSkill:n.economics.tradingSkill.toFixed(2)})})}calculateProduction(t,n,r,a,s=0){if(!t.economics||!t.economics.alive)return 0;const l=super.calculateProduction(t,n,r,a),u=t.economics.productivity,d=t.economics.efficiency,f=1+t.economics.innovation,m=this.economicCycle.intensity,g=.8+t.economics.reputation*.4,y=.9+t.economics.cooperativeness*.2,x=Math.max(.5,1-t.economics.debt/t.economics.wealth),S=Math.max(.7,1-t.economics.economicShocks*.1),_=l*u*d*f*m*g*y*x*S;return t.economics.productivityHistory.push(_),(Math.random()<.1||_>l*1.5)&&this._logEvent(Te.RESOURCE_PRODUCTION,{agentId:r,cycle:s,amount:_,multiplier:_/l,factors:{productivity:u,efficiency:d,innovation:f,reputation:g}}),_}processTrade(t,n,r){var u,d,f;if(!this.tradeEnabled)return{trades:0,volume:0};let a=0,s=0;const l=[];for(let m=0;m<t.length;m++)if((u=t[m].economics)!=null&&u.alive)for(let g=m+1;g<t.length;g++){if(!((d=t[g].economics)!=null&&d.alive))continue;const y=((f=n==null?void 0:n[m])==null?void 0:f[g])||0;if(y<.2)continue;const x=t[m],S=t[g],_=this._calculateTradeBenefit(x,S,y);_>.1&&l.push({agent1:m,agent2:g,benefit:_,connection:y})}return l.sort((m,g)=>g.benefit-m.benefit).slice(0,Math.min(10,l.length)).forEach(m=>{const g=this._executeTrade(t[m.agent1],t[m.agent2],m.agent1,m.agent2,r);g.success&&(a++,s+=g.volume)}),this.market.totalTrades+=a,this.market.tradeVolume+=s,a>0&&(this.statistics.tradeMetrics.totalTrades+=a,this.statistics.tradeMetrics.averageTradeSize=this.market.tradeVolume/this.market.totalTrades),{trades:a,volume:s}}_calculateTradeBenefit(t,n,r){const a=t.economics.wealth,s=n.economics.wealth,l=t.economics.currentResources,u=n.economics.currentResources,d=Math.abs(l-u)/Math.max(l,u,1),f=Math.abs(a-s)/Math.max(a,s,1),m=t.economics.tradingSkill,g=n.economics.tradingSkill,y=(m+g)/2,x=t.economics.trustLevel,S=n.economics.trustLevel,_=(x+S)/2;return(d+f)*y*_*r}_executeTrade(t,n,r,a,s){const l=Math.min(t.economics.currentResources*.2,n.economics.currentResources*.2,10);if(l<1)return{success:!1,volume:0};const u=Math.random()*l,d=this.market.resourcePrice*(.9+Math.random()*.2),f=t.economics.currentResources>n.economics.currentResources;f?(t.economics.currentResources-=u,t.economics.wealth+=u*d,n.economics.currentResources+=u,n.economics.wealth-=u*d):(n.economics.currentResources-=u,n.economics.wealth+=u*d,t.economics.currentResources+=u,t.economics.wealth-=u*d);const m={cycle:s,partner:f?a:r,size:u,price:d,profit:u*(d-this.market.resourcePrice)};return t.economics.tradeHistory.push({...m,sold:f}),n.economics.tradeHistory.push({...m,sold:!f}),t.economics.tradingSkill=Math.min(1,t.economics.tradingSkill+.01),n.economics.tradingSkill=Math.min(1,n.economics.tradingSkill+.01),this._logEvent(Te.RESOURCE_PRODUCTION,{type:"trade",cycle:s,agent1:r,agent2:a,volume:u,price:d.toFixed(2)}),{success:!0,volume:u*d}}processInvestments(t,n){if(!this.investmentEnabled)return{investments:0,returns:0};let r=0,a=0;return t.forEach((s,l)=>{var f;if(!((f=s.economics)!=null&&f.alive))return;const u=this._makeInvestmentDecision(s,n);if(u.shouldInvest&&u.amount>0){const m=this._executeInvestment(s,u.amount,n);r+=m.amount,this._logEvent(Te.RESOURCE_PRODUCTION,{type:"investment",agentId:l,cycle:n,amount:m.amount,expectedReturn:m.expectedReturn})}const d=this._processExistingInvestments(s,n);a+=d}),this.statistics.investmentMetrics.totalInvestments+=r,{investments:r,returns:a}}_makeInvestmentDecision(t,n){const r=t.economics.wealth-t.economics.debt,a=t.economics.riskTolerance,s=this.economicCycle.phase;if(r<20)return{shouldInvest:!1,amount:0};const u={growth:1.2,peak:.8,recession:.3,trough:1.5}[s]||1,d=a*u*.3;if(Math.random()<d){const f=r*a*.5;return{shouldInvest:!0,amount:Math.random()*f}}return{shouldInvest:!1,amount:0}}_executeInvestment(t,n,r){t.economics.wealth-=n,t.economics.investments+=n;const a=.05+(Math.random()-.5)*.1,s=t.economics.riskTolerance*.05,l=a+s;return{amount:n,expectedReturn:l}}_processExistingInvestments(t,n){if(t.economics.investments<=0)return 0;const r=.95+Math.random()*.1,a=this.economicCycle.intensity,s=t.economics.investments*.02*r*a;return t.economics.wealth+=s,s}updateEconomicCycle(t,n){this.economicCycle.duration++;const r=t.filter(d=>{var f;return(f=d.economics)==null?void 0:f.alive}),a=r.length>0?r.reduce((d,f)=>d+f.economics.wealth,0)/r.length:0,s=this.statistics.wealthDistribution.length>0?(a-this.statistics.wealthDistribution[this.statistics.wealthDistribution.length-1])/a:0,u={growth:15,peak:5,recession:10,trough:8}[this.economicCycle.phase];this.economicCycle.duration>=u&&this._transitionEconomicPhase(s,n),this._updateCycleIntensity(s),this.statistics.wealthDistribution.push(a)}_transitionEconomicPhase(t,n){const r=["growth","peak","recession","trough"],a=r.indexOf(this.economicCycle.phase),s=r[(a+1)%r.length];this.economicCycle.phase=s,this.economicCycle.duration=0;const l=s==="recession"?ir.WARNING:ir.INFO;this._logEvent(Te.ECONOMIC_BOOM,{cycle:n,phase:s,previousPhase:r[a],wealthGrowth:(t*100).toFixed(1)},l)}_updateCycleIntensity(t){const r={growth:1.1,peak:1.2,recession:.8,trough:.7}[this.economicCycle.phase],a=Math.max(-.2,Math.min(.2,t));this.economicCycle.intensity=r+a}executeEconomicCycle(t,n,r=0){const a=super.executeEconomicCycle(t,n),s=this.processTrade(t,n,r),l=this.processInvestments(t,r);return this.updateEconomicCycle(t,r),this.processEconomicPolicies(t,r),this.analyzeEconomicEvents(t,r),this.updateStatistics(t,r),{...a,trades:s.trades,tradeVolume:s.volume,investments:l.investments,investmentReturns:l.returns,economicPhase:this.economicCycle.phase,cycleIntensity:this.economicCycle.intensity,marketPrice:this.market.resourcePrice}}processEconomicPolicies(t,n){t.forEach((r,a)=>{var s;if((s=r.economics)!=null&&s.alive&&(this.inflationRate>0&&(r.economics.wealth*=1-this.inflationRate),r.economics.wealth>this.wealthTaxThreshold)){const l=(r.economics.wealth-this.wealthTaxThreshold)*this.taxRate;r.economics.wealth-=l,l>5&&this._logEvent(Te.RESOURCE_CONSUMPTION,{type:"wealth_tax",agentId:a,cycle:n,amount:l})}}),this._updateMarketPrice(t)}_updateMarketPrice(t){const n=t.filter(u=>{var d;return(d=u.economics)==null?void 0:d.alive});if(n.length===0)return;const r=n.reduce((u,d)=>u+d.economics.currentResources,0),a=n.length*this.minSurvival,l=(1/(r/Math.max(1,a))-1)*.1;this.market.resourcePrice=Math.max(.1,this.market.resourcePrice*(1+l)),this.market.priceHistory.push(this.market.resourcePrice),this.market.priceHistory.length>100&&this.market.priceHistory.shift()}analyzeEconomicEvents(t,n){const r=t.filter(l=>{var u;return(u=l.economics)==null?void 0:u.alive}),a=t.filter(l=>l.economics&&!l.economics.alive),s=a.length/t.length;if(this.statistics.mortalityRates.push(s),s>.1&&this._logEvent(Te.ECONOMIC_CRISIS,{cycle:n,mortalityRate:(s*100).toFixed(1),aliveCount:r.length,deadCount:a.length},ir.CRITICAL),r.length>0){const l=r.map(d=>d.economics.wealth).sort((d,f)=>d-f),u=this._calculateGiniCoefficient(l);u>.7&&this._logEvent(Te.WEALTH_INEQUALITY,{cycle:n,giniCoefficient:u.toFixed(3),richestWealth:l[l.length-1].toFixed(2),poorestWealth:l[0].toFixed(2)},ir.WARNING)}}_calculateGiniCoefficient(t){const n=t.length;if(n===0)return 0;let r=0;for(let s=0;s<n;s++)r+=(2*(s+1)-n-1)*t[s];const a=t.reduce((s,l)=>s+l,0);return r/(n*a)}updateStatistics(t,n){this.statistics.totalCycles=n;const r=t.filter(a=>{var s;return(s=a.economics)==null?void 0:s.alive});if(r.length>0){const a=r.reduce((s,l)=>s+l.economics.productivity,0)/r.length;this.statistics.productivityTrends.push(a)}this.market.totalTrades>0&&(this.statistics.tradeMetrics.marketEfficiency=this.market.tradeVolume/this.market.totalTrades)}getEnhancedEconomicStats(t){const n=super.getEconomicStats(t),r=t.filter(d=>{var f;return(f=d.economics)==null?void 0:f.alive});if(r.length===0)return{...n,enhanced:{totalWealth:0,averageWealth:0,wealthDistribution:{gini:0,top10Percent:0,bottom10Percent:0},marketMetrics:this.market,economicCycle:this.economicCycle,tradeMetrics:this.statistics.tradeMetrics,investmentMetrics:this.statistics.investmentMetrics}};const a=r.map(d=>d.economics.wealth).sort((d,f)=>f-d),s=a.reduce((d,f)=>d+f,0),l=Math.floor(a.length*.1),u=Math.floor(a.length*.9);return{...n,enhanced:{totalWealth:s,averageWealth:s/r.length,wealthDistribution:{gini:this._calculateGiniCoefficient([...a].sort((d,f)=>d-f)),top10Percent:a.slice(0,l).reduce((d,f)=>d+f,0)/s,bottom10Percent:a.slice(u).reduce((d,f)=>d+f,0)/s,median:a[Math.floor(a.length/2)],range:{min:a[a.length-1],max:a[0]}},marketMetrics:{...this.market,priceVolatility:this._calculatePriceVolatility(),tradingActivity:this.market.totalTrades/Math.max(1,this.statistics.totalCycles)},economicCycle:this.economicCycle,tradeMetrics:this.statistics.tradeMetrics,investmentMetrics:this.statistics.investmentMetrics,trends:{wealthGrowth:this._calculateWealthGrowthTrend(),productivityTrend:this._calculateProductivityTrend(),mortalityTrend:this._calculateMortalityTrend()}}}}_calculatePriceVolatility(){if(this.market.priceHistory.length<2)return 0;const t=this.market.priceHistory.slice(-20),n=[];for(let s=1;s<t.length;s++)n.push((t[s]-t[s-1])/t[s-1]);const r=n.reduce((s,l)=>s+l,0)/n.length,a=n.reduce((s,l)=>s+Math.pow(l-r,2),0)/n.length;return Math.sqrt(a)}_calculateWealthGrowthTrend(){if(this.statistics.wealthDistribution.length<2)return 0;const t=this.statistics.wealthDistribution.slice(-10),n=t[0];return(t[t.length-1]-n)/Math.max(1,n)}_calculateProductivityTrend(){if(this.statistics.productivityTrends.length<2)return 0;const t=this.statistics.productivityTrends.slice(-10),n=t[0];return(t[t.length-1]-n)/Math.max(1,n)}_calculateMortalityTrend(){if(this.statistics.mortalityRates.length<2)return 0;const t=this.statistics.mortalityRates.slice(-10);return t.reduce((n,r)=>n+r,0)/t.length}_logEvent(t,n,r=ir.INFO){this.eventLogger&&this.eventLogger.logEvent(t,n,r)}exportEnhancedStats(t="json"){const n={economicCycle:this.economicCycle,market:this.market,statistics:this.statistics,timestamp:new Date().toISOString()};switch(t){case"json":return JSON.stringify(n,null,2);case"csv":return this._exportStatsToCSV(n);default:return n}}_exportStatsToCSV(t){const n=[];return n.push("Metric,Value"),n.push(`Economic Phase,${t.economicCycle.phase}`),n.push(`Cycle Intensity,${t.economicCycle.intensity}`),n.push(`Market Price,${t.market.resourcePrice}`),n.push(`Total Trades,${t.market.totalTrades}`),n.push(`Trade Volume,${t.market.tradeVolume}`),n.push(`Total Cycles,${t.statistics.totalCycles}`),n.join(`
`)}}const Zr={DICTATORSHIP:"dictatorship",DEMOCRACY:"democracy",LAWLESSNESS:"lawlessness"},Bs={HALF:"half",THIRD:"third",QUARTER:"quarter",FIFTH:"fifth",EQUAL:"equal"};class T_{constructor(t={},n=null){this.minClanSize=t.minClanSize||3,this.densityThreshold=t.densityThreshold||.2,this.clans=[],this.clanHistory=[],this.eventLogger=n}identifyClans(t,n){this.clans=[];const r=t.filter(s=>s.economics&&s.economics.alive);return this._groupByClusters(r).forEach((s,l)=>{if(s.length<this.minClanSize)return;const u=s.map(f=>t.indexOf(f)),d=this._calculateDensity(u,n);if(d>=this.densityThreshold){const f={id:this.clans.length,members:s,memberIndices:u,density:d,strength:0,totalResources:0,decision:null};f.strength=this._calculateClanStrength(f,n),f.totalResources=this._calculateClanResources(f),this.clans.push(f),this.eventLogger&&this.eventLogger.logEvent&&this.eventLogger.logEvent("clan_formed",{clanId:f.id,memberCount:f.members.length,density:f.density,strength:f.strength,resources:f.totalResources})}}),this.clanHistory.push({timestamp:Date.now(),clans:this.clans.map(s=>({id:s.id,size:s.members.length,density:s.density,strength:s.strength,resources:s.totalResources}))}),this.clans}_groupByClusters(t){const n=new Map;return t.forEach(r=>{const a=r.cluster!==void 0?r.cluster:0;n.has(a)||n.set(a,[]),n.get(a).push(r)}),n}_calculateDensity(t,n){const r=t.length;if(r<2)return 0;const a=r*(r-1)/2;let s=0,l=0;const u=.1;for(let m=0;m<t.length;m++)for(let g=m+1;g<t.length;g++){const y=t[m],x=t[g];if(n[y]&&n[y][x]!==void 0){const S=n[y][x];S>=u&&(s+=S,l++)}}if(l===0)return 0;const d=l/a,f=s/l;return d*f}_calculateClanStrength(t,n){let r=0;return t.memberIndices.forEach(a=>{const s=this._calculateAgentStrength(a,t.memberIndices,n);r+=s}),r}_calculateAgentStrength(t,n,r){let a=0,s=0,l=0,u=0;if(!r[t])return 0;n.forEach(x=>{if(x!==t){const S=r[t][x]||0;S>0&&(a+=S,l++)}});for(let x=0;x<r[t].length;x++)if(x!==t&&!n.includes(x)){const S=r[t][x]||0;S>0&&(s+=S*.5,u++)}const d=l>0?a/l:0,f=u>0?s/u:0,m=l*2+u,g=m>0?(d*l*2+f*u)/m:0,y=Math.sqrt(l+u*.5);return g*(1+y*.1)}_calculateClanResources(t){let n=0;return t.members.forEach(r=>{r.economics&&r.economics.alive&&(n+=r.economics.currentResources||0)}),n}makeClanDecision(t){const n={[Zr.DICTATORSHIP]:0,[Zr.DEMOCRACY]:0,[Zr.LAWLESSNESS]:0},r=t.totalResources/t.members.length;t.members.forEach((u,d)=>{if(!u.economics||!u.economics.alive)return;const f=t.memberIndices[d],m=this._calculateAgentStrength(f,t.memberIndices,[]),g=u.economics.currentResources/r,y=10/Math.max(1,u.economics.currentResources);let x=0,S=0;m>t.strength/t.members.length&&g>1.2?(x=.6,S=.3):m<t.strength/t.members.length&&g<.8?(x=.1,S=.7):y>1.5?(x=.2,S=.2):(x=.2,S=.6);const _=Math.random();_<x?n[Zr.DICTATORSHIP]++:_<x+S?n[Zr.DEMOCRACY]++:n[Zr.LAWLESSNESS]++});let a=0,s=Zr.DEMOCRACY;Object.entries(n).forEach(([u,d])=>{d>a&&(a=d,s=u)});let l=null;if(s===Zr.DEMOCRACY){const u=Object.values(Bs);l=u[Math.floor(Math.random()*u.length)]}return t.decision={rule:s,subrule:l,votes:n,timestamp:Date.now()},{rule:s,subrule:l}}distributeResources(t,n,r){t.decision||this.makeClanDecision(t);const a=t.decision.rule,s=t.decision.subrule;switch(a){case Zr.DICTATORSHIP:this._distributeDictatorship(t,n,r);break;case Zr.DEMOCRACY:this._distributeDemocracy(t,n,r,s);break}t.members.forEach(l=>{l.economics&&l.economics.alive&&(l.economics.accumulatedResources+=l.economics.currentResources)})}_distributeDictatorship(t,n,r){let a=null,s=0;if(t.memberIndices.forEach(m=>{const g=this._calculateAgentStrength(m,t.memberIndices,n);g>s&&(s=g,a=r[m])}),!a||!a.economics)return;const l=10,u=.6;let d=0;t.members.forEach(m=>{if(m.economics&&m.economics.alive&&m!==a){const y=Math.max(0,m.economics.currentResources-l*1.5)*u;d+=y,m.economics.currentResources-=y}});const f=.1;a.economics.currentResources+=d*(1-f)}_distributeDemocracy(t,n,r,a){const s=t.memberIndices.map(u=>({index:u,agent:r[u],strength:this._calculateAgentStrength(u,t.memberIndices,n)})).filter(u=>u.agent.economics&&u.agent.economics.alive).sort((u,d)=>d.strength-u.strength);if(s.length===0)return;let l=0;if(s.forEach(({agent:u})=>{const d=Math.max(0,u.economics.currentResources-u.economics.minSurvival);l+=d,u.economics.currentResources=u.economics.minSurvival}),!(l<=0))switch(a){case Bs.EQUAL:this._distributeEqual(s,l);break;case Bs.HALF:this._distributeProportional(s,l,.5);break;case Bs.THIRD:this._distributeProportional(s,l,1/3);break;case Bs.QUARTER:this._distributeProportional(s,l,.25);break;case Bs.FIFTH:this._distributeProportional(s,l,.2);break;default:this._distributeEqual(s,l)}}_distributeEqual(t,n){const r=n/t.length;t.forEach(({agent:a})=>{a.economics.currentResources+=r})}_distributeProportional(t,n,r){if(t.length===0||n<=0)return;if(t.length===1){t[0].agent.economics.currentResources+=n;return}const a=n*r;t[0].agent.economics.currentResources+=a;const s=n-a,l=t.slice(1);l.length>0&&this._distributeProportional(l,s,r)}distributeResourcesBetweenClans(t,n=null){if(this.clans.length===0)return;const r=n?n.minSurvival:10,a=2.5,s=[...this.clans].sort((y,x)=>x.strength-y.strength);let l=0;const u=new Map;if(t.forEach(y=>{if(y.economics&&y.economics.alive){const x=r*a,S=Math.max(0,y.economics.currentResources-x);S>0&&(l+=S,u.set(y.id,S),y.economics.currentResources-=S)}}),l<=0)return;this.eventLogger&&this.eventLogger.logEvent&&this.eventLogger.logEvent("inter_clan_distribution",{totalSurplus:l,clansCount:s.length,bufferZone:r*a});const d=s.reduce((y,x)=>y+x.strength,0);if(d===0)return;let f=0;s.forEach(y=>{const x=y.strength/d*l*.8;f+=x;const S=y.members.filter(b=>b.economics&&b.economics.alive);if(S.length===0)return;const _=x/S.length;S.forEach(b=>{b.economics.currentResources+=_})});const m=l-f,g=this.getFreeAgents(t);if(g.length>0&&m>0){const y=m/g.length;g.forEach(x=>{x.economics&&x.economics.alive&&(x.economics.currentResources+=y)})}}getFreeAgents(t){const n=new Set;return this.clans.forEach(r=>{r.members.forEach(a=>{n.add(a.id)})}),t.filter(r=>r.economics&&r.economics.alive&&!n.has(r.id))}getFreeAgentsStats(t){const n=this.getFreeAgents(t);if(n.length===0)return{count:0,totalResources:0,averageResources:0,minResources:0,maxResources:0};let r=0,a=1/0,s=-1/0;return n.forEach(l=>{const u=l.economics.currentResources||0;r+=u,a=Math.min(a,u),s=Math.max(s,u)}),{count:n.length,totalResources:r,averageResources:r/n.length,minResources:a===1/0?0:a,maxResources:s===-1/0?0:s,agents:n.map(l=>({id:l.id,resources:l.economics.currentResources||0,accumulated:l.economics.accumulatedResources||0}))}}getClanStats(){return this.getClanStatistics()}getClanStatistics(){if(this.clans.length===0)return{totalClans:0,totalMembers:0,aliveMembers:0,deadMembers:0,survivalRate:0,averageSize:0,averageDensity:0,averageStrength:0,totalResources:0,averageResources:0,clans:[]};const t=this.clans.reduce((u,d)=>u+d.members.filter(f=>f.economics&&f.economics.alive).length,0),n=this.clans.reduce((u,d)=>u+d.members.length,0),r=n-t,a=this.clans.reduce((u,d)=>u+(d.totalResources||0),0),s=this.clans.reduce((u,d)=>u+(d.strength||0),0),l=this.clans.reduce((u,d)=>u+(d.density||0),0);return{totalClans:this.clans.length,totalMembers:n,aliveMembers:t,deadMembers:r,survivalRate:n>0?parseFloat((t/n*100).toFixed(1)):0,averageSize:parseFloat((n/this.clans.length).toFixed(1)),averageDensity:parseFloat((l/this.clans.length).toFixed(2)),averageStrength:parseFloat((s/this.clans.length).toFixed(1)),totalResources:Math.round(a),averageResources:t>0?parseFloat((a/t).toFixed(1)):0,clans:this.clans.map(u=>{const d=u.members.filter(y=>y.economics&&y.economics.alive).length,f=u.members.length-d,m=u.members.length>0?d/u.members.length*100:0,g=u.members.filter(y=>y.economics&&y.economics.alive).reduce((y,x)=>y+(x.economics.currentResources||0),0);return{id:u.id,size:u.members.length,aliveMembers:d,deadMembers:f,survivalRate:parseFloat(m.toFixed(1)),density:parseFloat((u.density||0).toFixed(2)),strength:parseFloat((u.strength||0).toFixed(1)),resources:Math.round(g),averageResourcesPerMember:d>0?parseFloat((g/d).toFixed(1)):0,rule:u.decision?u.decision.rule:"none",subrule:u.decision?u.decision.subrule:null,efficiency:parseFloat(this._calculateClanEfficiency(u).toFixed(2)),productivity:parseFloat(this._calculateClanProductivity(u).toFixed(1)),consumption:parseFloat(this._calculateClanConsumption(u).toFixed(1))}})}}getClanHistory(){return this.clanHistory}getClan(t){return this.clans.find(n=>n.id===t)}reset(){this.clans=[],this.clanHistory=[]}_calculateClanEfficiency(t){if(!t.members||t.members.length===0)return 0;const n=t.members.filter(a=>a.economics&&a.economics.alive);return n.length===0?0:n.reduce((a,s)=>a+(s.economics.productivity||1),0)/n.length*t.density}_calculateClanProductivity(t){if(!t.members||t.members.length===0)return 0;const n=t.members.filter(r=>r.economics&&r.economics.alive);return n.length===0?0:t.totalResources/n.length}_calculateClanConsumption(t){if(!t.members||t.members.length===0)return 0;const n=t.members.filter(r=>r.economics&&r.economics.alive);return n.length===0?0:n.length*10}}class ude{constructor(t={},n=null){this.polarizationFactor=t.polarizationFactor||3,this.resourceStealRatio=t.resourceStealRatio||2/3,this.conflictHistory=[],this.eventLogger=n}_sigmoid(t){return 1/(1+Math.exp(-t))}executeConflict(t,n,r,a){if(!t||!n)return console.warn("ConflictMechanics: Invalid clans for conflict"),null;const s={timestamp:Date.now(),attackerId:t.id,victimId:n.id,attackerSize:t.members.length,victimSize:n.members.length,attackerStrength:t.strength,victimStrength:n.strength,stolenResources:0,polarizedConnections:0,supporters:{attacker:[],victim:[],neutral:[]}},l=this._selectSides(t,n,r,a);s.supporters=l;const u=t.strength+l.attackerSupportStrength,d=n.strength+l.victimSupportStrength;console.log(`Конфликт: Клан ${t.id} (сила ${u.toFixed(1)}) vs Клан ${n.id} (сила ${d.toFixed(1)})`),console.log(`  Поддержка атакующего: ${l.attacker.length} агентов`),console.log(`  Поддержка жертвы: ${l.victim.length} агентов`),console.log(`  Нейтральные: ${l.neutral.length} агентов`);const f=this._stealResourcesWithSupport(t,n,l,u,d,r,a);s.stolenResources=f;const m=this._polarizeConnections(t,n,r,a);return s.polarizedConnections=m,this.conflictHistory.push(s),this.eventLogger&&(this.eventLogger.logEvent("conflict_initiated",{attackerId:t.id,victimId:n.id,attackerStrength:u,victimStrength:d,stolenResources:f,attackerSupport:l.attacker.length,victimSupport:l.victim.length},"warning"),f>0&&this.eventLogger.logEvent("resource_theft",{attackerId:t.id,victimId:n.id,amount:f},"warning")),s}_selectSides(t,n,r,a){const s={attacker:[],victim:[],neutral:[],attackerSupportStrength:0,victimSupportStrength:0},l=new Set(t.members.map(d=>d.id)),u=new Set(n.members.map(d=>d.id));return a.forEach((d,f)=>{if(!d.economics||!d.economics.alive||l.has(d.id)||u.has(d.id))return;let m=0,g=0;t.memberIndices.forEach(b=>{r[f]&&r[f][b]!==void 0&&(m+=r[f][b])}),n.memberIndices.forEach(b=>{r[f]&&r[f][b]!==void 0&&(g+=r[f][b])});const y=d.economics.currentResources/20,x=m+y*.2,S=g+1/Math.max(.1,y)*.1,_=.5;x>S+_?(s.attacker.push(d.id),s.attackerSupportStrength+=m):S>x+_?(s.victim.push(d.id),s.victimSupportStrength+=g):s.neutral.push(d.id)}),s}_stealResourcesWithSupport(t,n,r,a,s,l,u){let d=0;const f=10,m=a/Math.max(1,s),y=.3+this._sigmoid(m-1)*.4,x=Math.min(.5,n.members.length/20);if(n.members.forEach(S=>{if(S.economics&&S.economics.alive){const _=y*(1-x),b=S.economics.currentResources,O=Math.max(0,b-f*1.2)*_,T=S.economics.accumulatedResources*_*.5,E=O+T;d+=E,S.economics.currentResources-=O,S.economics.accumulatedResources-=T,S.economics.currentResources=Math.max(f,S.economics.currentResources),S.economics.accumulatedResources=Math.max(0,S.economics.accumulatedResources)}}),d>0&&t.members.length>0){const S=t.members.map(b=>{const j=u.indexOf(b);let O=0;return t.memberIndices.forEach(T=>{T!==j&&l[j]&&l[j][T]!==void 0&&(O+=l[j][T])}),{agent:b,strength:O}}),_=S.reduce((b,j)=>b+j.strength,0);if(_>0)S.forEach(({agent:b,strength:j})=>{if(b.economics&&b.economics.alive){const O=j/_*d;b.economics.currentResources+=O}});else{const b=d/t.members.length;t.members.forEach(j=>{j.economics&&j.economics.alive&&(j.economics.currentResources+=b)})}}return d}_polarizeConnections(t,n,r,a){let s=0;const l=t.strength/Math.max(1,n.strength),u=Math.min(2,Math.max(.5,l));return t.memberIndices.forEach(d=>{n.memberIndices.forEach(f=>{if(r[d]&&r[d][f]!==void 0){const m=r[d][f];if(m>0){const g=1-Math.exp(-u/2),y=m*(1-g);r[d][f]=y,r[f]&&r[f][d]!==void 0&&(r[f][d]=y),s++}}})}),s}getConflictHistory(){return this.conflictHistory}clearHistory(){this.conflictHistory=[]}processConflicts(t,n,r){const a=[];if(!t)return a;let s=[];if(t instanceof Map){if(t.size===0)return a;s=Array.from(t.values())}else if(Array.isArray(t)){if(t.length===0)return a;s=t}else return console.warn("ConflictMechanics: Unknown clans format",t),a;const l=[];return s.forEach(u=>{u&&u.decision&&u.decision.rule==="lawlessness"&&l.push(u)}),l.forEach(u=>{const d=[];if(s.forEach(f=>{f&&f!==u&&d.push(f)}),d.length>0){const f=d[Math.floor(Math.random()*d.length)],m=this.executeConflict(u,f,n,r);m&&a.push(m)}}),a}}function fde(e){return e&&typeof e=="object"&&typeof e.totalClans=="number"&&Array.isArray(e.clans)?e:e&&typeof e.getClanStats=="function"?e.getClanStats():e&&typeof e.getClanStatistics=="function"?e.getClanStatistics():{totalClans:0,averageSize:0,averageDensity:0,totalResources:0,clans:[]}}function dde(e){const{agents:t,topics:n,cycles:r=20,threshold:a=.3,economicEnabled:s=!1,economicParams:l={},clanParams:u={},conflictParams:d={},eventLogger:f=null,onCycleComplete:m=null}=e;if(!s)return tD(t,n,r,a);const g=l.economicCycleInterval||5;let y;try{y=new cde(l,f),console.log("Using EnhancedEconomicEngine with eventLogger")}catch(O){console.error("Failed to initialize enhanced economic engine, falling back to basic:",O),y=new lj(l)}let x;try{x=new T_(u,f),console.log("Using basic ClanSystem with eventLogger")}catch(O){console.error("Failed to initialize clan system:",O),x=new T_({},f)}const S=new ude(d,f);y.initializeAgentEconomics(t);const _=t.length,b=Array(_).fill().map(()=>Array(_).fill(0));for(let O=0;O<_;O++)for(let T=O+1;T<_;T++)b[O][T]=b[T][O]=.1+Math.random()*.2;const j={economic:[],clans:[],conflicts:[],survival:[]};for(let O=0;O<r;O++)if(m&&m(O),O%g!==0)hde(t,n,b,a,f);else{const E=pde(t,b,y,x,S,O,f);j.economic.push({cycle:O,...E.economic}),j.clans.push({cycle:O,...E.clans,freeAgents:E.freeAgents||{}}),E.conflicts.length>0&&j.conflicts.push({cycle:O,conflicts:E.conflicts}),j.survival.push({cycle:O,alive:t.filter(N=>N.economics&&N.economics.alive).length,dead:t.filter(N=>N.economics&&!N.economics.alive).length}),f&&f.logCycleEconomics({cycle:O,...E.economic}),console.log(`Цикл ${O}: ${E.economic.survived} выжило, ${E.economic.died} умерло`)}return{connections:b,agents:t,economicHistory:j}}function hde(e,t,n,r,a=null){const s=e.map((u,d)=>({agent:u,idx:d})).filter(({agent:u})=>!u.economics||u.economics.alive).map(({idx:u})=>u);if(s.length<2)return;const l=Math.floor(s.length*2);for(let u=0;u<l;u++){const d=s[Math.floor(Math.random()*s.length)],f=s[Math.floor(Math.random()*s.length)];if(d===f)continue;const m=e[d],g=e[f],y=n[d][f],x=mde(m,g,t),S=y*.5,_=Math.min(.8,x*.3+S+.2);if(Math.random()<_){const b=vde(m,g,t);let j=An(m.values,b.vector),O=An(g.values,b.vector);const T=(Math.random()-.5)*.2,E=(Math.random()-.5)*.2;j=Math.max(-1,Math.min(1,j+T)),O=Math.max(-1,Math.min(1,O+E));const N=Math.abs(j-O),C=y;if(N<r){const R=.15+Math.random()*.1;n[d][f]=n[f][d]=Math.min(1,y+R),a&&C<n[d][f]&&(C===0?a.logEvent("connection_formed",{agent1:d,agent2:f,strength:n[d][f],topic:b.name,opinionDifference:N}):a.logEvent("connection_strengthened",{agent1:d,agent2:f,oldStrength:C,newStrength:n[d][f],topic:b.name,opinionDifference:N}))}else{const R=.08+Math.random()*.05;n[d][f]=n[f][d]=Math.max(0,y-R),a&&C>n[d][f]&&(n[d][f]===0?a.logEvent("connection_broken",{agent1:d,agent2:f,oldStrength:C,topic:b.name,opinionDifference:N}):a.logEvent("connection_weakened",{agent1:d,agent2:f,oldStrength:C,newStrength:n[d][f],topic:b.name,opinionDifference:N})),a&&N>.7&&a.logEvent("polarization_event",{agent1:d,agent2:f,opinionDifference:N,topic:b.name})}}}}function pde(e,t,n,r,a,s=0,l=null){const u=n.executeEconomicCycle(e,t,s);let d=[];try{r.identifyClans&&typeof r.identifyClans=="function"?(d=r.identifyClans(e,t),console.log("Clans identified successfully:",d.length)):console.warn("identifyClans method not available")}catch(S){console.error("Error in clan formation:",S),d=[]}let f=d;if(Array.isArray(d)&&(f=new Map,d.forEach((S,_)=>{f.set(S.id||_,S)})),f&&f.length>0)try{f instanceof Map?f.forEach(S=>{r.makeClanDecision&&typeof r.makeClanDecision=="function"&&r.makeClanDecision(S)}):Array.isArray(f)&&f.forEach(S=>{r.makeClanDecision&&typeof r.makeClanDecision=="function"&&r.makeClanDecision(S)})}catch(S){console.error("Error in clan decision making:",S)}let m=[];try{a&&a.processConflicts&&typeof a.processConflicts=="function"&&(m=a.processConflicts(f,t,e))}catch(S){console.error("Error in conflict processing:",S),m=[]}if(f&&r.distributeResources&&typeof r.distributeResources=="function")try{f instanceof Map?f.forEach(S=>{S.decision&&S.decision.rule!=="lawlessness"&&r.distributeResources(S,t,e)}):Array.isArray(f)&&f.forEach(S=>{S.decision&&S.decision.rule!=="lawlessness"&&r.distributeResources(S,t,e)})}catch(S){console.error("Error in resource distribution:",S)}if(r.distributeInterClanSurplus&&typeof r.distributeInterClanSurplus=="function")try{r.distributeInterClanSurplus(e,t)}catch(S){console.error("Error in inter-clan distribution:",S)}let g={};try{r.getEnhancedClanStats&&typeof r.getEnhancedClanStats=="function"?g=r.getEnhancedClanStats(f):r.getClanStats&&typeof r.getClanStats=="function"?g=r.getClanStats():g=fde(r)}catch(S){console.error("Error getting clan stats:",S),g={}}let y={};try{n.getEnhancedEconomicStats&&typeof n.getEnhancedEconomicStats=="function"?y=n.getEnhancedEconomicStats(e):n.getEconomicStats&&typeof n.getEconomicStats=="function"&&(y=n.getEconomicStats(e))}catch(S){console.error("Error getting economic stats:",S),y={}}let x={};try{r.getFreeAgentsStats&&typeof r.getFreeAgentsStats=="function"&&(x=r.getFreeAgentsStats(e))}catch(S){console.error("Error getting free agents stats:",S),x={}}return{economic:u,economicStats:y,clans:g,freeAgents:x,conflicts:m,events:[]}}function mde(e,t,n,r=.4,a=.3,s=.1){const l=Math.max(0,An(e.values,t.values));let u=0;n.forEach(f=>{const m=Math.max(0,An(e.values,f.vector)),g=Math.max(0,An(t.values,f.vector));u+=Math.min(m,g)}),u/=n.length;const d=r*l+a*u+s;return Math.max(0,Math.min(1,d))}function vde(e,t,n){const r=n.map(l=>{const u=Math.max(0,An(e.values,l.vector)),d=Math.max(0,An(t.values,l.vector));return(u+d)/2}),a=r.reduce((l,u)=>l+u,0);if(a===0)return n[0];let s=Math.random()*a;for(let l=0;l<n.length;l++)if(s-=r[l],s<=0)return n[l];return n[n.length-1]}function gde(e,t,n,r){const a=new lj({}),s=new T_({});a.initializeAgentEconomics&&a.initializeAgentEconomics(e);const l=a.getEconomicStats?a.getEconomicStats(e):{},u=s.getClanStats?s.getClanStats():{};return{current:{economic:l,clans:u,events:r||[]},history:{economic:t||[],clans:n||[],events:r||[]},analytics:{economicTrends:yde(t),clanEvolution:xde(n),eventPatterns:bde(r)}}}function yde(e){if(!e||e.length<2)return{trend:"insufficient_data",growth:0,volatility:0};const t=e.map(l=>l.averageResources||0),n=(t[t.length-1]-t[0])/Math.max(1,t[0]),r=[];for(let l=1;l<t.length;l++)r.push((t[l]-t[l-1])/Math.max(1,t[l-1]));const a=r.reduce((l,u)=>l+u,0)/r.length,s=Math.sqrt(r.reduce((l,u)=>l+Math.pow(u-a,2),0)/r.length);return{trend:n>.1?"growth":n<-.1?"decline":"stable",growth:n,volatility:s,peakValue:Math.max(...t),minValue:Math.min(...t)}}function xde(e){if(!e||e.length<2)return{evolution:"insufficient_data",stability:0};const t=e.map(s=>Object.keys(s).length),n=t.reduce((s,l)=>s+l,0)/t.length,a=1/(1+t.reduce((s,l)=>s+Math.pow(l-n,2),0)/t.length);return{evolution:a>.8?"stable":a>.5?"dynamic":"chaotic",stability:a,averageClanCount:n,maxClans:Math.max(...t),minClans:Math.min(...t)}}function bde(e){if(!e||e.length===0)return{patterns:"no_events",frequency:0};const t={};e.forEach(a=>{const s=a.type||"unknown";t[s]=(t[s]||0)+1});const n=e.length,r=Object.entries(t).sort(([,a],[,s])=>s-a)[0];return{patterns:r?r[0]:"unknown",frequency:n,eventTypes:t,mostCommon:r?{type:r[0],count:r[1],percentage:(r[1]/n*100).toFixed(1)}:null}}const vn=({children:e,onClick:t,className:n="",variant:r="primary",disabled:a=!1})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:hover:bg-transparent",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:hover:bg-gray-600"};return p.jsx("button",{onClick:t,disabled:a,className:`${s} ${l[r]} ${n}`,children:e})};function wde(){const[e,t]=$.useState({agentCount:150,cycles:50,threshold:.1,vectorDimension:10,numClusters:3,recalculateClustersAfter:0,scenario:"A"}),[n,r]=$.useState({numTopics:10,topics:[]}),[a,s]=$.useState({clusterOpinions:{},customMatrix:null}),[l,u]=$.useState(null),[d,f]=$.useState(null),[m,g]=$.useState(""),[y,x]=$.useState(!1),[S,_]=$.useState(null),[b,j]=$.useState("setup"),[O,T]=$.useState(!1),[E,N]=$.useState(null),[C,R]=$.useState(null),[M,P]=$.useState(null),[B,D]=$.useState([]),[I,z]=$.useState({enabled:!0,baseProductivity:7,minSurvival:10,maxMultiplier:2.5,strongConnectionThreshold:.3,connectionBonus:.4,accumulationRate:.3,economicCycleInterval:5,tradeEnabled:!0,investmentEnabled:!0}),[L,H]=$.useState({minClanSize:3,densityThreshold:.2,polarizationFactor:3,resourceStealRatio:2/3}),[k,U]=$.useState(null),[G,V]=$.useState(null),[F,X]=$.useState(null),[W,Y]=$.useState(null),[ee,se]=$.useState(0);$.useEffect(()=>{const le=Array.from({length:n.numTopics},(fe,ie)=>({id:ie,name:`Тема ${ie+1}`,type:"random",targetCluster:0,proximityLevel:.5,customVector:null}));r(fe=>({...fe,topics:le}))},[n.numTopics]),$.useEffect(()=>{const le={};for(let fe=0;fe<e.numClusters;fe++)le[fe]=Array.from({length:n.numTopics},()=>0);s(fe=>({...fe,clusterOpinions:le}))},[e.numClusters,n.numTopics]);const re=le=>{t(fe=>({...fe,...le})),le.topicSettings&&r(le.topicSettings),le.opinionSettings&&s(le.opinionSettings)},de=(le,fe)=>{const ie=le.target.files[0];ie&&Qr.parse(ie,{complete:Ce=>{var Ae,Q;try{const ne=Ce.data.filter(he=>he.some(pe=>pe.trim()!==""));if(fe==="agents"){const he=ne.map(pe=>pe.map(ye=>parseFloat(ye)||0));N(he),t(pe=>{var ye;return{...pe,agentCount:he.length,vectorDimension:((ye=he[0])==null?void 0:ye.length)||pe.vectorDimension}})}else if(fe==="topics"){console.log("Загружаем темы, данные:",ne);const he=(Q=(Ae=ne[0])==null?void 0:Ae[0])==null?void 0:Q.toString().trim(),pe=!isNaN(parseFloat(he))&&isFinite(he),ye=!pe&&he&&he.length>0;console.log("Первая ячейка:",he),console.log("Является ли числом:",pe),console.log("Есть ли названия тем?",ye);let we,Oe;const je=["Политика","В мире","Экономика","Общество","Армия","Наука","Спорт","Культура","Религия","Туризм","Redbull","Zara"];ye?(Oe=ne.map(Ne=>{var $e;return(($e=Ne[0])==null?void 0:$e.toString().trim())||""}),we=ne.map(Ne=>Ne.slice(1).map($e=>parseFloat($e)||0)),console.log("Извлеченные названия тем:",Oe)):(we=ne.map(Ne=>Ne.map($e=>parseFloat($e)||0)),Oe=we.map((Ne,$e)=>je[$e]||`Тема ${$e+1}`),console.log("Используем предопределенные названия:",Oe)),console.log("Финальные названия тем:",Oe),console.log("Векторы тем:",we),R(we),P(Oe),r(Ne=>({...Ne,numTopics:we.length}))}}catch(ne){_(`Ошибка при загрузке файла: ${ne.message}`)}},header:!1,skipEmptyLines:!0})},ge=async()=>{x(!0),_(null);try{const le=lq(e.agentCount,e.vectorDimension,e.numClusters,E);let fe;const ie=["Политика","В мире","Экономика","Общество","Армия","Наука","Спорт","Культура","Религия","Туризм","Redbull","Zara"];C?fe=C.map((pe,ye)=>({id:ye,vector:pe,name:(M==null?void 0:M[ye])||ie[ye]||`Тема ${ye+1}`})):(fe=cq(e.vectorDimension,e.scenario,le.clusterCenters,null,null,e.numClusters,e.recalculateClustersAfter,le.agents),fe=fe.map((pe,ye)=>{const we=n.topics[ye];if((we==null?void 0:we.type)==="cluster-aligned"&&we.targetCluster!==void 0){const Oe=le.clusterCenters[we.targetCluster],je=we.proximityLevel||.5,Ne=Oe.map($e=>$e*je+(Math.random()-.5)*(1-je));return{...pe,vector:Ne,name:we.name||pe.name}}return{...pe,name:(we==null?void 0:we.name)||ie[ye]||`Тема ${ye+1}`}})),le.agents.forEach(pe=>{pe.opinions={},fe.forEach(ye=>{var we;if(a.customMatrix){const Oe=a.customMatrix[pe.id];pe.opinions[ye.id]=(Oe==null?void 0:Oe[ye.id])||0}else{const Oe=((we=a.clusterOpinions[pe.cluster])==null?void 0:we[ye.id])||0,je=(Math.random()-.5)*.3;pe.opinions[ye.id]=Math.max(-1,Math.min(1,Oe+je))}})});const{EventLogger:Ce}=await oq(async()=>{const{EventLogger:pe}=await Promise.resolve().then(()=>lde);return{EventLogger:pe}},void 0),Ae=new Ce;Y(Ae),se(0);const Q=I.enabled?dde({agents:le.agents,topics:fe,cycles:e.cycles,threshold:e.threshold,economicEnabled:!0,economicParams:I,clanParams:L,conflictParams:{polarizationFactor:L.polarizationFactor,resourceStealRatio:L.resourceStealRatio},eventLogger:Ae,onCycleComplete:pe=>se(pe)}):tD(le.agents,fe,e.cycles,e.threshold,e.recalculateClustersAfter),ne=nD(Q.agents,Q.connections,e.threshold),he=dq(Q.agents,Q.connections,fe,e.scenario,e.cycles,e.threshold);if(I.enabled&&Q.economicHistory){const pe=gde(Q.agents,Q.economicHistory.economic,Q.economicHistory.clans,[]);U(pe.current.economic);const ye=Q.economicHistory.clans[Q.economicHistory.clans.length-1];if(ye&&V(ye),Q.economicHistory.conflicts.length>0){const we=Q.economicHistory.conflicts.flatMap(De=>De.conflicts),Oe=we.reduce((De,Qe)=>De+Qe.stolenResources,0),je=we.reduce((De,Qe)=>De+Qe.polarizedConnections,0),Ne={},$e={};we.forEach(De=>{Ne[De.attackerId]=(Ne[De.attackerId]||0)+1,$e[De.victimId]=($e[De.victimId]||0)+1});const et=Object.entries(Ne).reduce((De,[Qe,pt])=>pt>(De.count||0)?{id:parseInt(Qe),count:pt}:De,{}),ze=Object.entries($e).reduce((De,[Qe,pt])=>pt>(De.count||0)?{id:parseInt(Qe),count:pt}:De,{});X({totalConflicts:we.length,totalResourcesStolen:Oe,totalConnectionsPolarized:je,averageResourcesPerConflict:Oe/we.length,mostAggressiveClan:et.id!==void 0?et:null,mostVictimizedClan:ze.id!==void 0?ze:null})}}u(ne),f({...Q,topics:fe,agentData:le}),g(he),j("results")}catch(le){console.error("Ошибка симуляции:",le),_(le.message)}finally{x(!1)}},oe=le=>{if(d)try{let fe,ie,Ce;switch(le){case"csv":const he=d.connections.map((pe,ye)=>[ye,...pe].join(","));he.unshift(["Agent",...Array.from({length:d.agents.length},(pe,ye)=>ye)].join(",")),fe=he.join(`
`),ie="connection_matrix.csv",Ce="text/csv";break;case"json":fe=JSON.stringify({parameters:e,topicSettings:n,opinionSettings:a,results:d},null,2),ie="simulation_results.json",Ce="application/json";break;case"report":fe=m,ie="simulation_report.md",Ce="text/markdown";break;default:throw new Error("Неподдерживаемый формат экспорта")}const Ae=new Blob([fe],{type:Ce}),Q=window.URL.createObjectURL(Ae),ne=document.createElement("a");ne.href=Q,ne.download=ie,ne.click(),window.URL.revokeObjectURL(Q)}catch(fe){_(`Ошибка экспорта: ${fe.message}`)}};return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Визуализатор агентного моделирования"}),p.jsx("p",{className:"text-gray-600",children:"Расширенная версия с визуализацией мнений и детализированной аналитикой"})]}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsxs("div",{className:"flex flex-wrap justify-center gap-1 bg-white rounded-lg p-1 shadow-sm",children:[p.jsx(vn,{onClick:()=>j("setup"),variant:b==="setup"?"primary":"outline",className:"text-xs px-2 py-1",children:"Настройки"}),p.jsx(vn,{onClick:()=>j("vectors"),variant:b==="vectors"?"primary":"outline",className:"text-xs px-2 py-1",children:"Векторы"}),p.jsx(vn,{onClick:()=>j("clusters"),variant:b==="clusters"?"primary":"outline",className:"text-xs px-2 py-1",children:"Кластеры"}),p.jsx(vn,{onClick:()=>j("scenarios"),variant:b==="scenarios"?"primary":"outline",className:"text-xs px-2 py-1",children:"Сценарии"}),p.jsx(vn,{onClick:()=>j("economic"),variant:b==="economic"?"primary":"outline",className:"text-xs px-2 py-1",children:"Экономика"}),p.jsx(vn,{onClick:()=>j("clans"),variant:b==="clans"?"primary":"outline",className:"text-xs px-2 py-1",children:"Кланы"}),p.jsx(vn,{onClick:()=>j("statistics"),variant:b==="statistics"?"primary":"outline",disabled:!l,className:"text-xs px-2 py-1",children:"Статистика"}),p.jsx(vn,{onClick:()=>j("results"),variant:b==="results"?"primary":"outline",disabled:!l,className:"text-xs px-2 py-1",children:"Результаты"}),p.jsx(vn,{onClick:()=>j("analytics"),variant:b==="analytics"?"primary":"outline",disabled:!l,className:"text-xs px-2 py-1",children:"Аналитика"}),p.jsx(vn,{onClick:()=>j("ai"),variant:b==="ai"?"primary":"outline",disabled:!l,className:"text-xs px-2 py-1",children:"AI анализ"}),p.jsx(vn,{onClick:()=>j("export"),variant:b==="export"?"primary":"outline",disabled:!l,className:"text-xs px-2 py-1",children:"Экспорт"})]})}),S&&p.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[p.jsx("p",{className:"text-red-800",children:S}),p.jsx(vn,{onClick:()=>_(null),variant:"outline",className:"mt-2 text-sm",children:"Закрыть"})]}),b==="setup"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Основные параметры"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Количество агентов: ",e.agentCount]}),p.jsx("input",{type:"range",min:"10",max:"300",value:e.agentCount,onChange:le=>re({agentCount:parseInt(le.target.value)}),className:"w-full"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Циклы симуляции: ",e.cycles]}),p.jsx("input",{type:"range",min:"1",max:"50",value:e.cycles,onChange:le=>re({cycles:parseInt(le.target.value)}),className:"w-full"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Порог отображения связей: ",e.threshold]}),p.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:e.threshold,onChange:le=>re({threshold:parseFloat(le.target.value)}),className:"w-full"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Размерность вектора: ",e.vectorDimension]}),p.jsx("input",{type:"range",min:"2",max:"100",value:e.vectorDimension,onChange:le=>re({vectorDimension:parseInt(le.target.value)}),className:"w-full"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Количество кластеров: ",e.numClusters]}),p.jsx("input",{type:"range",min:"2",max:"10",value:e.numClusters,onChange:le=>re({numClusters:parseInt(le.target.value)}),className:"w-full"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Загрузка данных"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Загрузить векторы агентов (CSV)"}),p.jsx("input",{type:"file",accept:".csv",onChange:le=>de(le,"agents"),className:"w-full border border-gray-300 rounded-md px-3 py-2"}),E&&p.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Загружено ",E.length," агентов"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Загрузить векторы тем (CSV)"}),p.jsx("input",{type:"file",accept:".csv",onChange:le=>de(le,"topics"),className:"w-full border border-gray-300 rounded-md px-3 py-2"}),C&&p.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Загружено ",C.length," тем"]})]})]})]}),p.jsxs("div",{children:[p.jsxs(vn,{onClick:()=>T(!O),variant:"outline",className:"mb-4",children:[O?"Скрыть":"Показать"," расширенные настройки"]}),O&&p.jsx(vq,{currentScenario:e.scenario,onScenarioChange:le=>re({scenario:le}),simulationParams:e,onParamsChange:re})]}),p.jsx("div",{className:"text-center",children:p.jsx(vn,{onClick:ge,disabled:y,className:"px-8 py-3 text-lg",children:y?"Выполняется симуляция...":"Запустить симуляцию"})})]}),b==="vectors"&&p.jsx(A7,{simulationParams:e,onParamsChange:re,uploadedAgents:E,setUploadedAgents:N,uploadedTopics:C,setUploadedTopics:R,onError:_}),b==="clusters"&&p.jsx(Bse,{simulationParams:e,onParamsChange:re,rawSimulationData:d,onSaveClusterHistory:le=>{D(fe=>[...fe,le])}}),b==="scenarios"&&p.jsx(j7,{simulationParams:e,onParamsChange:re,topicSettings:n,setTopicSettings:r,opinionSettings:a,setOpinionSettings:s,onError:_}),b==="economic"&&p.jsx(Bfe,{params:I,onParamsChange:z,economicStats:k}),b==="clans"&&p.jsx(ade,{params:L,onParamsChange:H,clanStats:G,conflictStats:F}),b==="statistics"&&W&&p.jsx(ode,{eventLogger:W,currentCycle:ee}),b==="export"&&p.jsx(Tfe,{simulationData:l,rawSimulationData:d,simulationParams:e,topicSettings:n,opinionSettings:a,simulationReport:m,onError:_}),b==="analytics"&&p.jsx(Mfe,{rawSimulationData:d,simulationParams:e,topicSettings:n,onError:_}),b==="ai"&&p.jsx(Rfe,{simulationData:l,rawSimulationData:d,simulationParams:e,topicSettings:n,onError:_}),b==="results"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Экспорт результатов"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(vn,{onClick:()=>oe("csv"),variant:"outline",className:"text-sm",children:"Экспорт матрицы связей (CSV)"}),p.jsx(vn,{onClick:()=>oe("json"),variant:"outline",className:"text-sm",children:"Экспорт всех данных (JSON)"}),p.jsx(vn,{onClick:()=>oe("report"),variant:"outline",className:"text-sm",children:"Экспорт отчета (MD)"})]})]}),p.jsx(Dfe,{simulationData:l,rawSimulationData:d,simulationParams:e,topicSettings:n,opinionSettings:a,uploadedTopicNames:M})]})]})})}rq.createRoot(document.getElementById("root")).render(p.jsx($.StrictMode,{children:p.jsx(wde,{})}));
